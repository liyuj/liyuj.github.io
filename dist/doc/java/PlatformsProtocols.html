<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>12.平台和协议 | Apache Ignite中文站</title>
    <meta name="description" content="Ignite内存计算平台的中文文档及相关资料">
    <meta http-equiv="cache-control" content="no-store,no-cache,must-revalidate">
  <meta http-equiv="expires" content="0">
  <link rel="shortcut icon" type="image/x-icon" href="https://ignite.apache.org/favicon.ico">
  <script src="https://hm.baidu.com/hm.js?03f40be28ff9a31fd798fd6b9dac0946"></script>
    
    <link rel="preload" href="/assets/css/0.styles.f86987ee.css" as="style"><link rel="preload" href="/assets/js/app.7713a5ed.js" as="script"><link rel="preload" href="/assets/js/90.26cc2e16.js" as="script"><link rel="prefetch" href="/assets/js/10.8e8203a7.js"><link rel="prefetch" href="/assets/js/100.64422fc2.js"><link rel="prefetch" href="/assets/js/101.1179ca52.js"><link rel="prefetch" href="/assets/js/102.f0fbcad1.js"><link rel="prefetch" href="/assets/js/103.6233b7f6.js"><link rel="prefetch" href="/assets/js/104.f2ec6a89.js"><link rel="prefetch" href="/assets/js/105.b5e05c6c.js"><link rel="prefetch" href="/assets/js/106.dabac401.js"><link rel="prefetch" href="/assets/js/107.8d478bfe.js"><link rel="prefetch" href="/assets/js/108.333839a6.js"><link rel="prefetch" href="/assets/js/109.65c8216c.js"><link rel="prefetch" href="/assets/js/11.202ada0f.js"><link rel="prefetch" href="/assets/js/110.c55987bd.js"><link rel="prefetch" href="/assets/js/111.1f5539d0.js"><link rel="prefetch" href="/assets/js/112.00dd9134.js"><link rel="prefetch" href="/assets/js/113.f456a29b.js"><link rel="prefetch" href="/assets/js/114.1111f87c.js"><link rel="prefetch" href="/assets/js/115.99d1fca5.js"><link rel="prefetch" href="/assets/js/116.5a7867ab.js"><link rel="prefetch" href="/assets/js/117.e4b1f5d2.js"><link rel="prefetch" href="/assets/js/12.da43ae1b.js"><link rel="prefetch" href="/assets/js/13.2a6fbeb4.js"><link rel="prefetch" href="/assets/js/14.65a7c9c4.js"><link rel="prefetch" href="/assets/js/15.722169a0.js"><link rel="prefetch" href="/assets/js/16.571393f5.js"><link rel="prefetch" href="/assets/js/17.899c831e.js"><link rel="prefetch" href="/assets/js/18.ea6a5616.js"><link rel="prefetch" href="/assets/js/19.040f7789.js"><link rel="prefetch" href="/assets/js/2.0b8aaecb.js"><link rel="prefetch" href="/assets/js/20.f628ebbf.js"><link rel="prefetch" href="/assets/js/21.73e1175c.js"><link rel="prefetch" href="/assets/js/22.9266b3a6.js"><link rel="prefetch" href="/assets/js/23.481de5ba.js"><link rel="prefetch" href="/assets/js/24.b45f18e6.js"><link rel="prefetch" href="/assets/js/25.645e0510.js"><link rel="prefetch" href="/assets/js/26.e630c248.js"><link rel="prefetch" href="/assets/js/27.40257737.js"><link rel="prefetch" href="/assets/js/28.f83517b5.js"><link rel="prefetch" href="/assets/js/29.5c7de173.js"><link rel="prefetch" href="/assets/js/3.d3c59160.js"><link rel="prefetch" href="/assets/js/30.b4412f36.js"><link rel="prefetch" href="/assets/js/31.437c8758.js"><link rel="prefetch" href="/assets/js/32.94fbab9a.js"><link rel="prefetch" href="/assets/js/33.4e198842.js"><link rel="prefetch" href="/assets/js/34.b5bbd597.js"><link rel="prefetch" href="/assets/js/35.cbeee8fd.js"><link rel="prefetch" href="/assets/js/36.6957cca2.js"><link rel="prefetch" href="/assets/js/37.d7bf8dbe.js"><link rel="prefetch" href="/assets/js/38.762b85ee.js"><link rel="prefetch" href="/assets/js/39.2d61f2a1.js"><link rel="prefetch" href="/assets/js/4.10c7f2ba.js"><link rel="prefetch" href="/assets/js/40.39c83aec.js"><link rel="prefetch" href="/assets/js/41.113a0d66.js"><link rel="prefetch" href="/assets/js/42.22ef9479.js"><link rel="prefetch" href="/assets/js/43.cbb0a84c.js"><link rel="prefetch" href="/assets/js/44.025632f3.js"><link rel="prefetch" href="/assets/js/45.25565275.js"><link rel="prefetch" href="/assets/js/46.f78db23a.js"><link rel="prefetch" href="/assets/js/47.5eb807f5.js"><link rel="prefetch" href="/assets/js/48.aab65a89.js"><link rel="prefetch" href="/assets/js/49.04294765.js"><link rel="prefetch" href="/assets/js/5.8a81e9fc.js"><link rel="prefetch" href="/assets/js/50.5304fc2e.js"><link rel="prefetch" href="/assets/js/51.8100c7b5.js"><link rel="prefetch" href="/assets/js/52.96c34a93.js"><link rel="prefetch" href="/assets/js/53.743ead38.js"><link rel="prefetch" href="/assets/js/54.7fc8cc30.js"><link rel="prefetch" href="/assets/js/55.c60d725a.js"><link rel="prefetch" href="/assets/js/56.84092c9a.js"><link rel="prefetch" href="/assets/js/57.af7ab3f6.js"><link rel="prefetch" href="/assets/js/58.ad40a388.js"><link rel="prefetch" href="/assets/js/59.e09ef91e.js"><link rel="prefetch" href="/assets/js/6.91205a0f.js"><link rel="prefetch" href="/assets/js/60.75589dfc.js"><link rel="prefetch" href="/assets/js/61.338a2e5a.js"><link rel="prefetch" href="/assets/js/62.0dc2b7a4.js"><link rel="prefetch" href="/assets/js/63.15bcd9a3.js"><link rel="prefetch" href="/assets/js/64.ee5dfcb3.js"><link rel="prefetch" href="/assets/js/65.690cb0d4.js"><link rel="prefetch" href="/assets/js/66.ef7fc66a.js"><link rel="prefetch" href="/assets/js/67.6a722259.js"><link rel="prefetch" href="/assets/js/68.dc286622.js"><link rel="prefetch" href="/assets/js/69.99de0332.js"><link rel="prefetch" href="/assets/js/7.3c31d9d0.js"><link rel="prefetch" href="/assets/js/70.64c87179.js"><link rel="prefetch" href="/assets/js/71.4fa1dabc.js"><link rel="prefetch" href="/assets/js/72.1320f18d.js"><link rel="prefetch" href="/assets/js/73.75b06019.js"><link rel="prefetch" href="/assets/js/74.5e39a5b8.js"><link rel="prefetch" href="/assets/js/75.723a4fee.js"><link rel="prefetch" href="/assets/js/76.d9b1514f.js"><link rel="prefetch" href="/assets/js/77.9e4db3de.js"><link rel="prefetch" href="/assets/js/78.d8eb1a5d.js"><link rel="prefetch" href="/assets/js/79.2fb70321.js"><link rel="prefetch" href="/assets/js/8.447d2fe0.js"><link rel="prefetch" href="/assets/js/80.501e0615.js"><link rel="prefetch" href="/assets/js/81.f47904ce.js"><link rel="prefetch" href="/assets/js/82.40ece1cf.js"><link rel="prefetch" href="/assets/js/83.3e991c38.js"><link rel="prefetch" href="/assets/js/84.f2afe05c.js"><link rel="prefetch" href="/assets/js/85.ba522441.js"><link rel="prefetch" href="/assets/js/86.1e708ae1.js"><link rel="prefetch" href="/assets/js/87.f2cf4473.js"><link rel="prefetch" href="/assets/js/88.c6603ddf.js"><link rel="prefetch" href="/assets/js/89.e13103a8.js"><link rel="prefetch" href="/assets/js/9.994821de.js"><link rel="prefetch" href="/assets/js/91.63ff2709.js"><link rel="prefetch" href="/assets/js/92.e11925b5.js"><link rel="prefetch" href="/assets/js/93.0c6a5335.js"><link rel="prefetch" href="/assets/js/94.027eac0c.js"><link rel="prefetch" href="/assets/js/95.6ba5bc4f.js"><link rel="prefetch" href="/assets/js/96.7a7ec032.js"><link rel="prefetch" href="/assets/js/97.78833ca8.js"><link rel="prefetch" href="/assets/js/98.74cd85eb.js"><link rel="prefetch" href="/assets/js/99.e1b978bf.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f86987ee.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Apache Ignite中文站</span></a> <div class="links" style="max-width:nullpx;"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/doc/java/" class="nav-link router-link-active">Java</a></div><div class="nav-item"><a href="/doc/cpp/" class="nav-link">C++</a></div><div class="nav-item"><a href="/doc/sql/" class="nav-link">SQL</a></div><div class="nav-item"><a href="/doc/integration/" class="nav-link">集成</a></div><div class="nav-item"><a href="/doc/spark/" class="nav-link">Ignite&amp;Spark</a></div><div class="nav-item"><a href="/doc/tools/" class="nav-link">工具</a></div><div class="nav-item"><a href="https://my.oschina.net/liyuj" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/confluent/" class="nav-link">Confluent平台</a></div><div class="nav-item"><a href="https://www.zybuluo.com/liyuj/note/230739" target="_blank" rel="noopener noreferrer" class="nav-link external">
  历史版本
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">最新版本</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/java/PlatformsProtocols.html" class="nav-link router-link-exact-active router-link-active">2.7.0</a></li><li class="dropdown-item"><!----> <a href="/doc/2.6.0/" class="nav-link">2.6.0</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/doc/java/" class="nav-link router-link-active">Java</a></div><div class="nav-item"><a href="/doc/cpp/" class="nav-link">C++</a></div><div class="nav-item"><a href="/doc/sql/" class="nav-link">SQL</a></div><div class="nav-item"><a href="/doc/integration/" class="nav-link">集成</a></div><div class="nav-item"><a href="/doc/spark/" class="nav-link">Ignite&amp;Spark</a></div><div class="nav-item"><a href="/doc/tools/" class="nav-link">工具</a></div><div class="nav-item"><a href="https://my.oschina.net/liyuj" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/confluent/" class="nav-link">Confluent平台</a></div><div class="nav-item"><a href="https://www.zybuluo.com/liyuj/note/230739" target="_blank" rel="noopener noreferrer" class="nav-link external">
  历史版本
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">最新版本</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/java/PlatformsProtocols.html" class="nav-link router-link-exact-active router-link-active">2.7.0</a></li><li class="dropdown-item"><!----> <a href="/doc/2.6.0/" class="nav-link">2.6.0</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/doc/java/" class="sidebar-link">1.基本概念</a></li><li><a href="/doc/java/Clustering.html" class="sidebar-link">2.集群化</a></li><li><a href="/doc/java/Key-ValueDataGrid.html" class="sidebar-link">3.键-值数据网格</a></li><li><a href="/doc/java/Security.html" class="sidebar-link">4.安全</a></li><li><a href="/doc/java/DataLoadingStreaming.html" class="sidebar-link">5.数据注入和流处理</a></li><li><a href="/doc/java/DistributedDataStructures.html" class="sidebar-link">6.分布式数据结构</a></li><li><a href="/doc/java/ComputeGrid.html" class="sidebar-link">7.计算网格</a></li><li><a href="/doc/java/ServiceGrid.html" class="sidebar-link">8.服务网格</a></li><li><a href="/doc/java/MessagingEvents.html" class="sidebar-link">9.消息和事件</a></li><li><a href="/doc/java/DurableMemory.html" class="sidebar-link">10.固化内存</a></li><li><a href="/doc/java/ProductionReadiness.html" class="sidebar-link">11.生产准备</a></li><li><a href="/doc/java/PlatformsProtocols.html" class="active sidebar-link">12.平台和协议</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/java/PlatformsProtocols.html#_12-1-概述" class="sidebar-link">12.1.概述</a></li><li class="sidebar-sub-header"><a href="/doc/java/PlatformsProtocols.html#_12-2-rest-api" class="sidebar-link">12.2.REST API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/java/PlatformsProtocols.html#_12-2-1-入门" class="sidebar-link">12.2.1.入门</a></li><li class="sidebar-sub-header"><a href="/doc/java/PlatformsProtocols.html#_12-2-2-数据类型" class="sidebar-link">12.2.2.数据类型</a></li><li class="sidebar-sub-header"><a href="/doc/java/PlatformsProtocols.html#_12-2-3-api参考" class="sidebar-link">12.2.3.API参考</a></li><li class="sidebar-sub-header"><a href="/doc/java/PlatformsProtocols.html#_12-2-4-常规配置" class="sidebar-link">12.2.4.常规配置</a></li><li class="sidebar-sub-header"><a href="/doc/java/PlatformsProtocols.html#_12-2-5-jetty-xml配置示例" class="sidebar-link">12.2.5.Jetty XML配置示例</a></li></ul></li><li class="sidebar-sub-header"><a href="/doc/java/PlatformsProtocols.html#_12-3-memcached" class="sidebar-link">12.3.Memcached</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/java/PlatformsProtocols.html#_12-3-1-配置" class="sidebar-link">12.3.1.配置</a></li><li class="sidebar-sub-header"><a href="/doc/java/PlatformsProtocols.html#_12-3-2-php" class="sidebar-link">12.3.2.PHP</a></li><li class="sidebar-sub-header"><a href="/doc/java/PlatformsProtocols.html#_12-3-3-java" class="sidebar-link">12.3.3.Java</a></li><li class="sidebar-sub-header"><a href="/doc/java/PlatformsProtocols.html#_12-3-4-python" class="sidebar-link">12.3.4.Python</a></li><li class="sidebar-sub-header"><a href="/doc/java/PlatformsProtocols.html#_12-3-5-ruby" class="sidebar-link">12.3.5.Ruby</a></li></ul></li><li class="sidebar-sub-header"><a href="/doc/java/PlatformsProtocols.html#_12-4-redis" class="sidebar-link">12.4.Redis</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/java/PlatformsProtocols.html#_12-4-1-java" class="sidebar-link">12.4.1.Java</a></li><li class="sidebar-sub-header"><a href="/doc/java/PlatformsProtocols.html#_12-4-2-python" class="sidebar-link">12.4.2.Python</a></li><li class="sidebar-sub-header"><a href="/doc/java/PlatformsProtocols.html#_12-4-3-php" class="sidebar-link">12.4.3.PHP</a></li></ul></li></ul></li><li><a href="/doc/java/Plugins.html" class="sidebar-link">13.插件</a></li><li><a href="/doc/java/Deployment.html" class="sidebar-link">14.部署</a></li><li><a href="/doc/java/MachineLearning.html" class="sidebar-link">15.机器学习网格</a></li><li><a href="/doc/java/Persistence.html" class="sidebar-link">16.持久化</a></li><li><a href="/doc/java/TestsAndBenchmarking.html" class="sidebar-link">17.基准测试</a></li><li><a href="/doc/java/Metrics.html" class="sidebar-link">18.指标</a></li><li><a href="/doc/java/ThinClients.html" class="sidebar-link">19.瘦客户端</a></li><li><a href="/doc/java/KubernetesDeployment.html" class="sidebar-link">20.Kubernetes部署</a></li><li><a href="/doc/java/DeepLearning.html" class="sidebar-link">21.深度学习</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="_12-平台和协议"><a href="#_12-平台和协议" aria-hidden="true" class="header-anchor">#</a> 12.平台和协议</h1> <h2 id="_12-1-概述"><a href="#_12-1-概述" aria-hidden="true" class="header-anchor">#</a> 12.1.概述</h2> <p>Ignite为主要的语言和技术，以原生库的形式提供了一套API，包括Java，.NET和C++，还支持包括REST、Memcached以及Redis在内的多种协议。</p> <h2 id="_12-2-rest-api"><a href="#_12-2-rest-api" aria-hidden="true" class="header-anchor">#</a> 12.2.REST API</h2> <p>Ignite提供了一个HTTP REST客户端，可以以REST的方式通过HTTP或者HTTPS协议与集群进行通信。REST API可以用于执行不同的操作，比如对缓存进行读/写，执行任务，获取各种指标等等。</p> <h3 id="_12-2-1-入门"><a href="#_12-2-1-入门" aria-hidden="true" class="header-anchor">#</a> 12.2.1.入门</h3> <p>要启用HTTP连接，确保在类路径中包含<code>ignite-rest-http</code>模块，在发布版中，这意味着将其从<code>IGNITE_HOME/libs/optional/</code>拷贝到<code>IGNITE_HOME/libs</code>中。</p> <p>不需要显式地进行配置，连接器就会自动启动，然后监听<code>8080</code>端口，可以通过<code>curl</code>检测其是否工作正常。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">'http://localhost:8080/ignite?cmd=version'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>请求参数可以通过URL传递，也可以通过表单的POST提交方式传递：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">'http://localhost:8080/ignite?cmd=put&amp;cacheName=myCache'</span> -X POST -H <span class="token string">'Content-Type: application/x-www-form-urlencoded'</span> -d <span class="token string">'key=testKey&amp;val=testValue'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>安全</strong></p> <p>通过REST协议，可以与集群建立安全的连接，怎么做呢，首先要通过<code>IgniteConfiguration.setAuthenticationEnabled(true)</code>方法开启集群的认证功能，注意目前只有开启持久化时认证功能才可用。</p> <p>服务端开启认证之后，就可以在REST连接串中提供<code>user=[user]&amp;password=[password]</code>参数进行用户认证了，成功之后会生成一个会话令牌，该令牌可以在该会话有效期内的任意命令中使用。</p> <p>请求认证有两种方式：</p> <p>1.使用带有<code>user=[user]&amp;password=[password]</code>参数的<code>authenticate</code>命令：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>https://[host]:[port]/ignite?cmd=authenticate&amp;user=[user]&amp;password=[password]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>2.在任意REST命令的连接串中，加上<code>user=[user]&amp;password=[password]</code>参数，下面使用<code>version</code>命令举例：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> http://[host]:[port]/ignite?cmd=version&amp;user=[user]&amp;password=[password]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面的例子中，需要将<code>[host]</code>, <code>[port]</code>, <code>[user]</code>和<code>[password]</code>替换为实际值。</p> <p>在浏览器中执行上面的字符串都会返回一个会话令牌，大概向下面这样：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;error&quot;</span><span class="token operator">:</span><span class="token null">null</span><span class="token punctuation">,</span><span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;EF6013FF590348CE91DEAE9870183BEF&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;response&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>获得这个令牌之后，就可以像下面这样，在连接串中加上<code>sessionToken</code>参数：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://[host]:[port]/ignite?cmd=top&amp;sessionToken=[sessionToken]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面的例子中，需要将<code>[host]</code>, <code>[port]</code>, <code>[sessionToken]</code>替换为实际值。</p> <div class="warning custom-block"><p class="custom-block-title">注意</p> <p>如果服务端开启了认证，那么用户的凭据或者令牌就是必须的，如果既不提供<code>sessionToken</code>，也不提供<code>user</code>和<code>password</code>会出错：<code>{&quot;successStatus&quot;:2,&quot;sessionToken&quot;:null,&quot;error&quot;:&quot;Failed to handle request - session token not found or invalid&quot;,&quot;response&quot;:null}</code>。</p></div> <div class="tip custom-block"><p class="custom-block-title">会话令牌过期</p> <p>会话令牌有效期只有<strong>30秒</strong>，如果使用一个过期的令牌会报错：<code>{&quot;successStatus&quot;:1,&quot;error&quot;:&quot;Failed to handle request - unknown session token (maybe expired session) [sesTok=12FFFD4827D149068E9FFF59700E5FDA]&quot;,&quot;sessionToken&quot;:null,&quot;response&quot;:null}</code>。如果要自定义过期时间，可以配置<code>IGNITE_REST_SESSION_TIMEOUT</code>系统参数，单位为秒。<br>
比如：<code>-DIGNITE_REST_SESSION_TIMEOUT=3600</code></p></div> <h3 id="_12-2-2-数据类型"><a href="#_12-2-2-数据类型" aria-hidden="true" class="header-anchor">#</a> 12.2.2.数据类型</h3> <p>对于<strong>put/get</strong>操作，REST API还可以通过<code>keyType</code>和<code>valueType</code>参数支持Java的内置类型，注意除非显式指定了下面提到的数据类型，REST协议会将键-值数据转换为<code>String</code>类型，这意味着集群中对数据的读写都是作为<code>String</code>的。</p> <table><thead><tr><th>REST键类型/值类型</th> <th>对应的Java类型</th></tr></thead> <tbody><tr><td><code>boolean</code></td> <td><code>java.lang.Boolean</code></td></tr> <tr><td><code>byte</code></td> <td><code>java.lang.Byte</code></td></tr> <tr><td><code>short</code></td> <td><code>java.lang.Short</code></td></tr> <tr><td><code>integer</code></td> <td><code>java.lang.Integer</code></td></tr> <tr><td><code>long</code></td> <td><code>java.lang.Long</code></td></tr> <tr><td><code>float</code></td> <td><code>java.lang.Float</code></td></tr> <tr><td><code>double</code></td> <td><code>java.lang.Double</code></td></tr> <tr><td><code>date</code></td> <td><code>java.sql.Date</code>，数值应该为<code>valueOf(String)</code>方法支持的格式，比如：2018-01-01</td></tr> <tr><td><code>time</code></td> <td><code>java.sql.Time</code>，数值应该为<code>valueOf(String)</code>方法支持的格式，比如：01:01:01</td></tr> <tr><td><code>timestamp</code></td> <td><code>java.sql.Timestamp</code>，数值应该为<code>valueOf(String)</code>方法支持的格式，比如：2018-02-18%2001:01:01</td></tr> <tr><td><code>uuid</code></td> <td><code>java.util.UUID</code></td></tr> <tr><td><code>IgniteUuid</code></td> <td><code>org.apache.ignite.lang.IgniteUuid</code></td></tr></tbody></table> <p>下面的<code>put</code>命令，带有<code>keyType=int</code>和<code>valueType=date</code>参数。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://[host]:[port]/ignite?cmd=put&amp;key=1&amp;val=2018-01-01&amp;cacheName=myCache&amp;keyType=int&amp;valueType=date
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>对应的<code>get</code>命令为：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://[host]:[port]/ignite?cmd=get&amp;key=1&amp;cacheName=myCache&amp;keyType=int&amp;valueType=date
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_12-2-3-api参考"><a href="#_12-2-3-api参考" aria-hidden="true" class="header-anchor">#</a> 12.2.3.API参考</h3> <ul><li><a href="#_12-2-3-1-%E8%BF%94%E5%9B%9E%E5%80%BC">返回值</a></li> <li><a href="#_12-2-3-2-log">log</a></li> <li><a href="#_12-2-3-3-version">version</a></li> <li><a href="#_12-2-3-4-decr">decr</a></li> <li><a href="#_12-2-3-5-incr">incr</a></li> <li><a href="#_12-2-3-6-cache">cache</a></li> <li><a href="#_12-2-3-7-cas">cas</a></li> <li><a href="#_12-2-3-8-prepend">prepend</a></li> <li><a href="#_12-2-3-9-append">append</a></li> <li><a href="#_12-2-3-10.rep">rep</a></li> <li><a href="#_12-2-3-11-getrep">getrep</a></li> <li><a href="#_12-2-3-12-repval">repval</a></li> <li><a href="#_12-2-3-13-rmvall">rmvall</a></li> <li><a href="#_12-2-3-14-rmvval">rmvval</a></li> <li><a href="#_12-2-3-15-rmv">rmv</a></li> <li><a href="#_12-2-3-16-getrmv">getrmv</a></li> <li><a href="#_12-2-3-17-add">add</a></li> <li><a href="#_12-2-3-18-putall">putall</a></li> <li><a href="#_12-2-3-19-put">put</a></li> <li><a href="#_12-2-3-20-getall">getall</a></li> <li><a href="#_12-2-3-21-get">get</a></li> <li><a href="#_12-2-3-22-conkey">conkey</a></li> <li><a href="#_12-2-3-23-conkeys">conkeys</a></li> <li><a href="#_12-2-3-24-getput">getput</a></li> <li><a href="#_12-2-3-25-putifabs">putifabs</a></li> <li><a href="#_12-2-3-26-getputifabs">getputifabs</a></li> <li><a href="#_12-2-3-27-size">size</a></li> <li><a href="#_12-2-3-28-getorcreate">getorcreate</a></li> <li><a href="#_12-2-3-29-destcache">destcache</a></li> <li><a href="#_12-2-3-30-node">node</a></li> <li><a href="#_12-2-3-31-top">top</a></li> <li><a href="#_12-2-3-32-exe">exe</a></li> <li><a href="#_12-2-3-33-res">res</a></li> <li><a href="#_12-2-3-34-qryexe">qryexe</a></li> <li><a href="#_12-2-3-35-qryfldexe">qryfldexe</a></li> <li><a href="#_12-2-3-36-qryfetch">qryfetch</a></li> <li><a href="#_12-2-3-37-qrycls">qrycls</a></li> <li><a href="#_12-2-3-38-metadata">metadata</a></li> <li><a href="#_12-2-3-39-qryscanexe">qryscanexe</a></li> <li><a href="#_12-2-3-40-activate">activate</a></li> <li><a href="#_12-2-3-41-deactivate">deactivate</a></li> <li><a href="#_12-2-3-42-currentstate">currentstate</a></li></ul> <p>在内部，Ignite使用Jetty来提供HTTP服务的功能，HTTP REST客户端可以使用<code>ConnectorConfiguration</code>进行配置。</p> <h4 id="_12-2-3-1-返回值"><a href="#_12-2-3-1-返回值" aria-hidden="true" class="header-anchor">#</a> 12.2.3.1.返回值</h4> <p>HTTP REST请求返回一个JSON对象，每一个命令都有一个类似的结构，这个对象有如下的结构：</p> <table><thead><tr><th>名字</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>affinityNodeId</td> <td>string</td> <td>关联节点ID</td> <td>2bd7b049-3fa0-4c44-9a6d-b5c7a597ce37</td></tr> <tr><td>error</td> <td>string</td> <td>如果服务器无法处理请求，出现的错误的描述</td> <td>每个命令单独指定</td></tr> <tr><td>sessionToken</td> <td>String</td> <td>如果服务端开启认证，该字段包含了在会话有效期内可以用于其它命令的会话令牌，如果关闭认证，该字段为空。</td> <td>如果认证打开，EF6013FF590348CE91DEAE9870183BEF，否则为空</td></tr> <tr><td>response</td> <td>jsonObject</td> <td>该命令包含命令执行结果</td> <td>每个命令单独指定</td></tr> <tr><td>successStatus</td> <td>Integer</td> <td>返回状态码：<br>成功：0<br>失败：1<br>授权失败：2<br>安全检查失败：3</td> <td>0</td></tr></tbody></table> <h4 id="_12-2-3-2-log"><a href="#_12-2-3-2-log" aria-hidden="true" class="header-anchor">#</a> 12.2.3.2.log</h4> <p><strong>log</strong>命令显示服务器的日志。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=log&amp;from=10&amp;to=100&amp;path=/var/log/ignite.log
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>log</strong>，小写</td> <td></td></tr> <tr><td>from</td> <td>integer</td> <td>是</td> <td>开始的行号，如果传入了<strong>to</strong>参数，该参数为必须</td> <td>0</td></tr> <tr><td>path</td> <td>string</td> <td>是</td> <td>日志文件的路径，如果未提供会使用默认值</td> <td>/log/cache_server.log</td></tr> <tr><td>to</td> <td>integer</td> <td>是</td> <td>结束的行号，如果传入了<strong>from</strong>参数，该参数为必须</td> <td>1000</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;[14:01:56,626][INFO ][test-runner][GridDiscoveryManager] Topology snapshot [ver=1, nodes=1, CPUs=8, heap=1.8GB]&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>string</td> <td>日志</td> <td>[&quot;[14:01:56,626][INFO ][test-runner][GridDiscoveryManager] Topology snapshot [ver=1, nodes=1, CPUs=8, heap=1.8GB]&quot;]</td></tr></tbody></table> <h4 id="_12-2-3-3-version"><a href="#_12-2-3-3-version" aria-hidden="true" class="header-anchor">#</a> 12.2.3.3.version</h4> <p><strong>version</strong>命令显示当前Ignite的版本。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=version
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>version</strong>，小写</td> <td></td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>string</td> <td>Ignite版本</td> <td>1.0.0</td></tr></tbody></table> <h4 id="_12-2-3-4-decr"><a href="#_12-2-3-4-decr" aria-hidden="true" class="header-anchor">#</a> 12.2.3.4.decr</h4> <p><strong>decr</strong>命令减去然后获得给定原子性Long类型的当前值。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=decr&amp;cacheName=partionedCache&amp;key=decrKey&amp;init=15&amp;delta=10
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>decr</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>key</td> <td>string</td> <td>否</td> <td>原子性Long类型的名称</td> <td>counter</td></tr> <tr><td>init</td> <td>long</td> <td>是</td> <td>初始值</td> <td>15</td></tr> <tr><td>delta</td> <td>long</td> <td>否</td> <td>减去的值</td> <td>42</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;e05839d5-6648-43e7-a23b-78d7db9390d5&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> -<span class="token number">42</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>long</td> <td>操作之后的值</td> <td>-42</td></tr></tbody></table> <h4 id="_12-2-3-5-incr"><a href="#_12-2-3-5-incr" aria-hidden="true" class="header-anchor">#</a> 12.2.3.5.incr</h4> <p><strong>incr</strong>命令增加然后获得给定原子性Long类型的当前值。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=incr&amp;cacheName=partionedCache&amp;key=incrKey&amp;init=15&amp;delta=10
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>incr</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>key</td> <td>string</td> <td>否</td> <td>原子性Long类型的名称</td> <td>counter</td></tr> <tr><td>init</td> <td>long</td> <td>是</td> <td>初始值</td> <td>15</td></tr> <tr><td>delta</td> <td>long</td> <td>否</td> <td>增加的值</td> <td>42</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;e05839d5-6648-43e7-a23b-78d7db9390d5&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>long</td> <td>操作之后的值</td> <td>42</td></tr></tbody></table> <h4 id="_12-2-3-6-cache"><a href="#_12-2-3-6-cache" aria-hidden="true" class="header-anchor">#</a> 12.2.3.6.cache</h4> <p><strong>cache</strong>命令可以获得Ignite缓存的指标。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=cache&amp;cacheName=partionedCache&amp;destId=8daab5ea-af83-4d91-99b6-77ed2ca06647
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>cache</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;createTime&quot;</span><span class="token operator">:</span> <span class="token number">1415179251551</span><span class="token punctuation">,</span>
    <span class="token property">&quot;hits&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;misses&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;readTime&quot;</span><span class="token operator">:</span> <span class="token number">1415179251551</span><span class="token punctuation">,</span>
    <span class="token property">&quot;reads&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;writeTime&quot;</span><span class="token operator">:</span> <span class="token number">1415179252198</span><span class="token punctuation">,</span>
    <span class="token property">&quot;writes&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>jsonObject</td> <td>JSON对象包含了缓存的指标，比如创建时间，读计数等</td> <td>{&quot;createTime&quot;: 1415179251551, &quot;hits&quot;: 0, &quot;misses&quot;: 0, &quot;readTime&quot;:1415179251551, &quot;reads&quot;: 0,&quot;writeTime&quot;: 1415179252198, &quot;writes&quot;: 2</td></tr> <tr><td>}</td> <td></td> <td></td> <td></td></tr></tbody></table> <h4 id="_12-2-3-7-cas"><a href="#_12-2-3-7-cas" aria-hidden="true" class="header-anchor">#</a> 12.2.3.7.cas</h4> <p><strong>cas</strong>命令在之前的值等于预期值时会在缓存中存储给定的键值对。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=cas&amp;key=casKey&amp;val2=casOldVal&amp;val1=casNewVal&amp;cacheName=partionedCache&amp;destId=8daab5ea-af83-4d91-99b6-77ed2ca06647
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>cas</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>key</td> <td>string</td> <td>否</td> <td>缓存内要保存的键值</td> <td>name</td></tr> <tr><td>val</td> <td>string</td> <td>否</td> <td>与给定键对应的值</td> <td>Jack</td></tr> <tr><td>val2</td> <td>string</td> <td>否</td> <td>预期值</td> <td>Bob</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1bcbac4b-3517-43ee-98d0-874b103ecf30&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>boolean</td> <td>如果替换发生则为true，否则false</td> <td>true</td></tr></tbody></table> <h4 id="_12-2-3-8-prepend"><a href="#_12-2-3-8-prepend" aria-hidden="true" class="header-anchor">#</a> 12.2.3.8.prepend</h4> <p><strong>prepend</strong>命令为给定的键关联的值增加一个前缀。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=prepend&amp;key=prependKey&amp;val=prefix_&amp;cacheName=partionedCache&amp;destId=8daab5ea-af83-4d91-99b6-77ed2ca06647
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>prepend</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>key</td> <td>string</td> <td>否</td> <td>缓存内要保存的键值</td> <td>name</td></tr> <tr><td>val</td> <td>string</td> <td>否</td> <td>为当前值要增加的前缀</td> <td>Name_</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1bcbac4b-3517-43ee-98d0-874b103ecf30&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>boolean</td> <td>如果替换发生则为true，否则false</td> <td>true</td></tr></tbody></table> <h4 id="_12-2-3-9-append"><a href="#_12-2-3-9-append" aria-hidden="true" class="header-anchor">#</a> 12.2.3.9.append</h4> <p><strong>append</strong>命令为给定的键关联的值增加一个后缀。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=append&amp;key=appendKey&amp;val=_suffix&amp;cacheName=partionedCache&amp;destId=8daab5ea-af83-4d91-99b6-77ed2ca06647
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>append</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>key</td> <td>string</td> <td>否</td> <td>缓存内要保存的键值</td> <td>name</td></tr> <tr><td>val</td> <td>string</td> <td>否</td> <td>为当前值要增加的后缀</td> <td>Jack</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1bcbac4b-3517-43ee-98d0-874b103ecf30&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>boolean</td> <td>如果替换发生则为true，否则false</td> <td>true</td></tr></tbody></table> <h4 id="_12-2-3-10-rep"><a href="#_12-2-3-10-rep" aria-hidden="true" class="header-anchor">#</a> 12.2.3.10.rep</h4> <p><strong>rep</strong>命令为给定的键存储一个新值。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=rep&amp;key=repKey&amp;val=newValue&amp;cacheName=partionedCache&amp;destId=8daab5ea-af83-4d91-99b6-77ed2ca06647
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>rep</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>key</td> <td>string</td> <td>否</td> <td>缓存内要保存的键值</td> <td>name</td></tr> <tr><td>val</td> <td>string</td> <td>否</td> <td>与给定键关联的新值</td> <td>Jack</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1bcbac4b-3517-43ee-98d0-874b103ecf30&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>boolean</td> <td>如果替换发生则为true，否则false</td> <td>true</td></tr></tbody></table> <h4 id="_12-2-3-11-getrep"><a href="#_12-2-3-11-getrep" aria-hidden="true" class="header-anchor">#</a> 12.2.3.11.getrep</h4> <p><strong>getrep</strong>命令为给定的键存储一个新值,然后返回原值。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=getrep&amp;key=repKey&amp;val=newValue&amp;cacheName=partionedCache&amp;destId=8daab5ea-af83-4d91-99b6-77ed2ca06647
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>getrep</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>key</td> <td>string</td> <td>否</td> <td>缓存内要保存的键值</td> <td>name</td></tr> <tr><td>val</td> <td>string</td> <td>否</td> <td>与给定键关联的新值</td> <td>Jack</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1bcbac4b-3517-43ee-98d0-874b103ecf30&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> oldValue<span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>jsonObject</td> <td>给定键的原值</td> <td>{&quot;name&quot;: &quot;Bob&quot;}</td></tr></tbody></table> <h4 id="_12-2-3-12-repval"><a href="#_12-2-3-12-repval" aria-hidden="true" class="header-anchor">#</a> 12.2.3.12.repval</h4> <p><strong>repval</strong>命令在之前的值等于预期值时会替换给定键的值。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=repval&amp;key=repKey&amp;val=newValue&amp;val2=oldVal&amp;cacheName=partionedCache&amp;destId=8daab5ea-af83-4d91-99b6-77ed2ca06647
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>repval</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>key</td> <td>string</td> <td>否</td> <td>缓存内的键值</td> <td>name</td></tr> <tr><td>val</td> <td>string</td> <td>否</td> <td>与给定键对应的值</td> <td>Jack</td></tr> <tr><td>val2</td> <td>string</td> <td>否</td> <td>预期值</td> <td>oldValue</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1bcbac4b-3517-43ee-98d0-874b103ecf30&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>boolean</td> <td>如果替换发生则为true，否则false</td> <td>true</td></tr></tbody></table> <h4 id="_12-2-3-13-rmvall"><a href="#_12-2-3-13-rmvall" aria-hidden="true" class="header-anchor">#</a> 12.2.3.13.rmvall</h4> <p><strong>rmvall</strong>命令会从缓存中删除给定键的数据。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=rmvall&amp;k1=rmKey1&amp;k2=rmKey2&amp;k3=rmKey3&amp;cacheName=partionedCache&amp;destId=8daab5ea-af83-4d91-99b6-77ed2ca06647
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>rmvall</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>k1...kN</td> <td>string</td> <td>否</td> <td>要从缓存中删除的键</td> <td>name</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1bcbac4b-3517-43ee-98d0-874b103ecf30&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>boolean</td> <td>如果删除发生则为true，否则false</td> <td>true</td></tr></tbody></table> <h4 id="_12-2-3-14-rmvval"><a href="#_12-2-3-14-rmvval" aria-hidden="true" class="header-anchor">#</a> 12.2.3.14.rmvval</h4> <p><strong>rmvval</strong>命令当当前值等于预期值时在缓存中删除给定键对应的映射。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=rmvval&amp;key=rmvKey&amp;val=rmvVal&amp;cacheName=partionedCache&amp;destId=8daab5ea-af83-4d91-99b6-77ed2ca06647
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>rmvval</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>key</td> <td>string</td> <td>否</td> <td>缓存内要删除的键值</td> <td>name</td></tr> <tr><td>val</td> <td>string</td> <td>否</td> <td>与给定键关联的期望值</td> <td>oldValue</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1bcbac4b-3517-43ee-98d0-874b103ecf30&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>boolean</td> <td>false，如果没有映射的键</td> <td>true</td></tr></tbody></table> <h4 id="_12-2-3-15-rmv"><a href="#_12-2-3-15-rmv" aria-hidden="true" class="header-anchor">#</a> 12.2.3.15.rmv</h4> <p><strong>rmv</strong>命令在缓存中删除给定键对应的映射。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=rmv&amp;key=rmvKey&amp;cacheName=partionedCache&amp;destId=8daab5ea-af83-4d91-99b6-77ed2ca06647
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>rmv</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>key</td> <td>string</td> <td>否</td> <td>缓存内要删除的键值</td> <td>name</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1bcbac4b-3517-43ee-98d0-874b103ecf30&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>boolean</td> <td>true,如果删除发生，否则，false</td> <td>true</td></tr></tbody></table> <h4 id="_12-2-3-16-getrmv"><a href="#_12-2-3-16-getrmv" aria-hidden="true" class="header-anchor">#</a> 12.2.3.16.getrmv</h4> <p><strong>getrmv</strong>命令在缓存中删除给定键的映射,然后返回原值。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=getrmv&amp;cacheName=partionedCache&amp;destId=8daab5ea-af83-4d91-99b6-77ed2ca06647&amp;key=name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>getrep</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>key</td> <td>string</td> <td>否</td> <td>缓存内要删除的键值</td> <td>name</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1bcbac4b-3517-43ee-98d0-874b103ecf30&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> value<span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>jsonObject</td> <td>给定键的原值</td> <td>{&quot;name&quot;: &quot;Bob&quot;}</td></tr></tbody></table> <h4 id="_12-2-3-17-add"><a href="#_12-2-3-17-add" aria-hidden="true" class="header-anchor">#</a> 12.2.3.17.add</h4> <p><strong>add</strong>命令当缓存中不存在该映射时存储该映射。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=add&amp;key=newKey&amp;val=newValue&amp;cacheName=partionedCache&amp;destId=8daab5ea-af83-4d91-99b6-77ed2ca06647
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>add</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>key</td> <td>string</td> <td>否</td> <td>缓存内要存储的键值</td> <td>name</td></tr> <tr><td>val</td> <td>string</td> <td>否</td> <td>与给定键关联的值</td> <td>Jack</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1bcbac4b-3517-43ee-98d0-874b103ecf30&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>boolean</td> <td>true，如果成功存储，否则，false</td> <td>true</td></tr></tbody></table> <h4 id="_12-2-3-18-putall"><a href="#_12-2-3-18-putall" aria-hidden="true" class="header-anchor">#</a> 12.2.3.18.putall</h4> <p><strong>putall</strong>命令会在缓存中存储给定的键值对。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=putall&amp;k1=putKey1&amp;k2=putKey2&amp;k3=putKey3&amp;v1=value1&amp;v2=value2&amp;v3=value3&amp;cacheName=partionedCache&amp;destId=8daab5ea-af83-4d91-99b6-77ed2ca06647
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>putall</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>k1...kN</td> <td>string</td> <td>否</td> <td>要在缓存中保存的键</td> <td>name</td></tr> <tr><td>v1...vN</td> <td>string</td> <td>否</td> <td>与给定键关联的值</td> <td>Jack</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1bcbac4b-3517-43ee-98d0-874b103ecf30&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>boolean</td> <td>如果成功保存则为true，否则false</td> <td>true</td></tr></tbody></table> <h4 id="_12-2-3-19-put"><a href="#_12-2-3-19-put" aria-hidden="true" class="header-anchor">#</a> 12.2.3.19.put</h4> <p><strong>put</strong>命令在缓存中存储该映射。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=put&amp;key=newKey&amp;val=newValue&amp;cacheName=partionedCache&amp;destId=8daab5ea-af83-4d91-99b6-77ed2ca06647
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>put</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>key</td> <td>string</td> <td>否</td> <td>缓存内要存储的键值</td> <td>name</td></tr> <tr><td>val</td> <td>string</td> <td>否</td> <td>与给定键关联的值</td> <td>Jack</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1bcbac4b-3517-43ee-98d0-874b103ecf30&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>boolean</td> <td>true，如果成功存储，否则，false</td> <td>true</td></tr></tbody></table> <h4 id="_12-2-3-20-getall"><a href="#_12-2-3-20-getall" aria-hidden="true" class="header-anchor">#</a> 12.2.3.20.getall</h4> <p><strong>getall</strong>命令会从缓存中获取给定键的数据。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=getall&amp;k1=getKey1&amp;k2=getKey2&amp;k3=getKey3&amp;cacheName=partionedCache&amp;destId=8daab5ea-af83-4d91-99b6-77ed2ca06647
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>rmvall</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>k1...kN</td> <td>string</td> <td>否</td> <td>要从缓存中获取的值对应的键</td> <td>key1, key2, ..., keyN</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;key1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;key2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value2&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>jsonObject</td> <td>键值对映射</td> <td>{&quot;key1&quot;: &quot;value1&quot;,&quot;key2&quot;: &quot;value2&quot;}</td></tr></tbody></table> <div class="tip custom-block"><p class="custom-block-title">数组形式输出</p> <p>要获得数组形式的输出，需要配置系统属性<code>IGNITE_REST_GETALL_AS_ARRAY</code>为<code>true</code>，如果配置了这个属性，那么<code>getall</code>命令的输出格式为：<code>{“successStatus”:0,“affinityNodeId”:null,“error”:null,“sessionToken”:null,“response”:[{“key”:“key1”,“value”:“value1”},{“key”:“key2”,“value”:“value2”}]}</code></p></div> <h4 id="_12-2-3-21-get"><a href="#_12-2-3-21-get" aria-hidden="true" class="header-anchor">#</a> 12.2.3.21.get</h4> <p><strong>get</strong>命令在缓存中获取给定的键对应的值。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=get&amp;key=getKey&amp;cacheName=partionedCache&amp;destId=8daab5ea-af83-4d91-99b6-77ed2ca06647
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>也可以获取通过API或者SQL插入的数据，比如，如果缓存中有一个<code>Person</code>对象，可以通过如下方式获取：</p> <p>URL：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># If the entry in cache was inserted via API, for example
# cache.put(1, new Person(1, Alex, 300));
# you can use the following REST command to get the value

http://host:port/ignite?cmd=get&amp;cacheName=myCacheName&amp;keyType=int&amp;key=1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>SQL：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># If the entry in cache was inserted via SQL, for example -
# create table person(id integer primary key, name varchar(100), salary integer);
# insert into person(id, name, salary) values (1, Alex, 300);
# you can use the following REST command to get the value

http://host:port/ignite?cmd=get&amp;cacheName=SQL_PUBLIC_PERSON&amp;keyType=int&amp;key=1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>get</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>key</td> <td>string</td> <td>否</td> <td>要返回的值对应的键</td> <td>testKey</td></tr> <tr><td>keyType</td> <td>Java内置类型</td> <td>是</td> <td>具体可以看上面的<a href="#_12-2-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">数据类型</a>章节。</td> <td></td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2bd7b049-3fa0-4c44-9a6d-b5c7a597ce37&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value from cache&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>jsonObject</td> <td>给定键的值</td> <td>{&quot;name&quot;: &quot;Alex&quot;,&quot;id&quot;:1,&quot;salary&quot;:2000}</td></tr></tbody></table> <h4 id="_12-2-3-22-conkey"><a href="#_12-2-3-22-conkey" aria-hidden="true" class="header-anchor">#</a> 12.2.3.22.conkey</h4> <p><strong>conkey</strong>命令在缓存中检测是否有给定键对应的条目。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=conkey&amp;key=getKey&amp;cacheName=partionedCache
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>conkey</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>key</td> <td>string</td> <td>否</td> <td>在缓存中检测是否存在的键</td> <td>testKey</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2bd7b049-3fa0-4c44-9a6d-b5c7a597ce37&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>boolean</td> <td>存在给定键对应的映射则为true</td> <td>true</td></tr></tbody></table> <h4 id="_12-2-3-23-conkeys"><a href="#_12-2-3-23-conkeys" aria-hidden="true" class="header-anchor">#</a> 12.2.3.23.conkeys</h4> <p><strong>conkeys</strong>命令在缓存中检测是否有给定键对应的条目。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=conkeys&amp;k1=getKey1&amp;k2=getKey2&amp;k3=getKey3&amp;cacheName=partionedCache
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>rmvall</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>k1...kN</td> <td>string</td> <td>否</td> <td>在缓存中检测是否存在的键</td> <td>key1, key2, ..., keyN</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2bd7b049-3fa0-4c44-9a6d-b5c7a597ce37&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>boolean</td> <td>存在给定键对应的映射则为true</td> <td>true</td></tr></tbody></table> <h4 id="_12-2-3-24-getput"><a href="#_12-2-3-24-getput" aria-hidden="true" class="header-anchor">#</a> 12.2.3.24.getput</h4> <p><strong>getput</strong>命令在缓存中存储给定的键值对，如果之前存在该映射，则返回原值。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=getput&amp;key=getKey&amp;val=newVal&amp;cacheName=partionedCache
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>getput</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>key</td> <td>string</td> <td>否</td> <td>缓存内要存储的键值</td> <td>name</td></tr> <tr><td>val</td> <td>string</td> <td>否</td> <td>与给定键关联的值</td> <td>Jack</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2bd7b049-3fa0-4c44-9a6d-b5c7a597ce37&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>jsonObject</td> <td>给定键的原值</td> <td>{&quot;name&quot;: &quot;bob&quot;}</td></tr></tbody></table> <h4 id="_12-2-3-25-putifabs"><a href="#_12-2-3-25-putifabs" aria-hidden="true" class="header-anchor">#</a> 12.2.3.25.putifabs</h4> <p><strong>putifabs</strong>命令只有在缓存中存在该映射时才会存储给定的键值对。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=putifabs&amp;key=getKey&amp;val=newVal&amp;cacheName=partionedCache
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>putifabs</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>key</td> <td>string</td> <td>否</td> <td>缓存内要存储的键</td> <td>name</td></tr> <tr><td>val</td> <td>string</td> <td>否</td> <td>与给定键关联的值</td> <td>Jack</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2bd7b049-3fa0-4c44-9a6d-b5c7a597ce37&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>boolean</td> <td>成功存储则为true</td> <td>true</td></tr></tbody></table> <h4 id="_12-2-3-26-getputifabs"><a href="#_12-2-3-26-getputifabs" aria-hidden="true" class="header-anchor">#</a> 12.2.3.26.getputifabs</h4> <p><strong>getputifabs</strong>命令只有在缓存中不存在该映射时才会进行存储，否则会返回对应该键的原值。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=getputifabs&amp;key=getKey&amp;val=newVal&amp;cacheName=partionedCache
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>getputifabs</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr> <tr><td>key</td> <td>string</td> <td>否</td> <td>缓存内要存储的键值</td> <td>name</td></tr> <tr><td>val</td> <td>string</td> <td>否</td> <td>与给定键关联的值</td> <td>Jack</td></tr> <tr><td>destId</td> <td>string</td> <td>是</td> <td>要返回指标的节点Id</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2bd7b049-3fa0-4c44-9a6d-b5c7a597ce37&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>jsonObject</td> <td>给定键对应的原值</td> <td>{&quot;name&quot;: &quot;bob&quot;}</td></tr></tbody></table> <h4 id="_12-2-3-27-size"><a href="#_12-2-3-27-size" aria-hidden="true" class="header-anchor">#</a> 12.2.3.27.size</h4> <p><strong>size</strong>命令返回指定缓存的总条目的数量。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=size&amp;cacheName=partionedCache
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>size</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;affinityNodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>number</td> <td>给定缓存的总条目数量</td> <td>5</td></tr></tbody></table> <h4 id="_12-2-3-28-getorcreate"><a href="#_12-2-3-28-getorcreate" aria-hidden="true" class="header-anchor">#</a> 12.2.3.28.getorcreate</h4> <p><strong>getorcreate</strong>命令如果不存在给定名字的缓存，则会进行缓存的创建。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=getorcreate&amp;cacheName=myPartionedCache
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>getorcreate</strong>，小写</td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td></tr> <tr><td>backups</td> <td>int</td> <td>是</td> <td>缓存数据的备份数量，默认值为0</td></tr> <tr><td>dataRegion</td> <td>string</td> <td>是</td> <td>缓存所属的内存区的名字</td></tr> <tr><td>templateName</td> <td>string</td> <td>是</td> <td>Ignite中注册的用作缓存配置的缓存模板名，具体可以看<a href="/doc/java/Key-ValueDataGrid.html#_3-3-5-缓存模板">缓存模板</a></td></tr> <tr><td>cacheGroup</td> <td>string</td> <td>是</td> <td>缓存所属的缓存组名</td></tr> <tr><td>writeSynchronizationMode</td> <td>string</td> <td>是</td> <td>配置缓存的写同步模式：<code>FULL_SYNC</code>、<code>FULL_ASYNC</code>和<code>PRIMARY_SYNC</code></td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token null">null</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_12-2-3-29-destcache"><a href="#_12-2-3-29-destcache" aria-hidden="true" class="header-anchor">#</a> 12.2.3.29.destcache</h4> <p><strong>destcache</strong>命令删除给定名字的缓存。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=destcache&amp;cacheName=partionedCache
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>destcache</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token null">null</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_12-2-3-30-node"><a href="#_12-2-3-30-node" aria-hidden="true" class="header-anchor">#</a> 12.2.3.30.node</h4> <p><strong>node</strong>命令获取一个节点的信息。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=node&amp;attr=true&amp;mtr=true&amp;id=c981d2a1-878b-4c67-96f6-70f93a4cd241
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>node</strong>，小写</td> <td></td></tr> <tr><td>mtr</td> <td>boolean</td> <td>是</td> <td>如果为true，返回值会包含指标信息</td> <td>true</td></tr> <tr><td>attr</td> <td>boolean</td> <td>是</td> <td>如果为true，返回值会包含属性信息</td> <td>true</td></tr> <tr><td>ip</td> <td>string</td> <td>是</td> <td>如果传递了id参数该参数是可选的。返回值包含了指定IP对应的节点信息</td> <td>192.168.0.1</td></tr> <tr><td>id</td> <td>string</td> <td>是</td> <td>如果传递了ip参数该参数为可选的。返回值包含了指定节点id对应的节点信息</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token null">null</span><span class="token punctuation">,</span>
    <span class="token property">&quot;caches&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;consistentId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1:47500&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;defaultCacheMode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;REPLICATED&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;metrics&quot;</span><span class="token operator">:</span> <span class="token null">null</span><span class="token punctuation">,</span>
    <span class="token property">&quot;nodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2d0d6510-6fed-4fa3-b813-20f83ac4a1a9&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;replicaCount&quot;</span><span class="token operator">:</span> <span class="token number">128</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tcpAddresses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tcpHostNames&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tcpPort&quot;</span><span class="token operator">:</span> <span class="token number">11211</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>jsonObject</td> <td>一个节点的信息</td> <td>{&quot;attributes&quot;: null,&quot;caches&quot;: {},&quot;consistentId&quot;: &quot;127.0.0.1:47500&quot;,&quot;defaultCacheMode&quot;: &quot;REPLICATED&quot;,&quot;metrics&quot;: null,&quot;nodeId&quot;: &quot;2d0d6510-6fed-4fa3-b813-20f83ac4a1a9&quot;,&quot;replicaCount&quot;: 128,&quot;tcpAddresses&quot;: [&quot;127.0.0.1&quot;],&quot;tcpHostNames&quot;: [&quot;&quot;],&quot;tcpPort&quot;: 11211}</td></tr></tbody></table> <h4 id="_12-2-3-31-top"><a href="#_12-2-3-31-top" aria-hidden="true" class="header-anchor">#</a> 12.2.3.31.top</h4> <p><strong>top</strong>命令获取一个拓扑的信息。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=top&amp;attr=true&amp;mtr=true&amp;id=c981d2a1-878b-4c67-96f6-70f93a4cd241
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>top</strong>，小写</td> <td></td></tr> <tr><td>mtr</td> <td>boolean</td> <td>是</td> <td>如果为true，返回值会包含指标信息</td> <td>true</td></tr> <tr><td>attr</td> <td>boolean</td> <td>是</td> <td>如果为true，返回值会包含属性信息</td> <td>true</td></tr> <tr><td>ip</td> <td>string</td> <td>是</td> <td>如果传递了id参数该参数是可选的。返回值包含了指定IP对应的节点信息</td> <td>192.168.0.1</td></tr> <tr><td>id</td> <td>string</td> <td>是</td> <td>如果传递了ip参数该参数为可选的。返回值包含了指定节点id对应的节点信息</td> <td>8daab5ea-af83-4d91-99b6-77ed2ca06647</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        ...
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;caches&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
          mode<span class="token operator">:</span> <span class="token string">&quot;PARTITIONED&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">&quot;partionedCache&quot;</span><span class="token punctuation">,</span>
          mode<span class="token operator">:</span> <span class="token string">&quot;PARTITIONED&quot;</span><span class="token punctuation">,</span>
          sqlSchema<span class="token operator">:</span> <span class="token string">&quot;partionedCache&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;consistentId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1:47500&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;metrics&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        ...
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;nodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;96baebd6-dedc-4a68-84fd-f804ee1ed995&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;replicaCount&quot;</span><span class="token operator">:</span> <span class="token number">128</span><span class="token punctuation">,</span>
      <span class="token property">&quot;tcpAddresses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;tcpHostNames&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;tcpPort&quot;</span><span class="token operator">:</span> <span class="token number">11211</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span>
     <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       ...
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token property">&quot;caches&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
       <span class="token punctuation">{</span>
         name<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
         mode<span class="token operator">:</span> <span class="token string">&quot;REPLICATED&quot;</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token property">&quot;consistentId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1:47501&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;metrics&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       ...
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token property">&quot;nodeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2bd7b049-3fa0-4c44-9a6d-b5c7a597ce37&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;replicaCount&quot;</span><span class="token operator">:</span> <span class="token number">128</span><span class="token punctuation">,</span>
     <span class="token property">&quot;tcpAddresses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token property">&quot;tcpHostNames&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token property">&quot;tcpPort&quot;</span><span class="token operator">:</span> <span class="token number">11212</span>
   <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>jsonObject</td> <td>一个拓扑的信息</td> <td>[{&quot;attributes&quot;: {...},&quot;caches&quot;: [{name: &quot;&quot;,mode: &quot;PARTITIONED&quot;},{name: &quot;partionedCache&quot;,mode: &quot;PARTITIONED&quot;,sqlSchema: &quot;partionedCache&quot;}],&quot;consistentId&quot;: &quot;127.0.0.1:47500&quot;,&quot;REPLICATED&quot;,&quot;metrics&quot;: {...},&quot;nodeId&quot;: &quot;96baebd6-dedc-4a68-84fd-f804ee1ed995&quot;,...&quot;tcpPort&quot;: 11211},{&quot;attributes&quot;: {...},&quot;caches&quot;: [{name: &quot;&quot;,mode: &quot;REPLICATED&quot;}],&quot;consistentId&quot;: &quot;127.0.0.1:47501&quot;,&quot;metrics&quot;: {...},&quot;nodeId&quot;: &quot;2bd7b049-3fa0-4c44-9a6d-b5c7a597ce37&quot;,...&quot;tcpPort&quot;: 11212}]</td></tr></tbody></table> <h4 id="_12-2-3-32-exe"><a href="#_12-2-3-32-exe" aria-hidden="true" class="header-anchor">#</a> 12.2.3.32.exe</h4> <p><strong>exe</strong>命令在集群中执行给定的任务。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=exe&amp;name=taskName&amp;p1=param1&amp;p2=param2&amp;async=true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>exe</strong>，小写</td> <td></td></tr> <tr><td>name</td> <td>string</td> <td>否</td> <td>要执行的任务名</td> <td>summ</td></tr> <tr><td>p1...pN</td> <td>string</td> <td>是</td> <td>任务执行的参数</td> <td>arg1...argN</td></tr> <tr><td>async</td> <td>boolean</td> <td>是</td> <td>任务异步执行的标志</td> <td>true</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finished&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;~ee2d1688-2605-4613-8a57-6615a8cbcd1b&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token number">4</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>jsonObject</td> <td>JSON对象，包含了与错误有关的信息，任务的唯一标识，计算的结果和状态</td> <td>{&quot;error&quot;: &quot;&quot;,&quot;finished&quot;: true,&quot;id&quot;:&quot;~ee2d1688-2605-4613-8a57-6615a8cbcd1b&quot;,&quot;result&quot;: 4}</td></tr></tbody></table> <h4 id="_12-2-3-33-res"><a href="#_12-2-3-33-res" aria-hidden="true" class="header-anchor">#</a> 12.2.3.33.res</h4> <p><strong>res</strong>命令获取指定任务的计算结果。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=res&amp;id=8daab5ea-af83-4d91-99b6-77ed2ca06647
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>res</strong>，小写</td> <td></td></tr> <tr><td>id</td> <td>string</td> <td>否</td> <td>要返回结果的任务id</td> <td>69ad0c48941-4689aae0-6b0e-4d52-8758-ce8fe26f497d~4689aae0-6b0e-4d52-8758-ce8fe26f497d</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finished&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;69ad0c48941-4689aae0-6b0e-4d52-8758-ce8fe26f497d~4689aae0-6b0e-4d52-8758-ce8fe26f497d&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token number">4</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>jsonObject</td> <td>JSON对象，包含了与错误有关的信息，任务的唯一标识，计算的结果和状态</td> <td>{&quot;error&quot;: &quot;&quot;,&quot;finished&quot;: true,&quot;id&quot;:&quot;~ee2d1688-2605-4613-8a57-6615a8cbcd1b&quot;,&quot;result&quot;: 4}</td></tr></tbody></table> <h4 id="_12-2-3-34-qryexe"><a href="#_12-2-3-34-qryexe" aria-hidden="true" class="header-anchor">#</a> 12.2.3.34.qryexe</h4> <p><strong>qryexe</strong>命令在缓存中执行指定的查询。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=qryexe&amp;type=Person&amp;pageSize=10&amp;cacheName=Person&amp;arg1=1000&amp;arg2=2000&amp;qry=salary+%3E+%3F+and+salary+%3C%3D+%3F
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>qryexe</strong>，小写</td> <td></td></tr> <tr><td>type</td> <td>string</td> <td>否</td> <td>要查询的类型</td> <td>String</td></tr> <tr><td>pageSize</td> <td>number</td> <td>否</td> <td>查询的每页大小</td> <td>3</td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供则使用默认的缓存</td> <td>testCache</td></tr> <tr><td>arg1...argN</td> <td>string</td> <td>否</td> <td>查询的参数</td> <td>1000,2000</td></tr> <tr><td>qry</td> <td>string</td> <td>否</td> <td>编码后的sql</td> <td>salary+%3E+%3F+and+salary+%3C%3D+%3F</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;fieldsMetadata&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;items&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span><span class="token property">&quot;key&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Jane&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token property">&quot;salary&quot;</span><span class="token operator">:</span><span class="token number">2000</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span><span class="token property">&quot;key&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;salary&quot;</span><span class="token operator">:</span><span class="token number">2000</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queryId&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span><span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>jsonObject</td> <td>JSON对象，包含了查询的结果集，最后页的标识以及查询的id</td> <td>{&quot;fieldsMetadata&quot;:[],&quot;items&quot;:[{&quot;key&quot;:3,&quot;value&quot;:{&quot;name&quot;:&quot;Jane&quot;,&quot;id&quot;:3,salary&quot;:2000}},{&quot;key&quot;:0,&quot;value&quot;:{&quot;name&quot;:&quot;John&quot;,&quot;id&quot;:0,&quot;salary&quot;:2000}}],&quot;last&quot;:true,&quot;queryId&quot;:0}</td></tr></tbody></table> <h4 id="_12-2-3-35-qryfldexe"><a href="#_12-2-3-35-qryfldexe" aria-hidden="true" class="header-anchor">#</a> 12.2.3.35.qryfldexe</h4> <p><strong>qryfldexe</strong>命令在缓存中执行指定的有字段的查询。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=qryfldexe&amp;pageSize=10&amp;cacheName=Person&amp;qry=select+firstName%2C+lastName+from+Person
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>qryfldexe</strong>，小写</td> <td></td></tr> <tr><td>pageSize</td> <td>number</td> <td>否</td> <td>查询的每页大小</td> <td>3</td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供则使用默认的缓存</td> <td>testCache</td></tr> <tr><td>arg1...argN</td> <td>string</td> <td>否</td> <td>查询的参数</td> <td>1000,2000</td></tr> <tr><td>qry</td> <td>string</td> <td>否</td> <td>编码后的sql</td> <td>select+firstName%2C+lastName+from+Person</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;fieldsMetadata&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;fieldName&quot;</span><span class="token operator">:</span><span class="token string">&quot;FIRSTNAME&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;fieldTypeName&quot;</span><span class="token operator">:</span><span class="token string">&quot;java.lang.String&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;schemaName&quot;</span><span class="token operator">:</span><span class="token string">&quot;person&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;typeName&quot;</span><span class="token operator">:</span><span class="token string">&quot;PERSON&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;fieldName&quot;</span><span class="token operator">:</span><span class="token string">&quot;LASTNAME&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;fieldTypeName&quot;</span><span class="token operator">:</span><span class="token string">&quot;java.lang.String&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;schemaName&quot;</span><span class="token operator">:</span><span class="token string">&quot;person&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;typeName&quot;</span><span class="token operator">:</span><span class="token string">&quot;PERSON&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;items&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;Jane&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Doe&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Doe&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queryId&quot;</span><span class="token operator">:</span><span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>jsonObject</td> <td>JSON对象，包含了查询的结果集，字段查询的元数据，最后页的标识以及查询的id</td> <td>{&quot;fieldsMetadata&quot;:[{&quot;fieldName&quot;:&quot;FIRSTNAME&quot;,&quot;fieldTypeName&quot;:&quot;java.lang.String&quot;,&quot;schemaName&quot;:&quot;person&quot;,&quot;typeName&quot;:&quot;PERSON&quot;},...],&quot;items&quot;:[[&quot;Jane&quot;,&quot;Doe&quot;],[&quot;John&quot;,&quot;Doe&quot;]],&quot;last&quot;:true,&quot;queryId&quot;:0}</td></tr></tbody></table> <h4 id="_12-2-3-36-qryfetch"><a href="#_12-2-3-36-qryfetch" aria-hidden="true" class="header-anchor">#</a> 12.2.3.36.qryfetch</h4> <p><strong>qryfetch</strong>命令获取指定查询的下一页数据。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=qryfetch&amp;pageSize=10&amp;qryId=5
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>qryfetch</strong>，小写</td> <td></td></tr> <tr><td>pageSize</td> <td>number</td> <td>否</td> <td>查询的每页大小</td> <td>3</td></tr> <tr><td>qryId</td> <td>number</td> <td>否</td> <td>qryexe,qryfldexe,qryfetch命令执行返回的查询id</td> <td>0</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;fieldsMetadata&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;items&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;Jane&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Doe&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Doe&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queryId&quot;</span><span class="token operator">:</span><span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>jsonObject</td> <td>JSON对象，包含了查询的结果集，最后页的标识以及查询的id</td> <td>{&quot;fieldsMetadata&quot;:[],&quot;items&quot;:[[&quot;Jane&quot;,&quot;Doe&quot;],[&quot;John&quot;,&quot;Doe&quot;]],&quot;last&quot;:true,&quot;queryId&quot;:0}</td></tr></tbody></table> <h4 id="_12-2-3-37-qrycls"><a href="#_12-2-3-37-qrycls" aria-hidden="true" class="header-anchor">#</a> 12.2.3.37.qrycls</h4> <p><strong>qrycls</strong>命令关闭查询占用的资源。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=qrycls&amp;qryId=5
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>qrycls</strong>，小写</td> <td></td></tr> <tr><td>qryId</td> <td>number</td> <td>否</td> <td>qryexe,qryfldexe,qryfetch命令执行返回的查询id</td> <td>0</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span><span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>boolean</td> <td>如果成功关闭则为true</td> <td>true</td></tr></tbody></table> <h4 id="_12-2-3-38-metadata"><a href="#_12-2-3-38-metadata" aria-hidden="true" class="header-anchor">#</a> 12.2.3.38.metadata</h4> <p><strong>metadata</strong>命令返回指定缓存的元数据。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=metadata&amp;cacheName=partionedCache
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>metadata</strong>，小写</td> <td></td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>partionedCache</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;cacheName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;partionedCache&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;Person&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;keyClasses&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;Person&quot;</span><span class="token operator">:</span> <span class="token string">&quot;java.lang.Integer&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;valClasses&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;Person&quot;</span><span class="token operator">:</span> <span class="token string">&quot;org.apache.ignite.Person&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;Person&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;_KEY&quot;</span><span class="token operator">:</span> <span class="token string">&quot;java.lang.Integer&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_VAL&quot;</span><span class="token operator">:</span> <span class="token string">&quot;org.apache.ignite.Person&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;java.lang.Integer&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;FIRSTNAME&quot;</span><span class="token operator">:</span> <span class="token string">&quot;java.lang.String&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;LASTNAME&quot;</span><span class="token operator">:</span> <span class="token string">&quot;java.lang.String&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;SALARY&quot;</span><span class="token operator">:</span> <span class="token string">&quot;double&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;indexes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;Person&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ID_IDX&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;id&quot;</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">&quot;descendings&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">&quot;unique&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SALARY_IDX&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;salary&quot;</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">&quot;descendings&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">&quot;unique&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>jsonObject</td> <td>给定缓存的元数据</td> <td>{&quot;cacheName&quot;: &quot;partionedCache&quot;,&quot;types&quot;: [&quot;Person&quot;],&quot;keyClasses&quot;: {&quot;Person&quot;:&quot;java.lang.Integer&quot;},&quot;valClasses&quot;: {&quot;Person&quot;:&quot;org.apache.ignite.Person&quot;},&quot;fields&quot;: {&quot;Person&quot;: {&quot;_KEY&quot;:&quot;java.lang.Integer&quot;,&quot;_VAL&quot;: &quot;org.apache.ignite.Person&quot;,&quot;ID&quot;:&quot;java.lang.Integer&quot;,&quot;FIRSTNAME&quot;:&quot;java.lang.String&quot;,&quot;LASTNAME&quot;: &quot;java.lang.String&quot;,&quot;SALARY&quot;: &quot;double&quot;}},&quot;indexes&quot;: {&quot;Person&quot;: [{&quot;name&quot;: &quot;ID_IDX&quot;,&quot;fields&quot;: [&quot;id&quot;],&quot;descendings&quot;: [],&quot;unique&quot;: false},{&quot;name&quot;: &quot;SALARY_IDX&quot;,&quot;fields&quot;: [&quot;salary&quot;],&quot;descendings&quot;: [],&quot;unique&quot;: false}]}}</td></tr></tbody></table> <h4 id="_12-2-3-39-qryscanexe"><a href="#_12-2-3-39-qryscanexe" aria-hidden="true" class="header-anchor">#</a> 12.2.3.39.qryscanexe</h4> <p><strong>qryscanexe</strong>命令在缓存中执行扫描查询。</p> <p>URL:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=qryscanexe&amp;pageSize=10&amp;cacheName=Person&amp;className=org.apache.ignite.filters.PersonPredicate
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td>否</td> <td><strong>qryscanexe</strong>，小写</td> <td></td></tr> <tr><td>pageSize</td> <td>number</td> <td>否</td> <td>查询的每页大小</td> <td>3</td></tr> <tr><td>cacheName</td> <td>string</td> <td>是</td> <td>缓存名称，如果未提供，会使用默认的缓存</td> <td>testCache</td></tr> <tr><td>className</td> <td>string</td> <td>是</td> <td>扫描查询的谓词类名，应该实现<code>IgniteBiPredicate</code>接口</td> <td>org.apache.ignite.filters.PersonPredicate</td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;fieldsMetadata&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;fieldName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;fieldTypeName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;schemaName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;typeName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;fieldName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;fieldTypeName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;schemaName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;typeName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;items&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Jane&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Doe&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;salary&quot;</span><span class="token operator">:</span> <span class="token number">1000</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Jane&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Smith&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;salary&quot;</span><span class="token operator">:</span> <span class="token number">2000</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queryId&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>jsonObject</td> <td>JSON对象，包含了扫描查询的结果集，字段查询的元数据，最后页的标识以及查询的id</td> <td>{&quot;fieldsMetadata&quot;:[{&quot;fieldName&quot;:&quot;key&quot;,&quot;fieldTypeName&quot;:&quot;&quot;, &quot;schemaName&quot;:&quot;&quot;,&quot;typeName&quot;:&quot;&quot;},{&quot;fieldName&quot;:&quot;value&quot;,&quot;fieldTypeName&quot;:&quot;&quot;,&quot;schemaName&quot;:&quot;&quot;,&quot;typeName&quot;:&quot;&quot;}],&quot;items&quot;:[{&quot;key&quot;:1,&quot;value&quot;:{&quot;firstName&quot;:&quot;Jane&quot;,&quot;id&quot;:1,&quot;lastName&quot;:&quot;Doe&quot;,&quot;salary&quot;:1000}},{&quot;key&quot;:3,&quot;value&quot;:{&quot;firstName&quot;:&quot;Jane&quot;,&quot;id&quot;:3,&quot;lastName&quot;:&quot;Smith&quot;,&quot;salary&quot;:2000}}],&quot;last&quot;:true,&quot;queryId&quot;:0}</td></tr></tbody></table> <h4 id="_12-2-3-40-activate"><a href="#_12-2-3-40-activate" aria-hidden="true" class="header-anchor">#</a> 12.2.3.40.activate</h4> <p><strong>activate</strong>命令针对开启持久化的集群开始集群激活过程。</p> <p>URL：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=activate
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td></td> <td><strong>activate</strong>，小写</td> <td></td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span><span class="token null">null</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span><span class="token null">null</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span><span class="token string">&quot;activate started&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>string</td> <td>开始集群的激活</td> <td>activate started</td></tr></tbody></table> <h4 id="_12-2-3-41-deactivate"><a href="#_12-2-3-41-deactivate" aria-hidden="true" class="header-anchor">#</a> 12.2.3.41.deactivate</h4> <p><strong>deactivate</strong>命令针对开启持久化的集群开始集群冻结过程。</p> <p>URL：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=deactivate
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td></td> <td><strong>deactivate</strong>，小写</td> <td></td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span><span class="token null">null</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span><span class="token null">null</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span><span class="token string">&quot;deactivate started&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>string</td> <td>开始集群的冻结</td> <td>deactivate started</td></tr></tbody></table> <h4 id="_12-2-3-42-currentstate"><a href="#_12-2-3-42-currentstate" aria-hidden="true" class="header-anchor">#</a> 12.2.3.42.currentstate</h4> <p><strong>currentstate</strong>命令用于显示当前集群的状态（激活/冻结）。</p> <p>URL：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://host:port/ignite?cmd=currentstate
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>请求参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>可选</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>cmd</td> <td>string</td> <td></td> <td><strong>currentstate</strong>，小写</td> <td></td></tr></tbody></table> <p><strong>响应示例</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;successStatus&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span><span class="token null">null</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sessionToken&quot;</span><span class="token operator">:</span><span class="token null">null</span><span class="token punctuation">,</span>
  <span class="token property">&quot;response&quot;</span><span class="token operator">:</span><span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td>response</td> <td>string</td> <td>集群为激活状态则为<code>true</code>，否则为<code>false</code>。</td> <td>true</td></tr></tbody></table> <h3 id="_12-2-4-常规配置"><a href="#_12-2-4-常规配置" aria-hidden="true" class="header-anchor">#</a> 12.2.4.常规配置</h3> <table><thead><tr><th>参数名</th> <th>描述</th> <th>可选</th> <th>默认值</th></tr></thead> <tbody><tr><td><code>setSecretKey(String)</code></td> <td>定义用于客户端认证的密钥，如果进行了设定，客户端请求必须包含HTTP头<code>X-Signature</code>，值为：<code>[1]:[2]</code>，这里<code>[1]</code>为毫秒值的时间戳，<code>[2]</code>为密钥的Base64格式的SHA1哈希值。</td> <td>是</td> <td>null</td></tr> <tr><td><code>setPortRange(int)</code></td> <td>Jetty服务的端口范围，如果在Jetty配置文件中或者<code>IGNITE_JETTY_PORT</code>系统属性中配置的端口已被占用，Ignite会将该端口加1然后再做一次绑定直到设定的范围上限。</td> <td>是</td> <td>100</td></tr> <tr><td><code>setJettyPath(String)</code></td> <td>Jetty配置文件的路径，要么是绝对路径，要么是相对于<code>IGNITE_HOME</code>，如果未指定，Ignite会用简单的HTTP连接器启动Jetty服务，这个连接器会分别使用<code>IGNITE_JETTY_HOST</code>和<code>IGNITE_JETTY_PORT</code>系统参数作为主机和端口，如果<code>IGNITE_JETTY_HOST</code>未设定，会使用localhost，如果<code>IGNITE_JETTY_PORT</code>未设定，默认会使用8080。</td> <td>是</td> <td>null</td></tr> <tr><td><code>setMessageInterceptor(ConnectorMessageInterceptor)</code></td> <td>转换通过REST协议进行交换的所有对象的拦截器。比如在客户端使用自定义的序列化，那么可以写一个拦截器来将从客户端收到的二进制数据转换为Java对象，然后就可以直接访问。</td> <td>是</td> <td>null</td></tr></tbody></table> <h3 id="_12-2-5-jetty-xml配置示例"><a href="#_12-2-5-jetty-xml配置示例" aria-hidden="true" class="header-anchor">#</a> 12.2.5.Jetty XML配置示例</h3> <p>配置文件的路径需要通过上面描述的<code>ConnectorConfiguration.setJettyPath(String)</code>进行设定。</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="token doctype">&lt;!DOCTYPE Configure PUBLIC &quot;-//Jetty//Configure//EN&quot; &quot;http://www.eclipse.org/jetty/configure.dtd&quot;&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Configure</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Server<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>org.eclipse.jetty.server.Server<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>threadPool<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Default queued blocking thread pool --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>New</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>org.eclipse.jetty.util.thread.QueuedThreadPool<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Set</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>minThreads<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>20<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Set</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Set</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>maxThreads<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>200<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Set</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>New</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Arg</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>New</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>httpCfg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>org.eclipse.jetty.server.HttpConfiguration<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Set</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>secureScheme<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>https<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Set</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Set</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>securePort<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>8443<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Set</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Set</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sendServerVersion<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Set</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Set</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sendDateHeader<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Set</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>New</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Call</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>addConnector<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Arg</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>New</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>org.eclipse.jetty.server.ServerConnector<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>server<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Ref</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Server<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Arg</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>factories<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Array</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>org.eclipse.jetty.server.ConnectionFactory<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>New</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>org.eclipse.jetty.server.HttpConnectionFactory<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Ref</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>httpCfg<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>New</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Item</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Array</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Arg</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Set</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>host<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SystemProperty</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>IGNITE_JETTY_HOST<span class="token punctuation">&quot;</span></span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>localhost<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
              	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Set</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Set</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>port<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SystemProperty</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>IGNITE_JETTY_PORT<span class="token punctuation">&quot;</span></span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>8080<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
              	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Set</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Set</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>idleTimeout<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>30000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Set</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Set</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>reuseAddress<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Set</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>New</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Arg</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Call</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Set</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handler<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>New</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Handlers<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>org.eclipse.jetty.server.handler.HandlerCollection<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Set</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handlers<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Array</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>org.eclipse.jetty.server.Handler<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>New</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Contexts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>org.eclipse.jetty.server.handler.ContextHandlerCollection<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Item</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Array</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Set</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>New</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Set</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Set</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stopAtShutdown<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Set</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Configure</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><h2 id="_12-3-memcached"><a href="#_12-3-memcached" aria-hidden="true" class="header-anchor">#</a> 12.3.Memcached</h2> <p>Ignite支持<a href="http://memcached.org/" target="_self" rel="noopener noreferrer">Memcached</a>协议，可以通过任何Memcached兼容客户端从Ignite缓存中存储和获取分布化的数据。</p> <div class="tip custom-block"><p class="custom-block-title">注意</p> <p>当前，Ignite只支持Memcached的二进制协议。</p></div> <p>可以通过如下语言的Memcached客户端连接到Ignite：</p> <ul><li>PHP</li> <li>Java</li> <li>Python</li> <li>Ruby</li></ul> <h3 id="_12-3-1-配置"><a href="#_12-3-1-配置" aria-hidden="true" class="header-anchor">#</a> 12.3.1.配置</h3> <p>Ignite在其REST客户端连接器端口（默认为11211）上接收Memcached请求。</p> <p>对于除增量和减量之外的所有Memcached操作，Ignite使用默认缓存（缓存名为<code>default</code>）。它需要事先显式创建，比如使用以下配置：</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>org.apache.ignite.configuration.CacheConfiguration<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>default<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>atomicityMode<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ATOMIC<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>backups<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>注意，下面的示例使用示例<code>examples/config/example-cache.xml</code>配置文件，该文件声明了默认的缓存。</p> <p>对于增量和减量Memcached操作，Ignite使用<code>IgniteAtomicLong</code>数据结构，它们也需要预先创建，代码如下：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>ignite<span class="token punctuation">.</span><span class="token function">atomicLong</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_12-3-2-php"><a href="#_12-3-2-php" aria-hidden="true" class="header-anchor">#</a> 12.3.2.PHP</h3> <p>要使用PHP客户端通过Memcached连接到Ignite，首先要<a href="https://ignite.incubator.apache.org/download.html" target="_self" rel="noopener noreferrer">下载Ignite</a>，然后：</p> <ul><li>启动配置有缓存的Ignite，比如：</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>bin/ignite.sh examples/config/example-cache.xml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>通过二进制协议用Memcached客户端连接到Ignite：</li></ul> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token comment">// Create client instance.</span>
<span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Memcached</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Set localhost and port (set to correct values).</span>
<span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">addServer</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token number">11211</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Force client to use binary protocol.</span>
<span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setOption</span><span class="token punctuation">(</span>Memcached<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">OPT_BINARY_PROTOCOL</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Put entry to cache.</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token double-quoted-string string">&quot;val&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;Successfully put entry in cache.\n&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// Check entry value.</span>
<span class="token keyword">echo</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;Value for 'key': &quot;</span> <span class="token punctuation">.</span> <span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;key&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">.</span> <span class="token double-quoted-string string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_12-3-3-java"><a href="#_12-3-3-java" aria-hidden="true" class="header-anchor">#</a> 12.3.3.Java</h3> <p>要使用Java客户端通过Memcached连接到Ignite，首先要<a href="https://ignite.incubator.apache.org/download.html" target="_self" rel="noopener noreferrer">下载Ignite</a>，然后：</p> <ul><li>启动配置有缓存的Ignite，比如：</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>bin/ignite.sh examples/config/example-cache.xml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>通过二进制协议用Memcached客户端连接到Ignite：</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code>MemcachedClient client <span class="token operator">=</span> null<span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
    client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MemcachedClient</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BinaryConnectionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            AddrUtil<span class="token punctuation">.</span><span class="token function">getAddresses</span><span class="token punctuation">(</span><span class="token string">&quot;localhost:11211&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

client<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;val&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Value for 'key': &quot;</span> <span class="token operator">+</span> client<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_12-3-4-python"><a href="#_12-3-4-python" aria-hidden="true" class="header-anchor">#</a> 12.3.4.Python</h3> <p>要使用Python客户端通过Memcached连接到Ignite，首先要<a href="https://ignite.incubator.apache.org/download.html" target="_self" rel="noopener noreferrer">下载Ignite</a>，然后：</p> <ul><li>启动配置有缓存的Ignite，比如：</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>bin/ignite.sh examples/config/example-cache.xml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>通过二进制协议用Memcached客户端连接到Ignite：</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> pylibmc

client <span class="token operator">=</span> memcache<span class="token punctuation">.</span>Client<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;127.0.0.1:11211&quot;</span><span class="token punctuation">,</span> binary<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

client<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;val&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">print</span> <span class="token string">&quot;Value for 'key': %s&quot;</span> <span class="token operator">%</span>

client<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_12-3-5-ruby"><a href="#_12-3-5-ruby" aria-hidden="true" class="header-anchor">#</a> 12.3.5.Ruby</h3> <p>要使用Ruby客户端通过Memcached连接到Ignite，首先要<a href="https://ignite.incubator.apache.org/download.html" target="_self" rel="noopener noreferrer">下载Ignite</a>，然后：</p> <ul><li>启动配置有缓存的Ignite，比如：</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>bin/ignite.sh examples/config/example-cache.xml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>通过二进制协议用Memcached客户端连接到Ignite：</li></ul> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code><span class="token keyword">require</span> <span class="token string">'dalli'</span>

options <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token symbol">:namespace</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&quot;app_v1&quot;</span><span class="token punctuation">,</span> <span class="token symbol">:compress</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">true</span> <span class="token punctuation">}</span>

client <span class="token operator">=</span> <span class="token constant">Dalli</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Client</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token string">'localhost:11211'</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span>

client<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token symbol">:raw</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">true</span><span class="token punctuation">)</span>

value <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_12-4-redis"><a href="#_12-4-redis" aria-hidden="true" class="header-anchor">#</a> 12.4.Redis</h2> <p>Ignite实现了对<a href="http://redis.io/" target="_self" rel="noopener noreferrer">Redis</a>的部分兼容，可以使用任何Redis兼容客户端在缓存中存储以及获取分布化的数据。
Ignite客户端支持如下的命令：</p> <p><strong>连接</strong></p> <ul><li><a href="http://redis.io/commands/echo" target="_self" rel="noopener noreferrer">ECHO</a></li> <li><a href="http://redis.io/commands/ping" target="_self" rel="noopener noreferrer">PING</a></li> <li><a href="http://redis.io/commands/quit" target="_self" rel="noopener noreferrer">QUIT</a></li> <li><a href="https://redis.io/commands/select" target="_self" rel="noopener noreferrer">SELECT</a></li></ul> <p><strong>字符串</strong></p> <ul><li><a href="http://redis.io/commands/get" target="_self" rel="noopener noreferrer">GET</a></li> <li><a href="http://redis.io/commands/mget" target="_self" rel="noopener noreferrer">MGET</a>（限制：<em>对于不存在的键，查询结果中不包含空值</em>）</li> <li><a href="http://redis.io/commands/set" target="_self" rel="noopener noreferrer">SET</a>（限制：没有键过期）</li> <li><a href="http://redis.io/commands/mset" target="_self" rel="noopener noreferrer">MSET</a></li> <li><a href="http://redis.io/commands/incr" target="_self" rel="noopener noreferrer">INCR</a></li> <li><a href="http://redis.io/commands/decr" target="_self" rel="noopener noreferrer">DECR</a></li> <li><a href="http://redis.io/commands/incrby" target="_self" rel="noopener noreferrer">INCRBY</a></li> <li><a href="http://redis.io/commands/decrby" target="_self" rel="noopener noreferrer">DECRBY</a></li> <li><a href="http://redis.io/commands/append" target="_self" rel="noopener noreferrer">APPEND</a></li> <li><a href="http://redis.io/commands/strlen" target="_self" rel="noopener noreferrer">STRLEN</a></li> <li><a href="http://redis.io/commands/getset" target="_self" rel="noopener noreferrer">GETSET</a></li> <li><a href="http://redis.io/commands/setrange" target="_self" rel="noopener noreferrer">SETRANGE</a></li> <li><a href="http://redis.io/commands/getrange" target="_self" rel="noopener noreferrer">GETRANGE</a></li></ul> <p><strong>键</strong></p> <ul><li><a href="http://redis.io/commands/del" target="_self" rel="noopener noreferrer">DEL</a>（限制：返回提交的键的数量）</li> <li><a href="http://redis.io/commands/exists" target="_self" rel="noopener noreferrer">EXISTS</a></li></ul> <p><strong>服务器</strong></p> <ul><li><a href="http://redis.io/commands/dbsize" target="_self" rel="noopener noreferrer">DBSIZE</a></li> <li><a href="https://redis.io/commands/flushdb" target="_self" rel="noopener noreferrer">FLUSHDB</a></li> <li><a href="https://redis.io/commands/flushall" target="_self" rel="noopener noreferrer">FLUSHALL</a></li></ul> <p>集群节点通过监听特定的端口来接收Redis请求，每个Ignite节点默认都会通过监听<code>[host]:11211</code>来接收请求，通过<code>ConnectorConfiguration</code>可以覆写主机和端口：</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>org.apache.ignite.configuration.IgniteConfiguration<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  	...
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>connectorConfiguration<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>org.apache.ignite.configuration.ConnectorConfiguration<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>host<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>localhost<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>port<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>6379<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
	    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">配置默认缓存</p> <p>需要配置一个默认的<code>redis-ignite-internal-cache-0</code>缓存，用于默认的Redis数据库，当切换到SELECT命令时也可以用做其它数据库的模板。</p></div> <p>可以使用自己喜欢的<a href="http://redis.io/clients" target="_self" rel="noopener noreferrer">Redis客户端</a>接入Ignite，下面是是用几种语言的简单示例：</p> <h3 id="_12-4-1-java"><a href="#_12-4-1-java" aria-hidden="true" class="header-anchor">#</a> 12.4.1.Java</h3> <p>要使用Redis的java客户端接入Ignite，需要先配置并启动一个Ignite集群。</p> <p>要接入使用<code>6379</code>端口的Ignite，以<a href="https://github.com/xetorthio/jedis" target="_self" rel="noopener noreferrer">Jedis</a>为例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>JedisPoolConfig jedisPoolCfg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JedisPoolConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// your pool configurations.</span>

JedisPool pool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JedisPool</span><span class="token punctuation">(</span>jedisPoolCfg<span class="token punctuation">,</span> <span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token number">6379</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">(</span>Jedis jedis <span class="token operator">=</span> pool<span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    jedis<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Value for 'key1': &quot;</span> <span class="token operator">+</span> jedis<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

pool<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_12-4-2-python"><a href="#_12-4-2-python" aria-hidden="true" class="header-anchor">#</a> 12.4.2.Python</h3> <p>要使用Redis的Python客户端接入Ignite，需要先配置并启动一个Ignite集群。</p> <p>要接入使用<code>6379</code>端口的Ignite，以<a href="https://github.com/andymccurdy/redis-py" target="_self" rel="noopener noreferrer">redis-py</a>为例：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> redis
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> r <span class="token operator">=</span> redis<span class="token punctuation">.</span>StrictRedis<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'localhost'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">6379</span><span class="token punctuation">,</span> db<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> r<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span><span class="token string">'k1'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token boolean">True</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> r<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'k1'</span><span class="token punctuation">)</span>
<span class="token string">'1'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_12-4-3-php"><a href="#_12-4-3-php" aria-hidden="true" class="header-anchor">#</a> 12.4.3.PHP</h3> <p>要使用Redis的PHP客户端接入Ignite，需要先配置并启动一个Ignite集群。</p> <p>要接入使用<code>6379</code>端口的Ignite，以<a href="https://github.com/nrk/predis" target="_self" rel="noopener noreferrer">predis</a>为例：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token comment">// Load the library.</span>
<span class="token keyword">require</span> <span class="token single-quoted-string string">'predis/autoload.php'</span><span class="token punctuation">;</span>
Predis\<span class="token package">Autoloader</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Connect.</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token variable">$redis</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;&gt;&gt;&gt; Successfully connected to Redis. \n&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// Put entry to cache.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'k1'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;&gt;&gt;&gt; Successfully put entry in cache. \n&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// Check entry value.</span>
    <span class="token keyword">echo</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;&gt;&gt;&gt; Value for 'k1': &quot;</span> <span class="token punctuation">.</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'k1'</span><span class="token punctuation">)</span> <span class="token punctuation">.</span> <span class="token double-quoted-string string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token double-quoted-string string">&quot;Couldn't connected to Redis&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">echo</span> <span class="token variable">$e</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间：: </span> <span class="time">5/10/2019, 11:15:04 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/doc/java/ProductionReadiness.html" class="prev">
          11.生产准备
        </a></span> <span class="next"><a href="/doc/java/Plugins.html">
          13.插件
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.7713a5ed.js" defer></script><script src="/assets/js/90.26cc2e16.js" defer></script>
  </body>
</html>
