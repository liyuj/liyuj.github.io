(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{47:function(s,t,n){"use strict";n.r(t);var a=n(0),e=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"_1-介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-介绍","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.介绍")]),s._v(" "),n("h2",{attrs:{id:"_1-1-摘要"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-摘要","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.1.摘要")]),s._v(" "),n("p",[s._v("Apache Ignite是一个兼容ANSI-99、水平可扩展以及容错的分布式SQL数据库，这个分布式是以数据在集群范围的复制或者分区的形式提供的，具体的形式取决于使用场景。")]),s._v(" "),n("p",[s._v("作为一个SQL数据库，Ignite支持所有的DML指令，包括SELECT、UPDATE、INSERT和DELETE，它还实现了一个与分布式系统有关的DDL指令的子集。")]),s._v(" "),n("p",[s._v("Ignite的一个突出特性是完全支持分布式的SQL关联，Ignite支持并置和非并置的数据关联。并置时，关联是在每个节点的可用数据集上执行的，而不需要在网络上移动大量的数据，这种方式在分布式数据库中提供了最好的扩展性和性能。")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://files.readme.io/86e6f24-d3e1d15-sql_database.png",alt:""}}),s._v("\n和很多的分布式SQL数据库不同，对于数据和索引，Ignite将内存和磁盘都视为完整有效的存储层，但是磁盘是可选的，如果禁用的话，Ignite就变为纯内存数据库。")]),s._v(" "),n("p",[s._v("可以像其他的SQL存储一样，根据需要与Ignite进行交互，比如通过外部的工具或者应用使用JDBC或者ODBC驱动进行连接。在这之上，Java、.NET和C++开发者也可以使用Ignite的原生SQL API。")]),s._v(" "),n("h2",{attrs:{id:"_1-2-入门"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-入门","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.2.入门")]),s._v(" "),n("h3",{attrs:{id:"_1-2-1-摘要"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-摘要","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.2.1.摘要")]),s._v(" "),n("p",[s._v("Ignite支持数据定义语言(DDL)语句，可以在运行时创建和删除表和索引，还可以支持数据操作语言(DML)来执行查询，这些不管是Ignite的原生SQL API还是ODBC和JDBC驱动，都是支持的。")]),s._v(" "),n("p",[s._v("在下面的示例中，会使用一个包含两个表的模式，这些表会用于保存城市以及居住在那里的人的信息，假定一个城市有很多的人，并且人只会居住于一个城市，这是一个一对多（1：m）的关系。")]),s._v(" "),n("h3",{attrs:{id:"_1-2-2-连接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-连接","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.2.2.连接")]),s._v(" "),n("p",[s._v("作为入门来说，可以使用一个SQL工具，在后面的"),n("code",[s._v("SQL工具")]),s._v("章节中会有一个示例来演示如何配置SQL工具。还可以使用"),n("code",[s._v("SQLLine")]),s._v("接入集群然后在命令行执行SQL语句。")]),s._v(" "),n("p",[s._v("如果希望从源代码入手，下面的示例代码会演示如果通过JDBC以及ODBC驱动来获得一个连接：\n"),n("strong",[s._v("JDBC：")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("// Register JDBC driver")]),s._v("\nClass"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("forName")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v('"org.apache.ignite.IgniteJdbcThinDriver"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{attrs:{class:"token comment"}},[s._v("// Open JDBC connection")]),s._v("\nConnection conn "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" DriverManager"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("getConnection")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{attrs:{class:"token string"}},[s._v('"jdbc:ignite:thin://127.0.0.1/"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[n("strong",[s._v("ODBC:")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('// Combining connect string\nstd::string connectStr = "DRIVER={Apache Ignite};SERVER=localhost;PORT=10800;SCHEMA=PUBLIC;";\n\nSQLCHAR outstr[ODBC_BUFFER_SIZE];\nSQLSMALLINT outstrlen;\n\n// Connecting to ODBC server\nSQLRETURN ret = SQLDriverConnect(dbc, NULL, reinterpret_cast<SQLCHAR*>(&connectStr[0]), static_cast<SQLSMALLINT>(connectStr.size()),\noutstr, sizeof(outstr), &outstrlen, SQL_DRIVER_COMPLETE);\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("JDBC连接会使用thin模式驱动然后接入本地主机（"),n("code",[s._v("127.0.0.1")]),s._v("），一定要确保"),n("code",[s._v("ignite-core.jar")]),s._v("位于应用或者工具的类路径中，具体信息可以查看"),n("code",[s._v("JDBC驱动")]),s._v("相关的章节。")]),s._v(" "),n("p",[s._v("ODBC连接也是接入本地localhost，端口是10800，具体可以查看"),n("code",[s._v("ODBC驱动")]),s._v("相关的文档。")]),s._v(" "),n("p",[s._v("不管选择哪种方式，都需要打开一个命令行工具，然后转到"),n("code",[s._v("{apache-ignite-version}/bin")]),s._v("，然后执行"),n("code",[s._v("ignite.sh")]),s._v("或者"),n("code",[s._v("ignite.bat")]),s._v("脚本，这样可以启动一个或者多个节点，如果使用了Ignite.NET或者Ignite.C++，那么也可以使用对应的可执行文件启动一个节点。\n"),n("strong",[s._v("Unix：")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("./ignite.sh\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("strong",[s._v("Windows：")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("ignite.bat\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("strong",[s._v(".NET：")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("platforms\\dotnet\\bin\\Apache.Ignite.exe\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("strong",[s._v("C++ Windows")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("modules\\platforms\\cpp\\project\\vs\\x64\\Release\\ignite.exe\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("strong",[s._v("C++ Unix:")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("./modules/platforms/cpp/ignite/ignite\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("如果节点是通过Java应用启动，要保证在Maven的"),n("code",[s._v("pom.xml")]),s._v("文件中包含"),n("code",[s._v("ignite-indexing")]),s._v("模块依赖：")]),s._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("org.apache.ignite"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("ignite-indexing"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("version")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("${ignite.version}"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("version")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"_1-2-3-创建表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-创建表","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.2.3.创建表")]),s._v(" "),n("p",[s._v("当前，创建的每个表都会位于"),n("code",[s._v("PUBLIC")]),s._v("模式，在"),n("code",[s._v("模式和索引")]),s._v("章节会有更详细的信息。\n下面的示例代码会创建City和Person表：\n"),n("strong",[s._v("SQL:")])]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" City "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  id LONG "),n("span",{attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("KEY")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name "),n("span",{attrs:{class:"token keyword"}},[s._v("VARCHAR")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"template=replicated"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" Person "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  id LONG"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name "),n("span",{attrs:{class:"token keyword"}},[s._v("VARCHAR")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" city_id LONG"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" city_id"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"backups=1, affinityKey=city_id"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[n("strong",[s._v("JDBC:")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("// Create database tables")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Statement stmt "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" conn"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("createStatement")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{attrs:{class:"token comment"}},[s._v("// Create table based on REPLICATED template")]),s._v("\n    stmt"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("executeUpdate")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v('"CREATE TABLE City ("')]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" \n    "),n("span",{attrs:{class:"token string"}},[s._v('" id LONG PRIMARY KEY, name VARCHAR) "')]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v("\n    "),n("span",{attrs:{class:"token string"}},[s._v('" WITH \\"template=replicated\\""')]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{attrs:{class:"token comment"}},[s._v("// Create table based on PARTITIONED template with one backup")]),s._v("\n    stmt"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("executeUpdate")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v('"CREATE TABLE Person ("')]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v("\n    "),n("span",{attrs:{class:"token string"}},[s._v('" id LONG, name VARCHAR, city_id LONG, "')]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v("\n    "),n("span",{attrs:{class:"token string"}},[s._v('" PRIMARY KEY (id, city_id)) "')]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v("\n    "),n("span",{attrs:{class:"token string"}},[s._v('" WITH \\"backups=1, affinityKey=city_id\\""')]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[n("strong",[s._v("ODBC:")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('SQLHSTMT stmt;\n\n// Allocate a statement handle\nSQLAllocHandle(SQL_HANDLE_STMT, dbc, &stmt);\n\n// Create table based on REPLICATED template\nSQLCHAR query1[] = "CREATE TABLE City ("\n  "id LONG PRIMARY KEY, name VARCHAR) "\n  "WITH \\"template=replicated\\"";\nSQLSMALLINT queryLen1 = static_cast<SQLSMALLINT>(sizeof(query1));\n\nSQLExecDirect(stmt, query, queryLen);\n\n// Create table based on PARTITIONED template with one backup\nSQLCHAR query2[] = "CREATE TABLE Person ( "\n    "id LONG, name VARCHAR, city_id LONG "\n    "PRIMARY KEY (id, city_id)) "\n    "WITH \\"backups=1, affinityKey=city_id\\"";\nSQLSMALLINT queryLen2 = static_cast<SQLSMALLINT>(sizeof(query2));\n\nSQLExecDirect(stmt, query, queryLen);\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("p",[n("code",[s._v("CREATE TABLE")]),s._v("命令执行之后，会做如下的工作：")]),s._v(" "),n("ul",[n("li",[s._v("会自动使用表名创建一个分布式缓存，它会用于存储City和Person类型的对象，这个缓存存储的City和Person对象可以与特定的Java、.NET和C++类或者二进制对象相对应；")]),s._v(" "),n("li",[s._v("会定义一个带有所有参数的SQL表；")]),s._v(" "),n("li",[s._v("数据以键-值记录的形式存储，主键列会用作存储对象的键，剩下的字段属于值，这就意味着可以使用键值API来处理数据。")])]),s._v(" "),n("p",[s._v("和分布式缓存相关的参数是通过"),n("code",[s._v("WITH")]),s._v("子句传递的，如果忽略了"),n("code",[s._v("WITH")]),s._v("子句，那么缓存会使用"),n("code",[s._v("CacheConfiguration")]),s._v("对象的默认参数来创建。")]),s._v(" "),n("p",[s._v("在上面的示例中，对于"),n("code",[s._v("Person")]),s._v("表，Ignite创建了一个有一份备份数据的分布式缓存，"),n("code",[s._v("city_id")]),s._v("作为关系键，这些扩展参数是Ignite特有的，通过"),n("code",[s._v("WITH")]),s._v("进行传递，要为表配置其他的缓存参数，需要使用"),n("code",[s._v("template")]),s._v("参数，并且使用之前注册的缓存配置的名字（通过代码或者XML），具体可以参照"),n("code",[s._v("扩展参数")]),s._v("相关章节。")]),s._v(" "),n("p",[s._v("很多时候将不同的条目并置在一起非常有用，通常业务逻辑需要访问不止一个数据条目，将它们并置在一起会确保具有相同"),n("code",[s._v("affinityKey")]),s._v("的所有条目会被缓存在同一个节点上，这样就不需要从远程获取数据以避免耗时的网络开销。")]),s._v(" "),n("p",[s._v("在本示例中，有"),n("code",[s._v("City")]),s._v("和"),n("code",[s._v("Person")]),s._v("对象，并且希望并置"),n("code",[s._v("Person")]),s._v("对象及其居住的"),n("code",[s._v("City")]),s._v("对象，要做到这一点，就像上例所示，使用了"),n("code",[s._v("WITH")]),s._v("子句并且指定了"),n("code",[s._v("affinityKey=city_id")]),s._v("。")]),s._v(" "),n("h3",{attrs:{id:"_1-2-4-创建索引"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-4-创建索引","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.2.4.创建索引")]),s._v(" "),n("p",[s._v("定义索引可以加快查询的速度，下面是创建索引的示例：\n"),n("strong",[s._v("SQL：")])]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" idx_city_name "),n("span",{attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" City "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" idx_person_name "),n("span",{attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" Person "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[n("strong",[s._v("JDBC：")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("// Create indexes")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Statement stmt "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" conn"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("createStatement")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{attrs:{class:"token comment"}},[s._v("// Create an index on the City table")]),s._v("\n    stmt"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("executeUpdate")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v('"CREATE INDEX idx_city_name ON City (name)"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{attrs:{class:"token comment"}},[s._v("// Create an index on the Person table")]),s._v("\n    stmt"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("executeUpdate")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v('"CREATE INDEX idx_person_name ON Person (name)"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[n("strong",[s._v("ODBC：")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('SQLHSTMT stmt;\n\n// Allocate a statement handle\nSQLAllocHandle(SQL_HANDLE_STMT, dbc, &stmt);\n\n// Create an index on the City table\nSQLCHAR query[] = "CREATE INDEX idx_city_name ON City (name)";\n\nSQLSMALLINT queryLen = static_cast<SQLSMALLINT>(sizeof(query));\n\nSQLRETURN ret = SQLExecDirect(stmt, query, queryLen);\n\n// Create an index on the Person table\nSQLCHAR query2[] = "CREATE INDEX idx_person_name ON Person (name)";\n\nSQLSMALLINT queryLen2 = static_cast<SQLSMALLINT>(sizeof(query2));\n\nret = SQLExecDirect(stmt, query2, queryLen2);\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("h3",{attrs:{id:"_1-2-5-插入数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-5-插入数据","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.2.5.插入数据")]),s._v(" "),n("p",[s._v("对数据进行查询之前，需要在两个表中加载部分数据，下面是如何往表中插入数据的示例：\n"),n("strong",[s._v("SQL：")])]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" City "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'Forest Hill'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" City "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'Denver'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" City "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("3")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'St. Petersburg'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" Person "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" city_id"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'John Doe'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("3")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" Person "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" city_id"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'Jane Roe'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" Person "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" city_id"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("3")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'Mary Major'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" Person "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" city_id"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("4")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'Richard Miles'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[n("strong",[s._v("JDBC：")]),s._v('\n// Populate City table\ntry (PreparedStatement stmt =\nconn.prepareStatement("INSERT INTO City (id, name) VALUES (?, ?)")) {')]),s._v(" "),n("pre",[n("code",[s._v('stmt.setLong(1, 1L);\nstmt.setString(2, "Forest Hill");\nstmt.executeUpdate();\n\nstmt.setLong(1, 2L);\nstmt.setString(2, "Denver");\nstmt.executeUpdate();\n\nstmt.setLong(1, 3L);\nstmt.setString(2, "St. Petersburg");\nstmt.executeUpdate();\n')])]),s._v(" "),n("p",[s._v("}")]),s._v(" "),n("p",[s._v('// Populate Person table\ntry (PreparedStatement stmt =\nconn.prepareStatement("INSERT INTO Person (id, name, city_id) VALUES (?, ?, ?)")) {')]),s._v(" "),n("pre",[n("code",[s._v('stmt.setLong(1, 1L);\nstmt.setString(2, "John Doe");\nstmt.setLong(3, 3L);\nstmt.executeUpdate();\n\nstmt.setLong(1, 2L);\nstmt.setString(2, "Jane Roe");\nstmt.setLong(3, 2L);\nstmt.executeUpdate();\n\nstmt.setLong(1, 3L);\nstmt.setString(2, "Mary Major");\nstmt.setLong(3, 1L);\nstmt.executeUpdate();\n\nstmt.setLong(1, 4L);\nstmt.setString(2, "Richard Miles");\nstmt.setLong(3, 2L);\nstmt.executeUpdate();\n')])]),s._v(" "),n("p",[s._v("}\n"),n("strong",[s._v("ODBC：")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('SQLHSTMT stmt;\n\n// Allocate a statement handle\nSQLAllocHandle(SQL_HANDLE_STMT, dbc, &stmt);\n\n// Populate City table\nSQLCHAR query1[] = "INSERT INTO City (id, name) VALUES (?, ?)";\n\nSQLRETURN ret = SQLPrepare(stmt, query1, static_cast<SQLSMALLINT>(sizeof(query1)));\n\nchar name[1024];\n\nint32_t key = 1;\nstrncpy(name, "Forest Hill", sizeof(name));\nret = SQLExecute(stmt);\n\nkey = 2;\nstrncpy(name, "Denver", sizeof(name));\nret = SQLExecute(stmt);\n\nkey = 3;\nstrncpy(name, "Denver", sizeof(name));\nret = SQLExecute(stmt);\n\n// Populate Person table\nSQLCHAR query2[] = "INSERT INTO Person (id, name, city_id) VALUES (?, ?, ?)";\n\nret = SQLPrepare(stmt, query2, static_cast<SQLSMALLINT>(sizeof(query2)));\n\nkey = 1;\nstrncpy(name, "John Doe", sizeof(name));\nint32_t city_id = 3;\nret = SQLExecute(stmt);\n\nkey = 2;\nstrncpy(name, "Jane Roe", sizeof(name));\ncity_id = 2;\nret = SQLExecute(stmt);\n\nkey = 3;\nstrncpy(name, "Mary Major", sizeof(name));\ncity_id = 1;\nret = SQLExecute(stmt);\n\nkey = 4;\nstrncpy(name, "Richard Miles", sizeof(name));\ncity_id = 2;\nret = SQLExecute(stmt);\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br")])]),n("p",[n("strong",[s._v("Java API")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("// Connecting to the cluster.")]),s._v("\nIgnite ignite "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" Ignition"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("start")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{attrs:{class:"token comment"}},[s._v("// Getting a reference to an underlying cache created for City table above.")]),s._v("\nIgniteCache"),n("span",{attrs:{class:"token generics function"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("Long"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" City"),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" cityCache "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" ignite"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("cache")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v('"SQL_PUBLIC_CITY"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{attrs:{class:"token comment"}},[s._v("// Getting a reference to an underlying cache created for Person table above.")]),s._v("\nIgniteCache"),n("span",{attrs:{class:"token generics function"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("PersonKey"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Person"),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" personCache "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" ignite"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("cache")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v('"SQL_PUBLIC_PERSON"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{attrs:{class:"token comment"}},[s._v("// Inserting entries into City.")]),s._v("\nSqlFieldsQuery query "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{attrs:{class:"token class-name"}},[s._v("SqlFieldsQuery")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{attrs:{class:"token string"}},[s._v('"INSERT INTO City (id, name) VALUES (?, ?)"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ncityCache"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("query")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("query"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("setArgs")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"Forest Hill"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("getAll")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ncityCache"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("query")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("query"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("setArgs")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"Denver"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("getAll")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ncityCache"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("query")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("query"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("setArgs")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("3")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"St. Petersburg"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("getAll")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{attrs:{class:"token comment"}},[s._v("// Inserting entries into Person.")]),s._v("\nquery "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{attrs:{class:"token class-name"}},[s._v("SqlFieldsQuery")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{attrs:{class:"token string"}},[s._v('"INSERT INTO Person (id, name, city_id) VALUES (?, ?, ?)"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\npersonCache"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("query")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("query"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("setArgs")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"John Doe"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("3")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("getAll")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\npersonCache"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("query")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("query"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("setArgs")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"Jane Roe"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("getAll")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\npersonCache"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("query")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("query"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("setArgs")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("3")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"Mary Major"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("getAll")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\npersonCache"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("query")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("query"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("setArgs")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("4")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"Richard Miles"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("getAll")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])]),n("h3",{attrs:{id:"_1-2-6-查询数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-6-查询数据","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.2.6.查询数据")]),s._v(" "),n("p",[s._v("数据加载之后，就可以执行查询了。下面就是如何查询数据的示例，其中包括两个表之间的关联：\n"),n("strong",[s._v("SQL：")])]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" City"),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" name\n"),n("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" City\n"),n("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" p"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name\n"),n("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Person p"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" City c\n"),n("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" p"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("city_id "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" c"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[n("strong",[s._v("JDBC：")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("// Get data using an SQL join sample.")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Statement stmt "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" conn"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("createStatement")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ResultSet rs "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("\n    stmt"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("executeQuery")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v('"SELECT p.name, c.name "')]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v("\n    "),n("span",{attrs:{class:"token string"}},[s._v('" FROM Person p, City c "')]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v("\n    "),n("span",{attrs:{class:"token string"}},[s._v('" WHERE p.city_id = c.id"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n      System"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("println")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v('"Query result:"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n      "),n("span",{attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rs"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("next")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n         System"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("println")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v('">>>    "')]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" rs"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("getString")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v("\n            "),n("span",{attrs:{class:"token string"}},[s._v('", "')]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" rs"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("getString")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[n("strong",[s._v("ODBC：")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('SQLHSTMT stmt;\n\n// Allocate a statement handle\nSQLAllocHandle(SQL_HANDLE_STMT, dbc, &stmt);\n\n// Get data using an SQL join sample.\nSQLCHAR query[] = "SELECT p.name, c.name "\n  "FROM Person p, City c "\n  "WHERE p.city_id = c.id";\n\nSQLSMALLINT queryLen = static_cast<SQLSMALLINT>(sizeof(query));\n\nSQLRETURN ret = SQLExecDirect(stmt, query, queryLen);\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[n("strong",[s._v("Java API")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("// Connecting to the cluster.")]),s._v("\nIgnite ignite "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" Ignition"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("start")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{attrs:{class:"token comment"}},[s._v("// Getting a reference to an underlying cache created for City table above.")]),s._v("\nIgniteCache"),n("span",{attrs:{class:"token generics function"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("Long"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" City"),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" cityCache "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" ignite"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("cache")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v('"SQL_PUBLIC_CITY"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{attrs:{class:"token comment"}},[s._v("// Querying data from the cluster using a distributed JOIN.")]),s._v("\nSqlFieldsQuery query "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{attrs:{class:"token class-name"}},[s._v("SqlFieldsQuery")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v('"SELECT p.name, c.name "')]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v("\n    "),n("span",{attrs:{class:"token string"}},[s._v('" FROM Person p, City c WHERE p.city_id = c.id"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nFieldsQueryCursor"),n("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("List"),n("span",{attrs:{class:"token operator"}},[s._v("<")]),n("span",{attrs:{class:"token operator"}},[s._v("?")]),n("span",{attrs:{class:"token operator"}},[s._v(">>")]),s._v(" cursor "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" cityCache"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("query")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("query"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nIterator"),n("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("List"),n("span",{attrs:{class:"token operator"}},[s._v("<")]),n("span",{attrs:{class:"token operator"}},[s._v("?")]),n("span",{attrs:{class:"token operator"}},[s._v(">>")]),s._v(" iterator "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" cursor"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("iterator")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nSystem"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("println")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v('"Query result:"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("iterator"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("hasNext")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    List"),n("span",{attrs:{class:"token operator"}},[s._v("<")]),n("span",{attrs:{class:"token operator"}},[s._v("?")]),n("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" row "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" iterator"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("next")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    System"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("println")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v('">>>    "')]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" row"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("get")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("0")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('", "')]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" row"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("get")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("h3",{attrs:{id:"_1-2-7-修改数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-7-修改数据","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.2.7.修改数据")]),s._v(" "),n("p",[s._v("有时数据是需要修改的，这时就可以执行修改操作来修改已有的数据，下面是如何修改数据的示例：\n"),n("strong",[s._v("SQL：")])]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" City\n"),n("span",{attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" name "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'Foster City'")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[n("strong",[s._v("JDBC：")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("// Update")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Statement stmt "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" conn"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("createStatement")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{attrs:{class:"token comment"}},[s._v("// Update City")]),s._v("\n    stmt"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("executeUpdate")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v("\"UPDATE City SET name = 'Foster City' WHERE id = 2\"")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[n("strong",[s._v("ODBC：")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("SQLHSTMT stmt;\n\n// Allocate a statement handle\nSQLAllocHandle(SQL_HANDLE_STMT, dbc, &stmt);\n\n// Update City\nSQLCHAR query[] = \"UPDATE City SET name = 'Foster City' WHERE id = 2\"\n  \nSQLSMALLINT queryLen = static_cast<SQLSMALLINT>(sizeof(query));\n\nSQLRETURN ret = SQLExecDirect(stmt, query, queryLen);\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[n("strong",[s._v("Java API")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("// Updating a city entry.")]),s._v("\nSqlFieldsQuery query "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{attrs:{class:"token class-name"}},[s._v("SqlFieldsQuery")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{attrs:{class:"token string"}},[s._v("\"UPDATE City SET name = 'Foster City' WHERE id = 2\"")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ncityCache"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("query")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("query"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("getAll")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"_1-2-8-删除数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-8-删除数据","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.2.8.删除数据")]),s._v(" "),n("p",[s._v("可能还需要从数据库中删除数据，下面是删除数据的示例：\n"),n("strong",[s._v("SQL：")])]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Person\n"),n("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" name "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'John Doe'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("strong",[s._v("JDBC：")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("// Delete")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Statement stmt "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" conn"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("createStatement")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{attrs:{class:"token comment"}},[s._v("// Delete from Person")]),s._v("\n    stmt"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("executeUpdate")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v("\"DELETE FROM Person WHERE name = 'John Doe'\"")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[n("strong",[s._v("ODBC：")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("SQLHSTMT stmt;\n\n// Allocate a statement handle\nSQLAllocHandle(SQL_HANDLE_STMT, dbc, &stmt);\n\n// Delete from Person\nSQLCHAR query[] = \"DELETE FROM Person WHERE name = 'John Doe'\"\n  \nSQLSMALLINT queryLen = static_cast<SQLSMALLINT>(sizeof(query));\n\nSQLRETURN ret = SQLExecDirect(stmt, query, queryLen);\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[n("strong",[s._v("Java API")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("// Removing a person.")]),s._v("\nSqlFieldsQuery query "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{attrs:{class:"token class-name"}},[s._v("SqlFieldsQuery")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{attrs:{class:"token string"}},[s._v("\"DELETE FROM Person WHERE name = 'John Doe'\"")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\npersonCache"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("query")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("query"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("getAll")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"_1-2-9-示例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-9-示例","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.2.9.示例")]),s._v(" "),n("p",[s._v("GitHub上有和这个入门文档有关的完整"),n("a",{attrs:{href:"https://github.com/VeryFatBoy/Ignite-SQL-Getting-Started",target:"_self",rel:"noopener noreferrer"}},[s._v("代码")]),s._v("。")])])}],!1,null,null,null);e.options.__file="README.md";t.default=e.exports}}]);