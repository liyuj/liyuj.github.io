(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{124:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),e("p",[t._v("Ignite的Web控制台是一个WEB应用，需要构建、打包然后部署在自己的环境上。另外，它需要安装NodeJS，MongoDB以及Ignite的Web代理。")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),e("p",[t._v("Ignite的Web控制台启动运行之后，需要按照下面章节的步骤配置并且启动Web代理，代理是Ignite的Web控制台和Ignite集群之间的媒介。")]),t._v(" "),t._m(9),t._v(" "),e("p",[t._v("Ignite的Web代理是一个独立的Java应用，它可以建立Ignite集群与Web控制台之间的连接。Web Agent与集群节点间采用REST接口进行通信，而与Web控制台之间采用WebSocket进行通信。")]),t._v(" "),t._m(10),t._v(" "),e("p",[t._v("举例来说，Ignite的Web Agent功能如下：")]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._m(26),t._v(" "),t._m(27),t._v(" "),e("p",[t._v("可用的属性如下：")]),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),e("p",[t._v("如果代理需要认证，还需要提供如下的系统属性：")]),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),e("p",[t._v("Shell：")]),t._v(" "),t._m(37),e("p",[t._v("CMD：")]),t._v(" "),t._m(38),t._m(39),t._v(" "),t._m(40),t._v(" "),t._m(41),t._v(" "),e("p",[t._v("如果代理需要认证，还需要提供如下的系统属性：")]),t._v(" "),t._m(42),t._v(" "),t._m(43),t._v(" "),e("p",[t._v("Shell：")]),t._v(" "),t._m(44),e("p",[t._v("CMD：")]),t._v(" "),t._m(45),t._m(46),t._v(" "),t._m(47),t._v(" "),t._m(48),t._v(" "),e("p",[t._v("如果代理需要认证，还需要提供如下的系统属性：")]),t._v(" "),t._m(49),t._v(" "),t._m(50),t._v(" "),e("p",[t._v("Shell:")]),t._v(" "),t._m(51),e("p",[t._v("CMD:")]),t._v(" "),t._m(52),t._m(53),t._v(" "),t._m(54),t._v(" "),e("p",[t._v("为了在本地部署Ignite的Web控制台，需要先安装：")]),t._v(" "),t._m(55),t._v(" "),e("p",[t._v("开始之前需要下载依赖：")]),t._v(" "),t._m(56),t._v(" "),t._m(57),t._m(58),t._v(" "),t._m(59),t._m(60),t._v(" "),t._m(61),t._v(" "),t._m(62),t._m(63),t._v(" "),t._m(64),t._v(" "),e("p",[t._v("要在开发模式中运行Ignite的Web控制台，可以按照如下步骤操作：")]),t._v(" "),t._m(65),t._v(" "),t._m(66),t._v(" "),t._m(67),t._v(" "),t._m(68),t._v(" "),t._m(69),t._v(" "),t._m(70),t._v(" "),t._m(71),t._v(" "),t._m(72),t._v(" "),t._m(73),t._v(" "),t._m(74),t._v(" "),t._m(75),t._v(" "),t._m(76),t._m(77),t._v(" "),t._m(78),t._v(" "),e("p",[t._v("httpd.conf:")]),t._v(" "),t._m(79),t._m(80),t._v(" "),t._m(81),t._v(" "),t._m(82),t._v(" "),t._m(83),t._v(" "),t._m(84),t._m(85),t._v(" "),t._m(86),t._v(" "),t._m(87),t._v(" "),t._m(88),t._v(" "),t._m(89),t._v(" "),t._m(90),t._v(" "),t._m(91),t._v(" "),e("p",[t._v("可以使用Web控制台的演示模式来研究和评估它有关配置和管理集群的各种功能，这个模式中，可以检查预定义的集群、缓存以及领域模型，它还启动了一个内置的H2数据库实例，可以执行各种SQL查询以及查看数据报表，还可以监控各种缓存和节点的指标，比如集群的CPU和堆使用量等。")]),t._v(" "),t._m(92),t._v(" "),t._m(93),t._v(" "),t._m(94),t._v(" "),t._m(95),t._m(96),t._v(" "),t._m(97),t._v(" "),t._m(98),t._v(" "),t._m(99),t._v(" "),t._m(100),t._v(" "),e("p",[t._v("演示模式中，已连接的Web代理中已经启动了H2数据库实例，如下方法可以验证：")]),t._v(" "),t._m(101),t._v(" "),t._m(102),t._v(" "),e("p",[t._v("该模式中，会启动一个客户端和三个服务端节点，会创建一些缓存并且注入了数据，如下方法可以验证：")]),t._v(" "),t._m(103),t._v(" "),e("p",[t._v("比如输入如下的SQL：")]),t._v(" "),t._m(104),t._m(105),t._v(" "),t._m(106),t._v(" "),t._m(107),t._v(" "),t._m(108),t._v(" "),t._m(109),t._v(" "),t._m(110),t._v(" "),t._m(111),t._v(" "),t._m(112),t._m(113),t._v(" "),e("p",[t._v("default.properties：")]),t._v(" "),t._m(114),t._m(115),t._v(" "),t._m(116),t._m(117),t._v(" "),e("p",[t._v("下面是部署的完整步骤：")]),t._v(" "),t._m(118),t._v(" "),t._m(119),t._v(" "),t._m(120),t._v(" "),t._m(121),t._v(" "),e("p",[t._v("Docker更新容器的方式如下：")]),t._v(" "),t._m(122),t._v(" "),t._m(123),t._v(" "),t._m(124),t._v(" "),t._m(125),t._v(" "),t._m(126),t._v(" "),t._m(127),t._v(" "),e("p",[t._v("web-console.conf：")]),t._v(" "),t._m(128),t._m(129),t._v(" "),t._m(130),t._v(" "),t._m(131),t._v(" "),t._m(132),t._v(" "),e("p",[t._v("如果要在Kubernetes环境中安装Ignite的Web控制台，需要将4个组件部署为Docker镜像：")]),t._v(" "),t._m(133),t._v(" "),e("p",[t._v("以下部分将介绍完成安装这些组件所需的步骤。")]),t._v(" "),t._m(134),t._v(" "),e("p",[t._v("下面的配置定义了MongoDB安装所需的参数，它配置了如下的资源：")]),t._v(" "),t._m(135),t._v(" "),e("p",[t._v("mongodb-deployment.yaml：")]),t._v(" "),t._m(136),t._m(137),t._v(" "),t._m(138),e("p",[t._v("通过下面的命令可以验证MongoDB配置组是否正在运行：")]),t._v(" "),t._m(139),t._m(140),t._v(" "),e("p",[t._v("要安装Web控制台，需要2个Docker镜像，一个前台一个后台。")]),t._v(" "),t._m(141),t._v(" "),t._m(142),t._v(" "),t._m(143),t._m(144),t._v(" "),e("p",[t._v("如果要使用Docker Hub上的专用Docker存储库来获取前端和后端的Docker镜像，则需要添加一个具有访问存储库所需凭据的注册表项，为此，请使用以下命令：")]),t._v(" "),t._m(145),e("p",[t._v("它会被用于部署的配置中。")]),t._v(" "),t._m(146),t._v(" "),t._m(147),t._v(" "),e("p",[t._v("下面的配置创建了前端和后端的部署，在该文件中，需要指定下面的参数：")]),t._v(" "),t._m(148),t._v(" "),e("p",[t._v("web-console-deployment.yaml：")]),t._v(" "),t._m(149),t._m(150),t._v(" "),t._m(151),t._m(152),t._v(" "),e("p",[t._v("安装Web代理之前，需要有一个正在运行的Ignite集群，并且这个Web代理要和集群安装在同一个命名空间中，关于Ignite的Kubernetes环境部署的详细信息，可以参见这个"),e("router-link",{attrs:{to:"/doc/java/KubernetesDeployment.html#_20-1-kubernetes部署"}},[t._v("文档")]),t._v("。")],1),t._v(" "),t._m(153),t._v(" "),t._m(154),t._v(" "),t._m(155),t._v(" "),t._m(156),t._v(" "),t._m(157),t._v(" "),e("p",[t._v("指定如下的参数：")]),t._v(" "),t._m(158),t._v(" "),e("p",[t._v("web-agent-deployment.yaml：")]),t._v(" "),t._m(159),t._m(160),t._v(" "),t._m(161),e("p",[t._v("确认Web代理是否已经在运行：")]),t._v(" "),t._m(162)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"_1-ignite-web控制台"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-ignite-web控制台","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.Ignite Web控制台")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_1-1-ignite-web控制台"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-ignite-web控制台","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.1.Ignite Web控制台")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("Ignite Web控制台")]),this._v("是一个交互式的配置向导、管理和监控工具。它可以：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("创建和下载Ignite集群使用的各种配置：\n"),s("img",{attrs:{src:"https://files.readme.io/f5eeab2-cluster.png",alt:""}})]),this._v(" "),s("li",[this._v("从任意RDBMS的模式中自动化构造Ignite的SQL元数据：\n"),s("img",{attrs:{src:"https://files.readme.io/16d8b74-model.png",alt:""}})]),this._v(" "),s("li",[this._v("在内存缓存中执行SQL查询，以及查看执行计划。\n"),s("img",{attrs:{src:"https://files.readme.io/0383009-Screen_Shot_2017-02-02_at_12.47.09_PM.png",alt:""}})])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Ignite的"),s("strong",[this._v("Web控制台")]),this._v("，是一个可以部署在系统环境中的Web应用。它可以配置所有的集群属性，从数据库中导入模式用于与持久化存储集成。它可以接入特定的数据库然后生成所有必要的OR映射配置（XML以及纯Java）以及Java领域模型POJOs。Web控制台还有集群监控的功能（使用GridGain单独的插件实现），它会显示各种缓存以及节点的指标数据，比如CPU和堆的使用情况等。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_1-2-入门"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-入门","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.2.入门")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-2-1-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.2.1.安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("参照"),s("code",[this._v("构建和部署")]),this._v("章节的文档，然后按照步骤操作即可。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("一个免费已部署的Ignite Web控制台实例")]),this._v(" "),s("p",[this._v("在构建和部署自己的本地Ignite Web控制台实例之前，可以看一下一个免费已部署的"),s("a",{attrs:{href:"https://console.gridgain.com/",target:"_self",rel:"noopener noreferrer"}},[this._v("Web控制台实例")]),this._v("，利用这个站点，花几分钟就可以大概了解控制台的已有功能。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-2-2-ignite-web代理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-ignite-web代理","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.2.2.Ignite Web代理")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://files.readme.io/924bc44-Apache-Ignite-Cluster.png",alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Web控制台与Ignite集群之间执行SQL查询的代理；")]),this._v(" "),s("li",[this._v("Web控制台与RDBMS之间的代理。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://files.readme.io/7affb9b-ignite-web-console-schema-import.png",alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("使用")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Ignite Web代理的zip压缩包中的"),s("code",[this._v("ignite-web-agent.{sh|bat}")]),this._v("脚本可用于启动这个代理。一定要满足下面的必要条件，使得代理可以在Ignite集群和Ignite Web控制台之间建立连接。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("1.为了与Web代理通信，Ignite节点需要开启REST服务模式（将"),s("code",[this._v("ignite-rest-http")]),this._v("文件夹从"),s("code",[this._v("lib/optional/")]),this._v("移动到"),s("code",[this._v("lib/")]),this._v("中）。如果是从IDE启动节点，那么需要将下面的依赖加入pom.xml文件；")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-xml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.apache.ignite"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("ignite-rest-http"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{ignite.version}"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("2.配置Web代理的"),s("code",[this._v("serverURI")]),this._v("属性，将其指向Ignite节点的REST服务的URL，代理默认会连接"),s("code",[this._v("http://localhost:8080")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("启动Web代理")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在终端中，可以使用"),s("code",[this._v("ignite-web-agent.{sh|bat}")]),this._v("脚本从Web代理的根目录中启动Web代理，如下：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ ./ignite-web-agent.sh\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("配置")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("配置文件")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Ignite的Web代理默认会试图从"),s("code",[this._v("default.properties")]),this._v("文件中加载配置。这个文件的内容需要遵循一个简单的基于行的格式。")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",[t._v("可用的属性名包括："),e("code",[t._v("tokens")]),t._v("，"),e("code",[t._v("server-uri")]),t._v("，"),e("code",[t._v("node-uri")]),t._v("，"),e("code",[t._v("driver-folder")]),t._v("。")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-properties line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("tokens")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("1a2b3c4d5f,2j1s134d12")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("serverURI")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("https://console.example.com:3001")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("命令行参数")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("要获得帮助，可以在终端中执行"),s("code",[this._v("ignite-web-agent.{sh|bat} -h")]),this._v("或者"),s("code",[this._v("ignite-web-agent.{sh|bat} --help")]),this._v("。")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[e("code",[t._v("-h")]),t._v(","),e("code",[t._v("--help")]),t._v("：输出帮助信息；")]),t._v(" "),e("li",[e("code",[t._v("-c")]),t._v(","),e("code",[t._v("--config")]),t._v("：配置文件路径；")]),t._v(" "),e("li",[e("code",[t._v("-d")]),t._v(","),e("code",[t._v("--driver-folder")]),t._v("：JDBC驱动所在文件夹路径，默认值是"),e("code",[t._v("./jdbc-drivers")]),t._v("；")]),t._v(" "),e("li",[e("code",[t._v("-n")]),t._v(","),e("code",[t._v("--node-uri")]),t._v("：要接入的Ignite REST服务端的URI，默认值是"),e("code",[t._v("http://localhost:8080")]),t._v("；")]),t._v(" "),e("li",[e("code",[t._v("-s")]),t._v(","),e("code",[t._v("--server-uri")]),t._v("：要接入的Ignite Web控制台的URI，默认值是"),e("code",[t._v("http://localhost:3001")]),t._v(";")]),t._v(" "),e("li",[e("code",[t._v("-t")]),t._v(","),e("code",[t._v("--tokens")]),t._v("：用户的安全令牌。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("代理配置")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("代理可以通过将系统属性、"),s("code",[this._v("JVM_OPTS")]),this._v("环境变量的方式传给Web代理。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在如下文档中可以找到详细的描述：\n"),s("a",{attrs:{href:"http://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html",target:"_self",rel:"noopener noreferrer"}},[this._v("http://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("HTTP")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("http.proxyHost")]),this._v("：代理服务器的主机名或者地址；")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("http.proxyPort")]),this._v("：代理服务器的端口号。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("http.proxyUsername")]),this._v("：用户名；")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("http.proxyPassword")]),this._v("：密码。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("JVM_OPTS"),s("span",{pre:!0,attrs:{class:"token operator"}},[this._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[this._v('"-Dhttp.proxyHost=<proxy-hostname> -Dhttp.proxyPort=<proxy-port> -Dhttp.proxyUsername=<proxy-username> -Dhttp.proxyPassword=<proxy-password>"')]),this._v(" ./ignite-web-agent.sh\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-batch line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-batch"}},[e("code",[e("span",{pre:!0,attrs:{class:"token command"}},[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("JVM_OPTS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Dhttp."),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("proxyHost")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("<proxy"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("hostname> "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Dhttp."),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("proxyPort")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("<proxy"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("port> "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Dhttp."),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("proxyUsername")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("<proxy"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("username> "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Dhttp."),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("proxyPassword")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("<proxy"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("password>")]),t._v("\n./ignite-web-agent.bat\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("HTTPS")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("https.proxyHost")]),this._v("：代理服务器的主机名或者地址；")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("https.proxyPort")]),this._v("：代理服务器的端口号。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("https.proxyUsername")]),this._v("：用户名；")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("https.proxyPassword")]),this._v("：密码。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("JVM_OPTS"),s("span",{pre:!0,attrs:{class:"token operator"}},[this._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[this._v('"-Dhttps.proxyHost=<proxy-hostname> -Dhttps.proxyPort=<proxy-port> -Dhttps.proxyUsername=<proxy-username> -Dhttps.proxyPassword=<proxy-password>"')]),this._v(" ./ignite-web-agent.sh\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-batch line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-batch"}},[e("code",[e("span",{pre:!0,attrs:{class:"token command"}},[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("JVM_OPTS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Dhttps."),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("proxyHost")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("<proxy"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("hostname> "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Dhttps."),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("proxyPort")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("<proxy"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("port> "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Dhttps."),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("proxyUsername")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("<proxy"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("username> "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Dhttps."),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("proxyPassword")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("<proxy"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("password>")]),t._v("\n./ignite-web-agent.bat\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("SOCKS")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("socksProxyHost")]),this._v("：代理服务器的主机名或者地址；")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("socksProxyPort")]),this._v("：代理服务器的端口号。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("java.net.socks.username")]),this._v("：用户名；")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("java.net.socks.password")]),this._v("：密码。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("JVM_OPTS"),s("span",{pre:!0,attrs:{class:"token operator"}},[this._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[this._v('"-DsocksProxyHost=<proxy-hostname> -DsocksProxyPort=<proxy-port> -Djava.net.socks.username=<proxy-username> -Djava.net.socks.password=<proxy-password>"')]),this._v(" ./ignite-web-agent.sh\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-batch line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-batch"}},[e("code",[e("span",{pre:!0,attrs:{class:"token command"}},[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("JVM_OPTS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("DsocksProxyHost")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("<proxy"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("hostname> "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("DsocksProxyPort")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("<proxy"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("port> "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Djava.net.socks."),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("username")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("<proxy"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("username> "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Djava.net.socks."),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("password")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("<proxy"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("password>")]),t._v("\n./ignite-web-agent.bat\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_1-3-构建和部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-构建和部署","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.3.构建和部署")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-3-1-要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-1-要求","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.3.1.要求")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("MongoDB（版本>=3.2.x <=3.4.15），具体可以参照"),s("a",{attrs:{href:"http://docs.mongodb.org/manual/installation",target:"_self",rel:"noopener noreferrer"}},[this._v("文档")]),this._v("；")]),this._v(" "),s("li",[this._v("NodeJS（8.0.0以上版本），可以从"),s("a",{attrs:{href:"https://nodejs.org/en/download/current",target:"_self",rel:"noopener noreferrer"}},[this._v("https://nodejs.org/en/download/current")]),this._v("针对具体的OS找到相对应的安装文件。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("后台：")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$IGNITE_HOME")]),t._v("/modules/web-console/backend\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --no-optional\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("前台：")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$IGNITE_HOME")]),t._v("/modules/web-console/frontend\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --no-optional\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-3-2-构建ignite-web代理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-2-构建ignite-web代理","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.3.2.构建Ignite Web代理")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("要从源代码构建Ignite的Web代理，需要在"),s("code",[this._v("$IGNITE_HOME")]),this._v("文件夹中执行如下的命令：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("mvn clean package -pl :ignite-web-agent -am -P web-console -DskipTests"),s("span",{pre:!0,attrs:{class:"token operator"}},[this._v("=")]),this._v("true\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("构建过程完成后，会在"),s("code",[this._v("$IGNITE_HOME/modules/web-console/web-agent/taget")]),this._v("中找到"),s("code",[this._v("ignite-web-agent-x.x.x.zip")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-3-3-在开发模式中运行ignite的web控制台"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-3-在开发模式中运行ignite的web控制台","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.3.3.在开发模式中运行Ignite的Web控制台")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("配置MongoDB以服务的模式运行，或者在终端中执行"),e("code",[t._v("mongod")]),t._v("命令来启动MongoDB；")]),t._v(" "),e("li",[t._v("将"),e("code",[t._v("ignite-web-agent-x.x.x.zip")]),t._v("复制到"),e("code",[t._v("$IGNITE_HOME/modules/web-console/backend/agent_dists")]),t._v("文件夹；")]),t._v(" "),e("li",[t._v("在终端中切换到"),e("code",[t._v("$IGNITE_HOME/modules/web-console/backend")]),t._v("，如果需要，运行"),e("code",[t._v("npm install --no-optional")]),t._v("(如果依赖改变)，然后运行"),e("code",[t._v("npm start")]),t._v("启动后台；")]),t._v(" "),e("li",[t._v("在另一个终端中切换到"),e("code",[t._v("$IGNITE_HOME/modules/web-console/frontend")]),t._v("，如果需要，运行"),e("code",[t._v("npm install --no-optional")]),t._v("(如果依赖改变)，然后运行"),e("code",[t._v("npm start")]),t._v("以开发模式启动webpack；")]),t._v(" "),e("li",[t._v("在浏览器中打开："),e("code",[t._v("http://localhost:9000")]),t._v("；")]),t._v(" "),e("li",[t._v("在"),e("a",{attrs:{href:"#_1-2-%E5%85%A5%E9%97%A8"}},[t._v("入门")]),t._v("章节中可以看到如何将部署的控制台接入一个远程集群，或者如何在远程主机上访问控制台。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-3-4-在生产模式中运行ignite的web控制台"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-4-在生产模式中运行ignite的web控制台","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.3.4.在生产模式中运行Ignite的Web控制台")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("前提条件")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("安装了Apache HTTP Server的2.2及更新的版本或者nginx；")]),this._v(" "),s("li",[this._v("为Ignite的Web控制台分配一个专用的主机名（可选）。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("启动后台")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("配置MongoDB以服务的模式运行，或者在终端中执行"),e("code",[t._v("mongod")]),t._v("命令来启动MongoDB；")]),t._v(" "),e("li",[t._v("将"),e("code",[t._v("ignite-web-agent-x.x.x.zip")]),t._v("复制到"),e("code",[t._v("$IGNITE_HOME/modules/web-console/backend/agent_dists")]),t._v("文件夹；")]),t._v(" "),e("li",[t._v("在终端中切换到"),e("code",[t._v("$IGNITE_HOME/modules/web-console/backend")]),t._v("；")]),t._v(" "),e("li",[t._v("运行"),e("code",[t._v("npm start")]),t._v("启动后台。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("注意")]),this._v(" "),s("p",[this._v("如果希望以守护进程模式运行后台，需要为NodeJS应用使用进程管理器：pm2，forever等。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("构建前台")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("在另一个终端中切换到"),e("code",[t._v("$IGNITE_HOME/modules/web-console/frontend")]),t._v(";")]),t._v(" "),e("li",[t._v("运行"),e("code",[t._v("npm run build")]),t._v("为Web服务器生成文件（html、js、css）；")]),t._v(" "),e("li",[t._v("生成的文件位于"),e("code",[t._v("$IGNITE_HOME/modules/web-console/frontend/build")]),t._v("。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("配置Apache HTTP Server")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("将"),e("code",[t._v("$IGNITE_HOME/modules/web-console/frontend/build")]),t._v("文件夹的内容复制到"),e("code",[t._v("$IGNITE_HOME/modules/web-console/frontend/build")]),t._v(";")]),t._v(" "),e("li",[t._v("如果Apache HTTP Server为多个站点提供服务，那么需要将下面的虚拟主机添加到"),e("code",[t._v("/etc/httpd/conf/httpd.conf")]),t._v("：\nhttpd.conf:")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<VirtualHost *:80>\n  ServerName www.WEB_CONSOLE_HOSTNAME\n  ServerAlias WEB_CONSOLE_HOSTNAME\n\n  DocumentRoot "/var/www/web-console-static"\n\n  RewriteEngine on\n\n  <Directory "/var/www/web-console-static">\n  AllowOverride All\n  Allow from all\n  </Directory>\n\n  ProxyRequests off\n\n  <proxy *>\n  Order deny,allow\n  Allow from all\n  </proxy>\n\n  ProxyPreserveHost On\n  RequestHeader set Host "WEB_CONSOLE_HOSTNAME"\n\n  RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} -f\n  RewriteRule ^ - [L]\n\n  RewriteCond %{HTTP:UPGRADE} ^WebSocket$ [NC]\n  RewriteCond %{HTTP:CONNECTION} ^Upgrade$ [NC]\n  RewriteRule .* ws://localhost:3000%{REQUEST_URI} [P,L]\n\n  RewriteCond %{REQUEST_URI} ^/agents/.* [OR]\n  RewriteCond %{REQUEST_URI} ^/socket.io/.*\n  RewriteRule ^ http://localhost:3000%{REQUEST_URI} [P,L]\n\n  RewriteCond %{REQUEST_URI} ^/api/v1/.*$\n  RewriteRule ^/api/v1/(.*)$ http://localhost:3000/$1 [P,L]\n\n  RewriteRule ^ /index.html [L]\n</VirtualHost>\n')])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br"),e("span",{staticClass:"line-number"},[t._v("29")]),e("br"),e("span",{staticClass:"line-number"},[t._v("30")]),e("br"),e("span",{staticClass:"line-number"},[t._v("31")]),e("br"),e("span",{staticClass:"line-number"},[t._v("32")]),e("br"),e("span",{staticClass:"line-number"},[t._v("33")]),e("br"),e("span",{staticClass:"line-number"},[t._v("34")]),e("br"),e("span",{staticClass:"line-number"},[t._v("35")]),e("br"),e("span",{staticClass:"line-number"},[t._v("36")]),e("br"),e("span",{staticClass:"line-number"},[t._v("37")]),e("br"),e("span",{staticClass:"line-number"},[t._v("38")]),e("br"),e("span",{staticClass:"line-number"},[t._v("39")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("注意")]),this._v(" "),s("p",[this._v("上面文件中的"),s("strong",[this._v("WEB_CONSOLE_HOSTNAME")]),this._v("，需要替换为部署Web控制台实例的机器的主机名。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果Apache HTTP Server还用于部署的Web控制台，那么下面的配置也需要添加到"),s("code",[this._v("/etc/httpd/conf/httpd.conf")]),this._v(":")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('ServerName localhost\n\nDocumentRoot "/var/www/web-console-static"\n\nRewriteEngine on\n\n<Directory "/var/www/web-console-static">\nAllowOverride All\nAllow from all\n</Directory>\n\nProxyRequests off\n\n<proxy *>\nOrder deny,allow\nAllow from all\n</proxy>\n\nProxyPreserveHost On\nRequestHeader set Host "EXTERNAL_SERVER_IP"\n\nRewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} -f\nRewriteRule ^ - [L]\n\nRewriteCond %{REQUEST_URI} ^/agents/.* [OR]\nRewriteCond %{REQUEST_URI} ^/socket.io/.*\nRewriteRule ^ http://localhost:3000%{REQUEST_URI} [P,L]\n\nRewriteCond %{HTTP:UPGRADE} ^WebSocket$ [NC]\nRewriteCond %{HTTP:CONNECTION} ^Upgrade$ [NC]\nRewriteRule .* ws://localhost:3000%{REQUEST_URI} [P,L]\n\nRewriteCond %{REQUEST_URI} ^/api/v1/.*$\nRewriteRule ^/api/v1/(.*)$ http://localhost:3000/$1 [P,L]\n\nRewriteRule ^ /index.html [L]  \n')])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br"),e("span",{staticClass:"line-number"},[t._v("29")]),e("br"),e("span",{staticClass:"line-number"},[t._v("30")]),e("br"),e("span",{staticClass:"line-number"},[t._v("31")]),e("br"),e("span",{staticClass:"line-number"},[t._v("32")]),e("br"),e("span",{staticClass:"line-number"},[t._v("33")]),e("br"),e("span",{staticClass:"line-number"},[t._v("34")]),e("br"),e("span",{staticClass:"line-number"},[t._v("35")]),e("br"),e("span",{staticClass:"line-number"},[t._v("36")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("注意")]),this._v(" "),s("p",[this._v("上面的"),s("strong",[this._v("EXTERNAL_SERVER_IP")]),this._v("，需要替换为部署Web控制台实例的机器的主机名。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("执行"),s("code",[this._v("sudo apachectl restart")]),this._v("重启Apache HTTP Server以使配置生效。\n打开浏览器，根据部署类型打开下面的地址中的一个："),s("code",[this._v("http://WEB_CONSOLE_HOSTNAME")]),this._v("或"),s("code",[this._v("http://EXTERNAL_SERVER_IP")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("配置nginx HTTP Server")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("将"),e("code",[t._v("$IGNITE_HOME/modules/web-console/frontend/build")]),t._v("文件夹中的内容复制到"),e("code",[t._v("/var/www/web-console-static")]),t._v(";")]),t._v(" "),e("li",[t._v("如果一个nginx HTTP Server为多个站点提供服务，需要为虚拟主机创建一个配置。比如创建一个配置文件"),e("code",[t._v("/etc/nginx/conf.d/web-console.conf")]),t._v("，内容如下：\n/etc/nginx/conf.d/web-console.conf：")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('upstream backend-api {\n  server localhost:3000;\n}\n\nserver {\n  listen 80;\n  server_name EXTERNAL_SERVER_IP WEB_CONSOLE_HOSTNAME;\n\n  set $ignite_console_dir /var/www/web-console-static;\n\n  root $ignite_console_dir;\n\n  error_page 500 502 503 504 /50x.html;\n\n  location / {\n    try_files $uri /index.html = 404;\n  }\n\n  location /api/v1 {\n    rewrite /api/v1/(.*) /$1 break;\n    proxy_set_header Host $http_host;\n    proxy_pass http://backend-api;\n  }\n\n  location /socket.io {\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection "upgrade";\n    proxy_http_version 1.1;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header Host $host;\n    proxy_pass http://backend-api;\n  }\n\n  location /agents {\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection "upgrade";\n    proxy_http_version 1.1;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header Host $host;\n    proxy_pass http://backend-api;\n  }\n\n  location = /50x.html {\n    root $ignite_console_dir/error_page;\n  }\n}\n')])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br"),e("span",{staticClass:"line-number"},[t._v("29")]),e("br"),e("span",{staticClass:"line-number"},[t._v("30")]),e("br"),e("span",{staticClass:"line-number"},[t._v("31")]),e("br"),e("span",{staticClass:"line-number"},[t._v("32")]),e("br"),e("span",{staticClass:"line-number"},[t._v("33")]),e("br"),e("span",{staticClass:"line-number"},[t._v("34")]),e("br"),e("span",{staticClass:"line-number"},[t._v("35")]),e("br"),e("span",{staticClass:"line-number"},[t._v("36")]),e("br"),e("span",{staticClass:"line-number"},[t._v("37")]),e("br"),e("span",{staticClass:"line-number"},[t._v("38")]),e("br"),e("span",{staticClass:"line-number"},[t._v("39")]),e("br"),e("span",{staticClass:"line-number"},[t._v("40")]),e("br"),e("span",{staticClass:"line-number"},[t._v("41")]),e("br"),e("span",{staticClass:"line-number"},[t._v("42")]),e("br"),e("span",{staticClass:"line-number"},[t._v("43")]),e("br"),e("span",{staticClass:"line-number"},[t._v("44")]),e("br"),e("span",{staticClass:"line-number"},[t._v("45")]),e("br"),e("span",{staticClass:"line-number"},[t._v("46")]),e("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),e("p",[t._v("上面的"),e("strong",[t._v("EXTERNAL_SERVER_IP")]),t._v("，需要替换为部署Web控制台实例的机器的主机名。")]),t._v(" "),e("p",[e("strong",[t._v("WEB_CONSOLE_HOSTNAME")]),t._v("，需要替换为部署Web控制台实例的机器的主机名。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("执行"),s("code",[this._v("sudo service nginx restart")]),this._v("重启Nginx HTTP Server以使配置生效。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("打开浏览器，根据部署类型打开下面的地址中的一个："),s("code",[this._v("http://WEB_CONSOLE_HOSTNAME")]),this._v("或"),s("code",[this._v("http://EXTERNAL_SERVER_IP")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("问题解决")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果在浏览器中出现了"),s("code",[this._v("Forbidden")]),this._v("这样的错误，那么需要检查操作系统中所有的安全策略都配置正确了。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_1-4-演示模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-演示模式","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.4.演示模式")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-4-1-摘要"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-1-摘要","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.4.1.摘要")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-4-2-启动演示模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-2-启动演示模式","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.4.2.启动演示模式")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("要开启演示模式，需要点击控制台顶部菜单的"),s("code",[this._v("Start demo")]),this._v("按钮。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("下载然后解压Ignite的Web代理；\n"),s("img",{attrs:{src:"https://files.readme.io/037ccba-download-web-agent.png",alt:""}})]),this._v(" "),s("li",[this._v("打开命令行终端，假定当前在"),s("code",[this._v("ignite-web-agent")]),this._v("目录，运行如下的命令：")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("./ignite-web-agent.sh\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://files.readme.io/ca768c5-start-ignite-web-agent.png",alt:""}}),this._v("\n启动Web代理之后，回到浏览器中就可以：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("配置集群和缓存")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("点击控制台侧边栏上的"),s("code",[this._v("Clusters")]),this._v("和"),s("code",[this._v("Caches")]),this._v("，可以查看和设定Ignite的配置参数，点击"),s("code",[this._v("Summary")]),this._v("可以下载这些配置的XML和Java格式文件，这个页面还可以下载一个可用的基于Maven的工程。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://files.readme.io/857edc8-summary.png",alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("导入领域模型")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("打开控制台的"),e("code",[t._v("Domain model")]),t._v("界面；")]),t._v(" "),e("li",[t._v("点击"),e("code",[t._v("Import from database")]),t._v("，可以看到一个描述Demo的模态窗口；")]),t._v(" "),e("li",[t._v("点击"),e("code",[t._v("Next")]),t._v("会看到一个可用模式的列表；")]),t._v(" "),e("li",[t._v("点击"),e("code",[t._v("Next")]),t._v("会看到一个可用表的列表；")]),t._v(" "),e("li",[t._v("点击"),e("code",[t._v("Next")]),t._v("会看到导入的选项；")]),t._v(" "),e("li",[t._v("选择之后点击"),e("code",[t._v("Save")]),t._v("。\n"),e("img",{attrs:{src:"https://files.readme.io/fbf02ed-domain-model.png",alt:""}})])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("执行SQL查询")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("点击Web控制台顶层菜单的"),e("code",[t._v("Queries")]),t._v("选项卡；")]),t._v(" "),e("li",[t._v("会打开预配置"),e("code",[t._v("SQL Demo")]),t._v("查询的笔记本；")]),t._v(" "),e("li",[t._v("在demo数据库中，可以执行SQL查询，其中有表："),e("code",[t._v("Country, Department, Employee, Parking, Car")]),t._v("；")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" p"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" cnt "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ParkingCache"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Parking p"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INNER")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("JOIN")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CarCache"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Car c "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("c"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parkingId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("GROUP")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BY")]),t._v(" P"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("NAME\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("点击"),s("code",[this._v("Execute")]),this._v("按钮，会获得表中的若干数据；")]),this._v(" "),s("li",[this._v("点击"),s("code",[this._v("charts")]),this._v("按钮，可以看到自动生成的图表。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://files.readme.io/5b5cdc8-sql-queries.png",alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_1-5-docker部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-docker部署","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.5.Docker部署")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在本地环境中部署Ignite Web控制台的最简单方式是使用控制台的Docker镜像，如果基于Docker的方式不可行，那么可以参照"),s("a",{attrs:{href:"#_1-3-%E6%9E%84%E5%BB%BA%E5%92%8C%E9%83%A8%E7%BD%B2"}},[this._v("构建和部署")]),this._v("章节的内容。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-5-1-启动web代理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-1-启动web代理","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.5.1.启动Web代理")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如"),s("a",{attrs:{href:"#_1-2-%E5%85%A5%E9%97%A8"}},[this._v("入门")]),this._v("章节所说，要在Ignite集群和Web控制台之间建立连接，需要首先配置并且启动Ignite的"),s("a",{attrs:{href:"#_1-2-2-ignite-web%E4%BB%A3%E7%90%86"}},[this._v("Web代理")]),this._v("，下面是步骤：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("1.启动开启REST服务的Ignite节点，将"),s("code",[this._v("ignite-rest-http")]),this._v("目录从"),s("code",[this._v("IGNITE_HOME/libs/optional/")]),this._v("移动到"),s("code",[this._v("IGNITE_HOME/lib/")]),this._v("，或者如果从IDE启动节点，则需要将下面的依赖加入pom.xml文件：")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-xml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.apache.ignite"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("ignite-rest-http"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{ignite.version}"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",[t._v("2.在"),e("code",[t._v("ignite-web-agent-{version}")]),t._v("目录下的"),e("code",[t._v("default.properties")]),t._v("文件中，需要配置Web代理的"),e("code",[t._v("serverURI")]),t._v("属性，这样它就可以访问Ignite节点的REST服务。如果不配置，代理默认会连接"),e("code",[t._v("http://localhost:8080")]),t._v("。代理会尝试从"),e("code",[t._v("default.properties")]),t._v("文件中加载配置参数，该文件的内容格式比较简单，有效的属性名为："),e("code",[t._v("tokens")]),t._v("，"),e("code",[t._v("server-uri")]),t._v("，"),e("code",[t._v("node-uri")]),t._v("，"),e("code",[t._v("driver-folder")]),t._v("。")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-properties line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("tokens")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("1a2b3c4d5f,2j1s134d12")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("serverURI")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("https://console.example.com:3001")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("3.在终端中，在Web代理的目录中使用"),s("code",[this._v("ignite-web-agent.{sh|bat}")]),this._v("脚本启动Web代理，如下：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ ./ignite-web-agent.sh\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-5-2-部署web控制台"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-2-部署web控制台","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.5.2.部署Web控制台")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("拉取Ignite Web控制台的Docker镜像:"),s("code",[this._v("docker pull apacheignite/web-console-standalone")]),this._v(";")]),this._v(" "),s("li",[this._v("启动Web控制台："),s("code",[this._v("docker run -d -p 80:80 -v <host_absolute_path>:/var/lib/mongodb --name web-console-standalone apacheignite/web-console-standalone")]),this._v("。")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),e("ol",[e("li",[t._v("需要使用"),e("code",[t._v("sudo")]),t._v("来运行docker命令；")]),t._v(" "),e("li",[t._v("如果"),e("code",[t._v("80")]),t._v("端口已被占用，那么容器端口需要映射到其它的可用端口。比如，下面的命令将容器的"),e("code",[t._v("80")]),t._v("端口绑定的宿主机的"),e("code",[t._v("8080")]),t._v("端口："),e("code",[t._v("sudo docker run -d -p 8080:80 -v <host_absolute_path>:/var/lib/mongodb --name web-console-standalone apacheignite/web-console-standalone")]),t._v(";")]),t._v(" "),e("li",[e("code",[t._v("<host_absolute_path>")]),t._v("：是宿主机中MongoDB创建数据库文件的路径。这个文件夹应该在docker运行前创建好，打开"),e("code",[t._v("Docker->Preferences->File Sharing")]),t._v("然后在那里创建目录，或者使用其它的方式也行。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("在浏览器中打开Web控制台："),s("code",[this._v("http://localhost")]),this._v("或者"),s("code",[this._v("http://host-ip-of-computer-with-docker-image")]),this._v("，如果默认端口有变，那么地址为："),s("code",[this._v("http://localhost:<host_port>")]),this._v("。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-5-3-更新到新版"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-3-更新到新版","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.5.3.更新到新版")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("docker pull apacheignite/web-console-standalone")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("docker stop apacheignite/web-console-standalone")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("docker rm apacheignite/web-console-standalone")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("docker run -d -p 80:80 -v <host_absolute_path>:/var/lib/mongodb --name web-console-standalone apacheignite/web-console-standalone")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-5-4-为web控制台添加https支持"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-4-为web控制台添加https支持","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.5.4.为Web控制台添加HTTPS支持")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("创建"),s("code",[this._v("web-console.conf")]),this._v("文件，内容如下：")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('upstream backend-api {\n  server localhost:3000;\n}\n\n# redirect http to https\nserver {\n  listen 80 default_server;\n\n  return 301 https://<your-web-console-domain-name>$request_uri;\n}\n\n# https server settings\nserver {\n  listen 443 ssl;\n  server_name _;\n  ssl_certificate     server.crt;\n  ssl_certificate_key server.key;\n  ssl_protocols       SSLv3 TLSv1 TLSv1.1 TLSv1.2;\n  ssl_ciphers         HIGH:!aNULL:!MD5;\n\n  set $ignite_console_dir /opt/web-console/static;\n\n  root $ignite_console_dir;\n\n  error_page 500 502 503 504 /50x.html;\n\n  location / {\n    try_files $uri /index.html = 404;\n  }\n\n  location /api/v1 {\n    proxy_set_header Host $http_host;\n    proxy_pass http://backend-api;\n  }\n\n  location /socket.io {\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection "upgrade";\n    proxy_http_version 1.1;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header Host $host;\n    proxy_pass http://backend-api;\n  }\n\n  location /agents {\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection "upgrade";\n    proxy_http_version 1.1;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header Host $host;\n    proxy_pass http://backend-api;\n  }\n\n  location = /50x.html {\n    root $ignite_console_dir/error_page;\n  }\n}\n')])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br"),e("span",{staticClass:"line-number"},[t._v("29")]),e("br"),e("span",{staticClass:"line-number"},[t._v("30")]),e("br"),e("span",{staticClass:"line-number"},[t._v("31")]),e("br"),e("span",{staticClass:"line-number"},[t._v("32")]),e("br"),e("span",{staticClass:"line-number"},[t._v("33")]),e("br"),e("span",{staticClass:"line-number"},[t._v("34")]),e("br"),e("span",{staticClass:"line-number"},[t._v("35")]),e("br"),e("span",{staticClass:"line-number"},[t._v("36")]),e("br"),e("span",{staticClass:"line-number"},[t._v("37")]),e("br"),e("span",{staticClass:"line-number"},[t._v("38")]),e("br"),e("span",{staticClass:"line-number"},[t._v("39")]),e("br"),e("span",{staticClass:"line-number"},[t._v("40")]),e("br"),e("span",{staticClass:"line-number"},[t._v("41")]),e("br"),e("span",{staticClass:"line-number"},[t._v("42")]),e("br"),e("span",{staticClass:"line-number"},[t._v("43")]),e("br"),e("span",{staticClass:"line-number"},[t._v("44")]),e("br"),e("span",{staticClass:"line-number"},[t._v("45")]),e("br"),e("span",{staticClass:"line-number"},[t._v("46")]),e("br"),e("span",{staticClass:"line-number"},[t._v("47")]),e("br"),e("span",{staticClass:"line-number"},[t._v("48")]),e("br"),e("span",{staticClass:"line-number"},[t._v("49")]),e("br"),e("span",{staticClass:"line-number"},[t._v("50")]),e("br"),e("span",{staticClass:"line-number"},[t._v("51")]),e("br"),e("span",{staticClass:"line-number"},[t._v("52")]),e("br"),e("span",{staticClass:"line-number"},[t._v("53")]),e("br"),e("span",{staticClass:"line-number"},[t._v("54")]),e("br"),e("span",{staticClass:"line-number"},[t._v("55")]),e("br"),e("span",{staticClass:"line-number"},[t._v("56")]),e("br"),e("span",{staticClass:"line-number"},[t._v("57")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("注意")]),this._v(" "),s("p",[this._v("将web-console.conf中的占位符"),s("code",[this._v("<your-web-console-domain-name>")]),this._v("替换为自己的域名，以便浏览器正确地从HTTP跳转到HTTPS。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("准备名为"),s("code",[this._v("server.crt")]),this._v("，"),s("code",[this._v("server.key")]),this._v("的证书文件；")]),this._v(" "),s("li",[this._v("启动Web控制台：")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("docker run -d -p 80:80 -p 443:443 -v <host_absolute_path>:/var/lib/mongodb -v <web-console.conf_absolute_path>:/etc/nginx/web-console.conf -v <server.crt_absolute_path>:/etc/nginx/server.crt -v < server.key_absolute_path>:/etc/nginx/server.key --name web-console-standalone apacheignite/web-console-standalone")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_1-6-kubernetes安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-kubernetes安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.6.Kubernetes安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("MongoDB（Web控制台使用MongoDB作为存储层）；")]),this._v(" "),s("li",[this._v("Web控制台后端；")]),this._v(" "),s("li",[this._v("Web控制台前端；")]),this._v(" "),s("li",[this._v("Web代理。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-6-1-安装mongodb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-1-安装mongodb","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.6.1.安装MongoDB")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("名为"),e("code",[t._v("mongodb")]),t._v("的命名空间；")]),t._v(" "),e("li",[t._v("名为"),e("code",[t._v("mongodb-claim0")]),t._v("的持久化存储；")]),t._v(" "),e("li",[t._v("运行MongoDB3.4版本的环境；")]),t._v(" "),e("li",[t._v("一个名为"),e("code",[t._v("mongodb")]),t._v("的服务，它会映射到运行MongoDB镜像的配置组的27017端口。")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Namespace\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongodb\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PersistentVolumeClaim\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("creationTimestamp")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token null important"}},[t._v("null")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongodb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("claim0\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("namespace")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongodb\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("accessModes")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ReadWriteOnce\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("resources")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("requests")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("storage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100Mi\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("status")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" extensions/v1beta1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Deployment\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("creationTimestamp")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token null important"}},[t._v("null")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongodb\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("namespace")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongodb\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongodb\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("replicas")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("strategy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Recreate\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("creationTimestamp")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token null important"}},[t._v("null")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongodb\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containers")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.4")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongodb\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("resources")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumeMounts")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mountPath")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /data/db\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongodb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("claim0\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restartPolicy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Always\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongodb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("claim0\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("persistentVolumeClaim")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("claimName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongodb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("claim0\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("status")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Service\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("creationTimestamp")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token null important"}},[t._v("null")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongodb\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("namespace")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongodb\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongodb\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mongodb"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("27017")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targetPort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("27017")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("selector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongodb\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("status")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("loadBalancer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br"),e("span",{staticClass:"line-number"},[t._v("29")]),e("br"),e("span",{staticClass:"line-number"},[t._v("30")]),e("br"),e("span",{staticClass:"line-number"},[t._v("31")]),e("br"),e("span",{staticClass:"line-number"},[t._v("32")]),e("br"),e("span",{staticClass:"line-number"},[t._v("33")]),e("br"),e("span",{staticClass:"line-number"},[t._v("34")]),e("br"),e("span",{staticClass:"line-number"},[t._v("35")]),e("br"),e("span",{staticClass:"line-number"},[t._v("36")]),e("br"),e("span",{staticClass:"line-number"},[t._v("37")]),e("br"),e("span",{staticClass:"line-number"},[t._v("38")]),e("br"),e("span",{staticClass:"line-number"},[t._v("39")]),e("br"),e("span",{staticClass:"line-number"},[t._v("40")]),e("br"),e("span",{staticClass:"line-number"},[t._v("41")]),e("br"),e("span",{staticClass:"line-number"},[t._v("42")]),e("br"),e("span",{staticClass:"line-number"},[t._v("43")]),e("br"),e("span",{staticClass:"line-number"},[t._v("44")]),e("br"),e("span",{staticClass:"line-number"},[t._v("45")]),e("br"),e("span",{staticClass:"line-number"},[t._v("46")]),e("br"),e("span",{staticClass:"line-number"},[t._v("47")]),e("br"),e("span",{staticClass:"line-number"},[t._v("48")]),e("br"),e("span",{staticClass:"line-number"},[t._v("49")]),e("br"),e("span",{staticClass:"line-number"},[t._v("50")]),e("br"),e("span",{staticClass:"line-number"},[t._v("51")]),e("br"),e("span",{staticClass:"line-number"},[t._v("52")]),e("br"),e("span",{staticClass:"line-number"},[t._v("53")]),e("br"),e("span",{staticClass:"line-number"},[t._v("54")]),e("br"),e("span",{staticClass:"line-number"},[t._v("55")]),e("br"),e("span",{staticClass:"line-number"},[t._v("56")]),e("br"),e("span",{staticClass:"line-number"},[t._v("57")]),e("br"),e("span",{staticClass:"line-number"},[t._v("58")]),e("br"),e("span",{staticClass:"line-number"},[t._v("59")]),e("br"),e("span",{staticClass:"line-number"},[t._v("60")]),e("br"),e("span",{staticClass:"line-number"},[t._v("61")]),e("br"),e("span",{staticClass:"line-number"},[t._v("62")]),e("br"),e("span",{staticClass:"line-number"},[t._v("63")]),e("br"),e("span",{staticClass:"line-number"},[t._v("64")]),e("br"),e("span",{staticClass:"line-number"},[t._v("65")]),e("br"),e("span",{staticClass:"line-number"},[t._v("66")]),e("br"),e("span",{staticClass:"line-number"},[t._v("67")]),e("br"),e("span",{staticClass:"line-number"},[t._v("68")]),e("br"),e("span",{staticClass:"line-number"},[t._v("69")]),e("br"),e("span",{staticClass:"line-number"},[t._v("70")]),e("br"),e("span",{staticClass:"line-number"},[t._v("71")]),e("br"),e("span",{staticClass:"line-number"},[t._v("72")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("将上面的配置保存为名为"),s("code",[this._v("mongodb-deployment.yaml")]),this._v("的文件，然后执行下面的命令：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("kubectl create -f mongodb-deployment.yaml\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ kubectl get pods -n mongodb\nNAME                      READY     STATUS    RESTARTS   AGE\nmongodb-6b8f5585b-cprmw   1/1       Running   0          1d\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br"),s("span",{staticClass:"line-number"},[this._v("3")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-6-2-安装web控制台"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-2-安装web控制台","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.6.2.安装Web控制台")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("创建命名空间")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("创建名为"),s("code",[this._v("web-console")]),this._v("的命名空间，控制台的前端和后端会建在这个命名空间里。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("kubectl create namespace web-console\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("专有Docker存储库")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("kubectl create secret docker-registry registrykey --docker-server"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("https://index.docker.io/v1/ --docker-username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" --docker-password"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("password"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" --docker-email"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("email"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" -n web-console\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果使用公共存储库，可以跳过此步骤并在下面提供的部署配置中注释掉"),s("code",[this._v("imagePullSecrets")]),this._v("项目。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("安装Web控制台的前端和后端")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("后端部署段的"),e("code",[t._v("image")]),t._v("参数，后端的Docker镜像；")]),t._v(" "),e("li",[t._v("前端部署段的"),e("code",[t._v("image")]),t._v("参数，前端的Docker镜像；")]),t._v(" "),e("li",[e("code",[t._v("server_sessionSecret")]),t._v("，用户加密Cookie的密码，可以指定任意值。")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# creating deployment for the backend; specify a Docker Image ")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# in the 'image' field.")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" extensions/v1beta1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Deployment\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("creationTimestamp")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token null important"}},[t._v("null")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" backend\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" backend\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("namespace")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" web"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("console\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("replicas")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("strategy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("creationTimestamp")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token null important"}},[t._v("null")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" backend\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containers")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mail_auth_pass\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mail_auth_user\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mail_from\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mail_greeting\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mail_service\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mail_sign\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongodb_url\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongodb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//mongodb.mongodb.svc.cluster.local/console\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" server_host\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.0.0.0"')]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" server_port\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3000"')]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" server_sessionSecret\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" CHANGE_ME\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" backend\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("resources")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restartPolicy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Always\n      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# remove this property if you use a public Docker repository")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("imagePullSecrets")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" registrykey\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("status")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Service\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("creationTimestamp")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token null important"}},[t._v("null")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" backend\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("namespace")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" web"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("console\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" backend\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"backend"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targetPort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("selector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" backend\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("status")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("loadBalancer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# creating deployment for the frontend; specify a Docker Image ")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# in the 'image' field.")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" extensions/v1beta1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Deployment\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("creationTimestamp")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token null important"}},[t._v("null")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" frontend\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("namespace")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" web"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("console\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("replicas")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("strategy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("creationTimestamp")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token null important"}},[t._v("null")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" frontend\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containers")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" frontend\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containerPort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("resources")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restartPolicy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Always\n      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# remove this property if you use a public Docker repository")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("imagePullSecrets")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" registrykey      \n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("status")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Service\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("creationTimestamp")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token null important"}},[t._v("null")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" frontend\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("namespace")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" web"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("console\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" frontend\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"frontend"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targetPort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("selector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" frontend\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" LoadBalancer\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("status")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("loadBalancer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br"),e("span",{staticClass:"line-number"},[t._v("29")]),e("br"),e("span",{staticClass:"line-number"},[t._v("30")]),e("br"),e("span",{staticClass:"line-number"},[t._v("31")]),e("br"),e("span",{staticClass:"line-number"},[t._v("32")]),e("br"),e("span",{staticClass:"line-number"},[t._v("33")]),e("br"),e("span",{staticClass:"line-number"},[t._v("34")]),e("br"),e("span",{staticClass:"line-number"},[t._v("35")]),e("br"),e("span",{staticClass:"line-number"},[t._v("36")]),e("br"),e("span",{staticClass:"line-number"},[t._v("37")]),e("br"),e("span",{staticClass:"line-number"},[t._v("38")]),e("br"),e("span",{staticClass:"line-number"},[t._v("39")]),e("br"),e("span",{staticClass:"line-number"},[t._v("40")]),e("br"),e("span",{staticClass:"line-number"},[t._v("41")]),e("br"),e("span",{staticClass:"line-number"},[t._v("42")]),e("br"),e("span",{staticClass:"line-number"},[t._v("43")]),e("br"),e("span",{staticClass:"line-number"},[t._v("44")]),e("br"),e("span",{staticClass:"line-number"},[t._v("45")]),e("br"),e("span",{staticClass:"line-number"},[t._v("46")]),e("br"),e("span",{staticClass:"line-number"},[t._v("47")]),e("br"),e("span",{staticClass:"line-number"},[t._v("48")]),e("br"),e("span",{staticClass:"line-number"},[t._v("49")]),e("br"),e("span",{staticClass:"line-number"},[t._v("50")]),e("br"),e("span",{staticClass:"line-number"},[t._v("51")]),e("br"),e("span",{staticClass:"line-number"},[t._v("52")]),e("br"),e("span",{staticClass:"line-number"},[t._v("53")]),e("br"),e("span",{staticClass:"line-number"},[t._v("54")]),e("br"),e("span",{staticClass:"line-number"},[t._v("55")]),e("br"),e("span",{staticClass:"line-number"},[t._v("56")]),e("br"),e("span",{staticClass:"line-number"},[t._v("57")]),e("br"),e("span",{staticClass:"line-number"},[t._v("58")]),e("br"),e("span",{staticClass:"line-number"},[t._v("59")]),e("br"),e("span",{staticClass:"line-number"},[t._v("60")]),e("br"),e("span",{staticClass:"line-number"},[t._v("61")]),e("br"),e("span",{staticClass:"line-number"},[t._v("62")]),e("br"),e("span",{staticClass:"line-number"},[t._v("63")]),e("br"),e("span",{staticClass:"line-number"},[t._v("64")]),e("br"),e("span",{staticClass:"line-number"},[t._v("65")]),e("br"),e("span",{staticClass:"line-number"},[t._v("66")]),e("br"),e("span",{staticClass:"line-number"},[t._v("67")]),e("br"),e("span",{staticClass:"line-number"},[t._v("68")]),e("br"),e("span",{staticClass:"line-number"},[t._v("69")]),e("br"),e("span",{staticClass:"line-number"},[t._v("70")]),e("br"),e("span",{staticClass:"line-number"},[t._v("71")]),e("br"),e("span",{staticClass:"line-number"},[t._v("72")]),e("br"),e("span",{staticClass:"line-number"},[t._v("73")]),e("br"),e("span",{staticClass:"line-number"},[t._v("74")]),e("br"),e("span",{staticClass:"line-number"},[t._v("75")]),e("br"),e("span",{staticClass:"line-number"},[t._v("76")]),e("br"),e("span",{staticClass:"line-number"},[t._v("77")]),e("br"),e("span",{staticClass:"line-number"},[t._v("78")]),e("br"),e("span",{staticClass:"line-number"},[t._v("79")]),e("br"),e("span",{staticClass:"line-number"},[t._v("80")]),e("br"),e("span",{staticClass:"line-number"},[t._v("81")]),e("br"),e("span",{staticClass:"line-number"},[t._v("82")]),e("br"),e("span",{staticClass:"line-number"},[t._v("83")]),e("br"),e("span",{staticClass:"line-number"},[t._v("84")]),e("br"),e("span",{staticClass:"line-number"},[t._v("85")]),e("br"),e("span",{staticClass:"line-number"},[t._v("86")]),e("br"),e("span",{staticClass:"line-number"},[t._v("87")]),e("br"),e("span",{staticClass:"line-number"},[t._v("88")]),e("br"),e("span",{staticClass:"line-number"},[t._v("89")]),e("br"),e("span",{staticClass:"line-number"},[t._v("90")]),e("br"),e("span",{staticClass:"line-number"},[t._v("91")]),e("br"),e("span",{staticClass:"line-number"},[t._v("92")]),e("br"),e("span",{staticClass:"line-number"},[t._v("93")]),e("br"),e("span",{staticClass:"line-number"},[t._v("94")]),e("br"),e("span",{staticClass:"line-number"},[t._v("95")]),e("br"),e("span",{staticClass:"line-number"},[t._v("96")]),e("br"),e("span",{staticClass:"line-number"},[t._v("97")]),e("br"),e("span",{staticClass:"line-number"},[t._v("98")]),e("br"),e("span",{staticClass:"line-number"},[t._v("99")]),e("br"),e("span",{staticClass:"line-number"},[t._v("100")]),e("br"),e("span",{staticClass:"line-number"},[t._v("101")]),e("br"),e("span",{staticClass:"line-number"},[t._v("102")]),e("br"),e("span",{staticClass:"line-number"},[t._v("103")]),e("br"),e("span",{staticClass:"line-number"},[t._v("104")]),e("br"),e("span",{staticClass:"line-number"},[t._v("105")]),e("br"),e("span",{staticClass:"line-number"},[t._v("106")]),e("br"),e("span",{staticClass:"line-number"},[t._v("107")]),e("br"),e("span",{staticClass:"line-number"},[t._v("108")]),e("br"),e("span",{staticClass:"line-number"},[t._v("109")]),e("br"),e("span",{staticClass:"line-number"},[t._v("110")]),e("br"),e("span",{staticClass:"line-number"},[t._v("111")]),e("br"),e("span",{staticClass:"line-number"},[t._v("112")]),e("br"),e("span",{staticClass:"line-number"},[t._v("113")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("将该配置保存为"),s("code",[this._v("web-console-deployment.yaml")]),this._v("文件，然后在终端中执行下面的命令：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("kubectl create -f web-console-deployment.yaml\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-6-3-安装web代理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-3-安装web代理","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.6.3.安装Web代理")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("获得安全令牌")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("要安装Web代理，需要一个安全令牌来保护Web代理和Web控制台之间的通信，要获得这个令牌，可以登录Web控制台界面并打开自己的配置（点击右上角的用户名），然后点击"),s("code",[this._v("Show security token...")]),this._v("来显示这个令牌。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://files.readme.io/d38ac26-token.png",alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("安装Web代理的Docker镜像")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Web代理要和集群安装在同一个命名空间中，在下面的配置中，假定命名空间为"),s("code",[this._v("ignite")]),this._v("。")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[e("code",[t._v("NODE_URI")]),t._v("：节点的URI，这个URI必须与Kubernetes集群中运行的集群节点相对应，Web代理会接入这个节点然后与集群进行通信；")]),t._v(" "),e("li",[e("code",[t._v("SERVER_URI")]),t._v("：Kubernetes中安装的Web控制台的前端的URI，如果使用自定义配置，这个值需要修改（如果使用上面提供的示例而不更改命名空间和服务的名称，则提供的默认URL应起作用）；")]),t._v(" "),e("li",[e("code",[t._v("TOKENS")]),t._v("：指定从Web控制台中获得的安全令牌；")]),t._v(" "),e("li",[e("code",[t._v("NODE_LOGIN")]),t._v("和"),e("code",[t._v("NODE_PASSWORD")]),t._v("：指定集群用户的用户名和密码，用户名和密码只有在Ignite集群开启认证的时候才是必须的；")]),t._v(" "),e("li",[e("code",[t._v("namespace")]),t._v("：确保该命名空间与部署的集群的命名空间相对应；")]),t._v(" "),e("li",[e("code",[t._v("image")]),t._v("：Web代理的Docker镜像。")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" apps/v1beta2\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Deployment\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" web"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("agent\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("namespace")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ignite\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("selector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("matchLabels")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" web"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("agent\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("replicas")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" web"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("agent\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("serviceAccountName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ignite"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("cluster\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containers")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" web"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("agent\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" apacheignite/web"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("agent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("mytag3\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("resources")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("limits")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cpu")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 500m \n            "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("memory")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 500Mi\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" DRIVER_FOLDER\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./jdbc-drivers"')]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" NODE_URI\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://ignite-service.ignite.svc.cluster.local:8080"')]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" SERVER_URI\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://frontend.web-console.svc.cluster.local"')]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" TOKENS\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" NODE_LOGIN\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" web"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("agent\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" NODE_PASSWORD\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" password\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br"),e("span",{staticClass:"line-number"},[t._v("29")]),e("br"),e("span",{staticClass:"line-number"},[t._v("30")]),e("br"),e("span",{staticClass:"line-number"},[t._v("31")]),e("br"),e("span",{staticClass:"line-number"},[t._v("32")]),e("br"),e("span",{staticClass:"line-number"},[t._v("33")]),e("br"),e("span",{staticClass:"line-number"},[t._v("34")]),e("br"),e("span",{staticClass:"line-number"},[t._v("35")]),e("br"),e("span",{staticClass:"line-number"},[t._v("36")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("将上述内容保存为"),s("code",[this._v("web-agent-deployment.yaml")]),this._v("文件然后执行下面的命令：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("kubectl create -f web-agent-deployment.yaml\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ kubectl get pods -n ignite\nNAME                        READY     STATUS    RESTARTS   AGE\nweb-agent-5596bd78c-h4272   1/1       Running   0          1h\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br"),s("span",{staticClass:"line-number"},[this._v("3")]),s("br")])])}],!1,null,null,null);n.options.__file="README.md";s.default=n.exports}}]);