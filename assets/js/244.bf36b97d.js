(window.webpackJsonp=window.webpackJsonp||[]).push([[244],{430:function(t,a,s){"use strict";s.r(a);var n=s(3),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"快速入门"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快速入门"}},[t._v("#")]),t._v(" 快速入门")]),t._v(" "),s("h2",{attrs:{id:"_1-java"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-java"}},[t._v("#")]),t._v(" 1.Java")]),t._v(" "),s("p",[t._v("本章节介绍运行Ignite的系统要求，如何安装，启动一个集群，然后运行一个简单的HelloWorld示例。")]),t._v(" "),s("h3",{attrs:{id:"_1-1-环境要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-环境要求"}},[t._v("#")]),t._v(" 1.1.环境要求")]),t._v(" "),s("p",[t._v("Apache Ignite官方在如下环境中进行了测试：")]),t._v(" "),s("ul",[s("li",[t._v("JDK：Oracle JDK8及以上，Open JDK8及以上，IBM JDK8及以上；")]),t._v(" "),s("li",[t._v("OS：Linux（任何版本），Mac OS X（10.6及以上），Windows(XP及以上)，Windows Server（2008及以上），Oracle Solaris；")]),t._v(" "),s("li",[t._v("网络：没有限制（建议10G甚至更快的网络带宽）；")]),t._v(" "),s("li",[t._v("架构：x86，x64，SPARC，PowerPC。")])]),t._v(" "),s("p",[t._v("如果使用了JDK9或之后的版本，具体可以看下面的"),s("a",{attrs:{href:"#_1-6-%E5%9C%A8jdk11%E5%8F%8A%E4%BB%A5%E5%90%8E%E7%9A%84%E7%89%88%E6%9C%AC%E4%B8%AD%E8%BF%90%E8%A1%8C"}},[t._v("在JDK11及以后版本中运行Ignite")]),t._v("章节；")]),t._v(" "),s("h3",{attrs:{id:"_1-2-安装ignite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-安装ignite"}},[t._v("#")]),t._v(" 1.2.安装Ignite")]),t._v(" "),s("p",[t._v("Ignite入门的最简单方式是使用每次版本发布生成的二进制压缩包：")]),t._v(" "),s("ul",[s("li",[t._v("下载最新版本的"),s("a",{attrs:{href:"https://ignite.apache.org/download.cgi#binaries",target:"_self",rel:"noopener noreferrer"}},[t._v("Ignite压缩包")]),t._v("；")]),t._v(" "),s("li",[t._v("将该包解压到操作系统的一个文件夹；")]),t._v(" "),s("li",[t._v("（可选）启用必要的"),s("RouterLink",{attrs:{to:"/doc/java/SettingUp.html#_2-7-启用模块"}},[t._v("模块")]),t._v("；")],1),t._v(" "),s("li",[t._v("（可选）配置"),s("code",[t._v("IGNITE_HOME")]),t._v("环境变量或者Windows的"),s("code",[t._v("PATH")]),t._v("指向Ignite的安装文件夹，路径不要以"),s("code",[t._v("/")]),t._v("（Windows为"),s("code",[t._v("\\")]),t._v("）结尾。")])]),t._v(" "),s("h3",{attrs:{id:"_1-3-启动ignite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-启动ignite"}},[t._v("#")]),t._v(" 1.3.启动Ignite")]),t._v(" "),s("p",[t._v("可以从命令行启动Ignite集群，或者使用默认的配置，或者传入一个自定义配置文件，可以同时启动任意多个节点，他们都会自动地相互发现。")]),t._v(" "),s("p",[t._v("在命令行中转到Ignite安装文件夹的"),s("code",[t._v("bin")]),t._v("目录：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("IGNITE_HOME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/bin/\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("cd")]),t._v(" {IGNITE_HOME}\\bin\\")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("向下面这样，将一个自定义配置文件作为参数传递给"),s("code",[t._v("ignite.sh|bat")]),t._v("，然后启动一个节点：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./ignite.sh "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/examples/config/example-ignite.xml\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ignite")]),t._v(".bat ..\\examples\\config\\example-ignite.xml")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("输出大致如下：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[08:53:45] Ignite node started OK (id=7b30bc8e)\n[08:53:45] Topology snapshot [ver=1, locNode=7b30bc8e, servers=1, clients=0, state=ACTIVE, CPUs=4, offheap=1.6GB, heap=2.0GB]\n")])])]),s("p",[t._v("再次开启一个终端然后执行和前述同样的命令：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./ignite.sh "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/examples/config/example-ignite.xml\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ignite")]),t._v(".bat ..\\examples\\config\\example-ignite.xml")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("这时再次看下输出，注意包含"),s("code",[t._v("Topology snapshot")]),t._v("的行，就会发现集群中有了2个服务端节点，同时集群中可用的CPU和内存也会更多：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[08:54:34] Ignite node started OK (id=3a30b7a4)\n[08:54:34] Topology snapshot [ver=2, locNode=3a30b7a4, servers=2, clients=0, state=ACTIVE, CPUs=4, offheap=3.2GB, heap=4.0GB]\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("默认配置")]),t._v(" "),s("p",[s("code",[t._v("ignite.sh|bat")]),t._v("默认会使用"),s("code",[t._v("config/default-config.xml")]),t._v("这个配置文件启动节点。")])]),t._v(" "),s("h3",{attrs:{id:"_1-4-创建第一个应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-创建第一个应用"}},[t._v("#")]),t._v(" 1.4.创建第一个应用")]),t._v(" "),s("p",[t._v("集群启动之后，就可以按照如下步骤运行一个"),s("code",[t._v("HelloWorld")]),t._v("示例。")]),t._v(" "),s("h4",{attrs:{id:"_1-4-1-添加maven依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-1-添加maven依赖"}},[t._v("#")]),t._v(" 1.4.1.添加Maven依赖")]),t._v(" "),s("p",[t._v("在Java中使用Ignite的最简单的方式是使用Maven依赖管理。")]),t._v(" "),s("p",[t._v("使用喜欢的IDE创建一个新的Maven工程，然后在项目的"),s("code",[t._v("pom.xml")]),t._v("文件中添加下面的依赖：")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("properties")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ignite.version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2.9.0"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ignite.version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("properties")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependencies")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.apache.ignite"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("ignite-core"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${ignite.version}"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.apache.ignite"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("ignite-spring"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${ignite.version}"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependencies")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h4",{attrs:{id:"_1-4-2-helloworld-java"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-2-helloworld-java"}},[t._v("#")]),t._v(" 1.4.2.HelloWorld.java")]),t._v(" "),s("p",[t._v("下面这个"),s("code",[t._v("HelloWord.java")]),t._v("文件，会在所有已启动的服务端节点上输出"),s("code",[t._v("Hello World")]),t._v("以及其他的一些环境信息，该示例会显示如何使用Java API配置集群，如何创建缓存，如何加载数据并在服务端执行Java任务：")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloWorld")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IgniteException")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Preparing IgniteConfiguration using Java APIs")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IgniteConfiguration")]),t._v(" cfg "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IgniteConfiguration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// The node will be started as a client node.")]),t._v("\n        cfg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setClientMode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Classes of custom Java logic will be transferred over the wire from this app.")]),t._v("\n        cfg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setPeerClassLoadingEnabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Setting up an IP Finder to ensure the client can locate the servers.")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TcpDiscoveryMulticastIpFinder")]),t._v(" ipFinder "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TcpDiscoveryMulticastIpFinder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        ipFinder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAddresses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Collections")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("singletonList")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"127.0.0.1:47500..47509"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        cfg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setDiscoverySpi")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TcpDiscoverySpi")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setIpFinder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ipFinder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Starting the node")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Ignite")]),t._v(" ignite "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Ignition")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cfg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Create an IgniteCache and put some values in it.")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IgniteCache")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" cache "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ignite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOrCreateCache")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myCache"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"World!"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('">> Created the cache and add the values."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Executing custom Java compute task on server nodes.")]),t._v("\n        ignite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("compute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ignite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cluster")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forServers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("broadcast")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RemoteTask")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('">> Compute task is executed, check for output on the server nodes."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Disconnect from the cluster.")]),t._v("\n        ignite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * A compute tasks that prints out a node ID and some details about its OS and JRE.\n     * Plus, the code shows how to access data stored in a cache from the compute task.\n     */")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RemoteTask")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IgniteRunnable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@IgniteInstanceResource")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Ignite")]),t._v(" ignite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('">> Executing the compute task"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"   Node ID: "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ignite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cluster")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("localNode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"   OS: "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"os.name"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"   JRE: "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"java.runtime.name"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IgniteCache")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" cache "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ignite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cache")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myCache"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('">> "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("不要忘了添加"),s("code",[t._v("import")]),t._v("语句，然后如果Maven解决了所有的依赖，这个会很简单。")]),t._v(" "),s("p",[t._v("如果IDE仍然使用早于1.8版本的Java编译器，那么还需要将下面的配置项加入"),s("code",[t._v("pom.xml")]),t._v("文件：")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugins")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.apache.maven.plugins"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("maven-compiler-plugin"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("source")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("1.8"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("source")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("target")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("1.8"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("target")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugins")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])]),t._v(" "),s("h4",{attrs:{id:"_1-4-3-运行该应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-3-运行该应用"}},[t._v("#")]),t._v(" 1.4.3.运行该应用")]),t._v(" "),s("p",[t._v("编译并运行"),s("code",[t._v("HelloWorld.java")]),t._v("，然后就会在所有服务端节点上看到"),s("code",[t._v("Hello World!")]),t._v("以及其他的一些环境信息输出。")]),t._v(" "),s("h3",{attrs:{id:"_1-5-进一步的示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-进一步的示例"}},[t._v("#")]),t._v(" 1.5.进一步的示例")]),t._v(" "),s("p",[t._v("Ignite的安装包里面包含了其他的示例。")]),t._v(" "),s("p",[t._v("按照下面的步骤，可以运行这个示例工程（这里以IntelliJ IDEA为例，其他类似的IDE比如Eclipse也可以）。")]),t._v(" "),s("ol",[s("li",[t._v("启动IntelliJ IDEA，然后点击"),s("code",[t._v("Import Project")]),t._v("按钮；")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://ignite.apache.org/docs/2.9.0/images/ijimport.png",alt:""}})]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("转到"),s("code",[t._v("{IGNITE_HOME}/examples")]),t._v("目录，选择"),s("code",[t._v("{IGNITE}/examples/pom.xml")]),t._v("文件，然后点击"),s("code",[t._v("OK")]),t._v("；")]),t._v(" "),s("li",[t._v("在后面的界面中点击"),s("code",[t._v("Next")]),t._v("，都使用项目的默认配置，最后点击"),s("code",[t._v("Finish")]),t._v("；")]),t._v(" "),s("li",[t._v("等待IntelliJ IDE完成Maven配置，解析依赖，然后加载模块；")]),t._v(" "),s("li",[t._v("必要时需要配置JDK。")]),t._v(" "),s("li",[t._v("运行"),s("code",[t._v("rc/main/java/org/apache/ignite/examples/datagrid/CacheApiExample")]),t._v("；")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://ignite.apache.org/docs/2.9.0/images/ijrun.png",alt:""}})]),t._v(" "),s("ol",{attrs:{start:"7"}},[s("li",[t._v("确认示例代码已经启动并且成功执行，如下图所示：")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://ignite.apache.org/docs/2.9.0/images/ijfull.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"_1-6-在java11及以后的版本中使用ignite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-在java11及以后的版本中使用ignite"}},[t._v("#")]),t._v(" 1.6.在Java11及以后的版本中使用Ignite")]),t._v(" "),s("p",[t._v("要在Java11及以后的版本中运行Ignite，需按照如下步骤操作：")]),t._v(" "),s("ol",[s("li",[t._v("配置"),s("code",[t._v("JAVA_HOME")]),t._v("环境变量，指向Java的安装目录；")]),t._v(" "),s("li",[t._v("Ignite使用了专有的SDK API，这些API默认并未开启，因此需要向JVM传递额外的专有标志来让这些API可用。如果使用的是"),s("code",[t._v("ignite.sh")]),t._v("或者"),s("code",[t._v("ignite.bat")]),t._v("，那么什么都不需要做，因为脚本已经提前配置好了。否则就需要向应用的JVM添加下面的参数；")])]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("--add-exports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("java.base/jdk.internal.misc=ALL-UNNAMED")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("--add-exports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("java.base/sun.nio.ch=ALL-UNNAMED")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("--add-exports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("--add-exports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("--add-exports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("--add-opens")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("jdk.management/com.sun.management.internal=ALL-UNNAMED")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("--illegal-access")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("permit")]),t._v("\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("TLSv1.3，Java11中已经可以使用，目前还不支持，如果节点间使用了SSL，可以考虑添加"),s("code",[t._v("-Djdk.tls.client.protocols=TLSv1.2")]),t._v("。")])]),t._v(" "),s("h2",{attrs:{id:"_2-c-net"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-c-net"}},[t._v("#")]),t._v(" 2.C#/.NET")]),t._v(" "),s("p",[t._v("本章节介绍如何使用.NET Core进行构建以及在.NET中运行一个简单的HelloWorld示例，启动一个节点，写入数据然后读取。")]),t._v(" "),s("h3",{attrs:{id:"_2-1-环境要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-环境要求"}},[t._v("#")]),t._v(" 2.1.环境要求")]),t._v(" "),s("p",[t._v("Ignite.NET在如下环境中进行了测试：")]),t._v(" "),s("ul",[s("li",[t._v("JDK：Oracle JDK8及以上，Open JDK8及以上，IBM JDK8及以上；")]),t._v(" "),s("li",[t._v(".NET框架：.NET 4.0+, .NET Core 2.0+。")])]),t._v(" "),s("h3",{attrs:{id:"_2-2-运行一个简单的-net示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-运行一个简单的-net示例"}},[t._v("#")]),t._v(" 2.2.运行一个简单的.NET示例")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("Ignite.NET支持胖客户端和瘦客户端，本章节会聚焦于胖客户端。添加Ignite的库包之后就可以运行该示例，并不需要下载安装Ignite的二进制包。")]),t._v(" "),s("p",[t._v("至于.NET瘦客户端，请参见"),s("RouterLink",{attrs:{to:"/doc/java/ThinClients.html#_3-net瘦客户端"}},[t._v(".NET瘦客户端")]),t._v("。")],1)]),t._v(" "),s("ol",[s("li",[t._v("安装.NET Core SDK（版本2+），"),s("a",{attrs:{href:"https://dotnet.microsoft.com/download",target:"_self",rel:"noopener noreferrer"}},[t._v("https://dotnet.microsoft.com/download")]),t._v("；")]),t._v(" "),s("li",[t._v("使用命令行（Linux shell，Windows CMD或者PowerShell等）执行下面的2个命令：")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("  > dotnet new console\n")])])]),s("p",[t._v("这会创建一个新的工程，包含了一个带有元数据的项目文件和有代码的.cs文件。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("  > dotnet add package Apache.Ignite\n")])])]),s("p",[t._v("这会修改项目文件"),s("code",[t._v(".csproj")]),t._v("添加依赖。\n3. 使用文本编辑器打开"),s("code",[t._v("Program.cs")]),t._v("，然后替换成下面的内容：")]),t._v(" "),s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("using")]),t._v(" System"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("using")]),t._v(" Apache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Ignite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v("  IgniteTest\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Program")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ignite "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Ignition"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" cache "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ignite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token generic-method"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetOrCreateCache")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my-cache"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello, World"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          Console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("WriteLine")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("保存后运行改程序：")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("> dotnet run\n")])])]),s("p",[t._v("这样就可以了，这时会看到启动了一个节点并且显示了"),s("code",[t._v("Hello, World")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"_2-3-进一步的示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-进一步的示例"}},[t._v("#")]),t._v(" 2.3.进一步的示例")]),t._v(" "),s("ul",[s("li",[t._v("了解"),s("RouterLink",{attrs:{to:"/doc/java/ThinClients.html#_net瘦客户端"}},[t._v(".NET瘦客户端")]),t._v("，这是接入Ignite集群的一个轻量级解决方案；")],1),t._v(" "),s("li",[t._v("在"),s("a",{attrs:{href:"https://github.com/apache/ignite/tree/master/modules/platforms/dotnet/examples",target:"_self",rel:"noopener noreferrer"}},[t._v("这里")]),t._v("可以看到Ignite自带的其他.NET示例；")]),t._v(" "),s("li",[t._v("要了解关于.NET部分的更多介绍，请参见"),s("RouterLink",{attrs:{to:"/doc/java/DotnetSpecific.html"}},[t._v("这里")]),t._v("。")],1)]),t._v(" "),s("h2",{attrs:{id:"_3-c"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-c"}},[t._v("#")]),t._v(" 3.C++")]),t._v(" "),s("p",[t._v("本章节介绍C++环境运行Ignite的系统要求，以及如何安装Ignite，启动一个集群，然后运行一个简单的HelloWorld示例。")]),t._v(" "),s("h3",{attrs:{id:"_3-1-环境要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-环境要求"}},[t._v("#")]),t._v(" 3.1.环境要求")]),t._v(" "),s("p",[t._v("Ignite C++官方在如下环境中进行了测试：")]),t._v(" "),s("ul",[s("li",[t._v("JDK：Oracle JDK8及以上，Open JDK8及以上，IBM JDK8及以上；")]),t._v(" "),s("li",[t._v("OS：WindowsVista，Windows Server2008及以后的版本，Ubuntu（18.04 64位）；")]),t._v(" "),s("li",[t._v("网络：没有限制（建议10G甚至更快的网络带宽）；")]),t._v(" "),s("li",[t._v("硬件：没有限制；")]),t._v(" "),s("li",[t._v("C++编译器：MS Visual C (10.0及以后), g (4.4.0及以后)；")]),t._v(" "),s("li",[t._v("Visual Studio：2010及以后。")])]),t._v(" "),s("h3",{attrs:{id:"_3-2-安装ignite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-安装ignite"}},[t._v("#")]),t._v(" 3.2.安装Ignite")]),t._v(" "),s("ul",[s("li",[t._v("下载最新版本的"),s("a",{attrs:{href:"https://ignite.apache.org/download.cgi#binaries",target:"_self",rel:"noopener noreferrer"}},[t._v("Ignite压缩包")]),t._v("；")]),t._v(" "),s("li",[t._v("将该包解压到操作系统的一个文件夹；")]),t._v(" "),s("li",[t._v("（可选）启用必要的"),s("RouterLink",{attrs:{to:"/doc/java/SettingUp.html#_2-7-启用模块"}},[t._v("模块")]),t._v("；")],1),t._v(" "),s("li",[t._v("（可选）配置"),s("code",[t._v("IGNITE_HOME")]),t._v("环境变量或者Windows的"),s("code",[t._v("PATH")]),t._v("指向Ignite的安装文件夹，路径不要以"),s("code",[t._v("/")]),t._v("（Windows为"),s("code",[t._v("\\")]),t._v("）结尾。")])]),t._v(" "),s("h3",{attrs:{id:"_3-3-启动ignite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-启动ignite"}},[t._v("#")]),t._v(" 3.3.启动Ignite")]),t._v(" "),s("p",[t._v("可以从命令行启动Ignite集群，或者使用默认的配置，或者传入一个自定义配置文件，可以同时启动任意多个节点，他们都会自动地相互发现。")]),t._v(" "),s("p",[t._v("在命令行中转到Ignite安装文件夹的"),s("code",[t._v("bin")]),t._v("目录：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("IGNITE_HOME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/bin/\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("cd")]),t._v(" {IGNITE_HOME}\\bin\\")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("向下面这样，将一个自定义配置文件作为参数传递给"),s("code",[t._v("ignite.sh|bat")]),t._v("，然后启动一个节点：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./ignite.sh "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/examples/config/example-ignite.xml\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ignite")]),t._v(".bat ..\\examples\\config\\example-ignite.xml")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("输出大致如下：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[08:53:45] Ignite node started OK (id=7b30bc8e)\n[08:53:45] Topology snapshot [ver=1, locNode=7b30bc8e, servers=1, clients=0, state=ACTIVE, CPUs=4, offheap=1.6GB, heap=2.0GB]\n")])])]),s("p",[t._v("再次开启一个终端然后执行和前述同样的命令：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./ignite.sh "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/examples/config/example-ignite.xml\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ignite")]),t._v(".bat ..\\examples\\config\\example-ignite.xml")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("这时再次看下输出，注意包含"),s("code",[t._v("Topology snapshot")]),t._v("的行，就会发现集群中有了2个服务端节点，同时集群中可用的CPU和内存也会更多：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[08:54:34] Ignite node started OK (id=3a30b7a4)\n[08:54:34] Topology snapshot [ver=2, locNode=3a30b7a4, servers=2, clients=0, state=ACTIVE, CPUs=4, offheap=3.2GB, heap=4.0GB]\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("默认配置")]),t._v(" "),s("p",[s("code",[t._v("ignite.sh|bat")]),t._v("默认会使用"),s("code",[t._v("config/default-config.xml")]),t._v("这个配置文件启动节点。")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("IgniteC++支持胖客户端和瘦客户端，本章节会聚焦瘦客户端，可以运行下面的示例，接入之前启动的Java版本的集群。")])]),t._v(" "),s("p",[t._v("集群启动之后，就可以使用Ignite C++瘦客户端执行缓存操作（比如读写数据，执行SQL等）。")]),t._v(" "),s("h3",{attrs:{id:"_3-4-ignite和c-入门"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-ignite和c-入门"}},[t._v("#")]),t._v(" 3.4.Ignite和C++入门")]),t._v(" "),s("p",[t._v("Ignite附带了强大的C++客户端，要入门Ignite和C++，首先要熟悉如何构建C++应用。")]),t._v(" "),s("ol",[s("li",[t._v("安装"),s("code",[t._v("openssl")]),t._v("并将其加入PATH；")]),t._v(" "),s("li",[t._v("事先要下载并安装好"),s("a",{attrs:{href:"https://ignite.apache.org/docs/latest/quick-start/cpp#installing-ignite",target:"_self",rel:"noopener noreferrer"}},[t._v("Apache Ignite")]),t._v("；")]),t._v(" "),s("li",[t._v("转到"),s("code",[t._v("{IGNITE_HOME}/platforms/cpp/project/vs")]),t._v("文件夹；")]),t._v(" "),s("li",[t._v("启动相应的Visual Studio方案文件（"),s("code",[t._v("ignite.sln")]),t._v("对应于64位）；")]),t._v(" "),s("li",[t._v("构建该方案。")])]),t._v(" "),s("p",[t._v("到这，就可以创建自己的代码，或运行"),s("code",[t._v("{IGNITE_HOME}/platforms/cpp/examples/project/vs")]),t._v("目录中已有的示例了。")]),t._v(" "),s("p",[s("code",[t._v("{IGNITE_HOME}/platforms/cpp")]),t._v("文件夹中的"),s("code",[t._v("readme.txt")]),t._v("和"),s("code",[t._v("DEVNOTES.txt")]),t._v("文件中包含有关如何为构建，测试和使用C++版本GGCE的更多信息。")]),t._v(" "),s("p",[t._v("有关C++瘦客户端的信息，请参见"),s("RouterLink",{attrs:{to:"/doc/java/ThinClients.html#_4-c-瘦客户端"}},[t._v("C++瘦客户端")]),t._v("。")],1),t._v(" "),s("h3",{attrs:{id:"_3-5-unix下的c"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-unix下的c"}},[t._v("#")]),t._v(" 3.5.Unix下的C++")]),t._v(" "),s("p",[t._v("在Unix系统中，可以使用命令行来构建和运行Ignite二进制包中包含的示例代码。")]),t._v(" "),s("h4",{attrs:{id:"_3-5-1-环境要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-1-环境要求"}},[t._v("#")]),t._v(" 3.5.1.环境要求")]),t._v(" "),s("p",[t._v("需要安装如下的包：")]),t._v(" "),s("ul",[s("li",[t._v("C++编译器；")]),t._v(" "),s("li",[t._v("cmake 3.6+；")]),t._v(" "),s("li",[t._v("JDK；")]),t._v(" "),s("li",[t._v("openssl，包括头文件；")]),t._v(" "),s("li",[t._v("unixODBC。")])]),t._v(" "),s("p",[t._v("针对一些流行的发行版的安装介绍，列在了下面：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Ubuntu18.04/20.04"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y build-essential cmake openjdk-11-jdk unixodbc-dev libssl-dev\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"CentOS/RHEL7"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y epel-release\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y java-11-openjdk-devel cmake3 unixODBC-devel openssl-devel "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" gcc-c++\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"CentOS/RHEL8"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y java-11-openjdk-devel cmake3 unixODBC-devel openssl-devel "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" gcc-c++\n")])])])])],1),t._v(" "),s("h4",{attrs:{id:"_3-5-2-构建ignitec"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-2-构建ignitec"}},[t._v("#")]),t._v(" 3.5.2.构建IgniteC++")]),t._v(" "),s("ul",[s("li",[t._v("下载并解压Ignite二进制包，并将生成的目录定义为"),s("code",[t._v("${IGNITE_HOME}")]),t._v("；")]),t._v(" "),s("li",[t._v("为CMake创建一个构建目录，将其定义为"),s("code",[t._v("${CPP_BUILD_DIR}")]),t._v("；")]),t._v(" "),s("li",[t._v("通过执行以下命令来构建和安装Ignite C++：")])]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Ubuntu"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${CPP_BUILD_DIR}")]),t._v("\ncmake -DCMAKE_BUILD_TYPE"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Release -DWITH_ODBC"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ON -DWITH_THIN_CLIENT"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ON "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${IGNITE_HOME}")]),t._v("/platforms/cpp\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"CentOS/RHEL"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${CPP_BUILD_DIR}")]),t._v("\ncmake3 -DCMAKE_BUILD_TYPE"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Release -DWITH_ODBC"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ON -DWITH_THIN_CLIENT"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ON "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${IGNITE_HOME}")]),t._v("/platforms/cpp\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("构建和运行胖客户端示例：")]),t._v(" "),s("ul",[s("li",[t._v("为cmake创建一个构建目录，并将其定义为"),s("code",[t._v("${CPP_EXAMPLES_BUILD_DIR}")]),t._v("；")]),t._v(" "),s("li",[t._v("通过下面的命令构建示例代码：")])]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Ubuntu"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${CPP_EXAMPLES_BUILD_DIR}")]),t._v("\ncmake -DCMAKE_BUILD_TYPE"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Release "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${IGNITE_HOME}")]),t._v("/platforms/cpp/examples "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ./put-get-example\n./ignite-put-get-example\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"CentOS/RHEL"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${CPP_EXAMPLES_BUILD_DIR}")]),t._v("\ncmake3 -DCMAKE_BUILD_TYPE"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Release "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${IGNITE_HOME}")]),t._v("/platforms/cpp/examples "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ./put-get-example\n./ignite-put-get-example\n")])])])])],1),t._v(" "),s("h3",{attrs:{id:"_3-6-进一步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-进一步"}},[t._v("#")]),t._v(" 3.6.进一步")]),t._v(" "),s("ul",[s("li",[t._v("了解"),s("RouterLink",{attrs:{to:"/doc/java/ThinClients.html#_c-瘦客户端"}},[t._v("C++瘦客户端")]),t._v("，这是接入Ignite集群的一个轻量级解决方案；")],1),t._v(" "),s("li",[t._v("在"),s("a",{attrs:{href:"https://github.com/apache/ignite/tree/master/modules/platforms/cpp/examples",target:"_self",rel:"noopener noreferrer"}},[t._v("这里")]),t._v("可以看到Ignite自带的其他C++示例；")]),t._v(" "),s("li",[t._v("要了解关于C++部分的更多介绍，请参见"),s("RouterLink",{attrs:{to:"/doc/java/CppSpecific.html"}},[t._v("这里")]),t._v("。")],1)]),t._v(" "),s("h2",{attrs:{id:"_4-python"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-python"}},[t._v("#")]),t._v(" 4.Python")]),t._v(" "),s("p",[t._v("本章节介绍运行Ignite的系统要求，如何安装，启动一个集群，然后使用"),s("RouterLink",{attrs:{to:"/doc/java/ThinClients.html#_5-python瘦客户端"}},[t._v("Python瘦客户端")]),t._v("运行一个简单的HelloWorld示例。")],1),t._v(" "),s("p",[t._v("瘦客户端是一个轻量级的Ignite连接模式，它不参与集群，不持有数据，也不执行计算，只是与一个或者多个Ignite节点之间建立套接字连接然后通过这些节点执行各种操作。")]),t._v(" "),s("h3",{attrs:{id:"_4-1-环境要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-环境要求"}},[t._v("#")]),t._v(" 4.1.环境要求")]),t._v(" "),s("p",[t._v("Apache Ignite官方在如下环境中进行了测试：")]),t._v(" "),s("ul",[s("li",[t._v("JDK：Oracle JDK8及以上，Open JDK8及以上，IBM JDK8及以上；")]),t._v(" "),s("li",[t._v("OS：Linux（任何版本），Mac OS X（10.6及以上），Windows(XP及以上)，Windows Server（2008及以上），Oracle Solaris；")]),t._v(" "),s("li",[t._v("网络：没有限制（建议10G甚至更快的网络带宽）；")]),t._v(" "),s("li",[t._v("架构：x86，x64，SPARC，PowerPC；")]),t._v(" "),s("li",[t._v("Python：版本3.4.0及以上。")])]),t._v(" "),s("h3",{attrs:{id:"_4-2-安装ignite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-安装ignite"}},[t._v("#")]),t._v(" 4.2.安装Ignite")]),t._v(" "),s("p",[t._v("Ignite入门的最简单方式是使用每次版本发布生成的二进制压缩包：")]),t._v(" "),s("ul",[s("li",[t._v("下载最新版本的"),s("a",{attrs:{href:"https://ignite.apache.org/download.cgi#binaries",target:"_self",rel:"noopener noreferrer"}},[t._v("Ignite压缩包")]),t._v("；")]),t._v(" "),s("li",[t._v("将该包解压到操作系统的一个文件夹；")]),t._v(" "),s("li",[t._v("（可选）启用必要的"),s("RouterLink",{attrs:{to:"/doc/java/SettingUp.html#_2-7-启用模块"}},[t._v("模块")]),t._v("；")],1),t._v(" "),s("li",[t._v("（可选）配置"),s("code",[t._v("IGNITE_HOME")]),t._v("环境变量或者Windows的"),s("code",[t._v("PATH")]),t._v("指向Ignite的安装文件夹，路径不要以"),s("code",[t._v("/")]),t._v("（Windows为"),s("code",[t._v("\\")]),t._v("）结尾。")])]),t._v(" "),s("p",[t._v("完成之后，执行如下命令安装Python的瘦客户端包，该客户端缩写为"),s("code",[t._v("pyignite")]),t._v("。")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"pip3"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("pip3 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" pyignite\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"pip"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("pip "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" pyignite\n")])])])])],1),t._v(" "),s("h3",{attrs:{id:"_4-3-启动ignite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-启动ignite"}},[t._v("#")]),t._v(" 4.3.启动Ignite")]),t._v(" "),s("p",[t._v("在使用Python瘦客户端接入Ignite之前，至少要启动一个Ignite集群节点。")]),t._v(" "),s("p",[t._v("可以从命令行启动Ignite集群，或者使用默认的配置，或者传入一个自定义配置文件，可以同时启动任意多个节点，他们都会自动地相互发现。")]),t._v(" "),s("p",[t._v("在命令行中转到Ignite安装文件夹的"),s("code",[t._v("bin")]),t._v("目录：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("IGNITE_HOME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/bin/\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("cd")]),t._v(" {IGNITE_HOME}\\bin\\")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("向下面这样，将一个自定义配置文件作为参数传递给"),s("code",[t._v("ignite.sh|bat")]),t._v("，然后启动一个节点：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./ignite.sh "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/examples/config/example-ignite.xml\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ignite")]),t._v(".bat ..\\examples\\config\\example-ignite.xml")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("输出大致如下：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[08:53:45] Ignite node started OK (id=7b30bc8e)\n[08:53:45] Topology snapshot [ver=1, locNode=7b30bc8e, servers=1, clients=0, state=ACTIVE, CPUs=4, offheap=1.6GB, heap=2.0GB]\n")])])]),s("p",[t._v("再次开启一个终端然后执行和前述同样的命令：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./ignite.sh "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/examples/config/example-ignite.xml\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ignite")]),t._v(".bat ..\\examples\\config\\example-ignite.xml")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("这时再次看下输出，注意包含"),s("code",[t._v("Topology snapshot")]),t._v("的行，就会发现集群中有了2个服务端节点，同时集群中可用的CPU和内存也会更多：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[08:54:34] Ignite node started OK (id=3a30b7a4)\n[08:54:34] Topology snapshot [ver=2, locNode=3a30b7a4, servers=2, clients=0, state=ACTIVE, CPUs=4, offheap=3.2GB, heap=4.0GB]\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("默认配置")]),t._v(" "),s("p",[s("code",[t._v("ignite.sh|bat")]),t._v("默认会使用"),s("code",[t._v("config/default-config.xml")]),t._v("这个配置文件启动节点。")])]),t._v(" "),s("h3",{attrs:{id:"_4-4-运行第一个应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-运行第一个应用"}},[t._v("#")]),t._v(" 4.4.运行第一个应用")]),t._v(" "),s("p",[t._v("集群启动之后，就可以使用Ignite的Python瘦客户端执行各种缓存操作了。")]),t._v(" "),s("p",[t._v("假定服务端节点就在本地运行，下面的HelloWorld程序会对缓存进行数据的读写。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" pyignite "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Client\n\nclient "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Client"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nclient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("connect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'127.0.0.1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10800")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Create cache")]),t._v("\nmy_cache "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" client"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("create_cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my cache'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Put value in cache")]),t._v("\nmy_cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("put"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello World'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Get value from cache")]),t._v("\nresult "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" my_cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("如果要运行，可以将这段文本保存为一个文本章节件（比如hello.py），然后在命令行中使用如下命令运行：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("python3 hello.py\n")])])]),s("p",[t._v("或者可以在Python解释器/终端（比如Windows中的IDLE）中输入这个示例，然后在哪里修改/执行。")]),t._v(" "),s("h3",{attrs:{id:"_4-5-进一步的示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-进一步的示例"}},[t._v("#")]),t._v(" 4.5.进一步的示例")]),t._v(" "),s("p",[t._v("在"),s("a",{attrs:{href:"https://github.com/apache/ignite/tree/master/modules/platforms/python/examples",target:"_self",rel:"noopener noreferrer"}},[t._v("这里")]),t._v("可以看到Ignite自带的其他Python示例。")]),t._v(" "),s("h2",{attrs:{id:"_5-node-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-node-js"}},[t._v("#")]),t._v(" 5.Node.js")]),t._v(" "),s("p",[t._v("本章节介绍运行Ignite的系统要求，如何安装，启动一个集群，然后使用"),s("RouterLink",{attrs:{to:"/doc/java/ThinClients.html#_7-node-js瘦客户端"}},[t._v("Node.js瘦客户端")]),t._v("运行一个简单的HelloWorld示例。")],1),t._v(" "),s("p",[t._v("瘦客户端是一个轻量级的Ignite连接模式，它不参与集群，不持有数据，也不执行计算，只是与一个或者多个Ignite节点之间建立套接字连接然后通过这些节点执行各种操作。")]),t._v(" "),s("h3",{attrs:{id:"_5-1-环境要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-环境要求"}},[t._v("#")]),t._v(" 5.1.环境要求")]),t._v(" "),s("p",[t._v("Apache Ignite官方在如下环境中进行了测试：")]),t._v(" "),s("ul",[s("li",[t._v("JDK：Oracle JDK8及以上，Open JDK8及以上，IBM JDK8及以上；")]),t._v(" "),s("li",[t._v("OS：Linux（任何版本），Mac OS X（10.6及以上），Windows(XP及以上)，Windows Server（2008及以上），Oracle Solaris；")]),t._v(" "),s("li",[t._v("网络：没有限制（建议10G甚至更快的网络带宽）；")]),t._v(" "),s("li",[t._v("架构：x86，x64，SPARC，PowerPC；")]),t._v(" "),s("li",[t._v("Node.js：要求版本8.0及以上，可以下载适用目标主机的二进制包，也可以通过包管理器安装Node.js。")])]),t._v(" "),s("h3",{attrs:{id:"_5-2-安装ignite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-安装ignite"}},[t._v("#")]),t._v(" 5.2.安装Ignite")]),t._v(" "),s("p",[t._v("Ignite入门的最简单方式是使用每次版本发布生成的二进制压缩包：")]),t._v(" "),s("ul",[s("li",[t._v("下载最新版本的"),s("a",{attrs:{href:"https://ignite.apache.org/download.cgi#binaries",target:"_self",rel:"noopener noreferrer"}},[t._v("Ignite压缩包")]),t._v("；")]),t._v(" "),s("li",[t._v("将该包解压到操作系统的一个文件夹；")]),t._v(" "),s("li",[t._v("（可选）启用必要的"),s("RouterLink",{attrs:{to:"/doc/java/SettingUp.html#_2-7-启用模块"}},[t._v("模块")]),t._v("；")],1),t._v(" "),s("li",[t._v("（可选）配置"),s("code",[t._v("IGNITE_HOME")]),t._v("环境变量或者Windows的"),s("code",[t._v("PATH")]),t._v("指向Ignite的安装文件夹，路径不要以"),s("code",[t._v("/")]),t._v("（Windows为"),s("code",[t._v("\\")]),t._v("）结尾。")])]),t._v(" "),s("p",[t._v("完成之后，执行如下命令安装Node.js的瘦客户端包：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g apache-ignite-client\n")])])]),s("h3",{attrs:{id:"_5-3-启动ignite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-启动ignite"}},[t._v("#")]),t._v(" 5.3.启动Ignite")]),t._v(" "),s("p",[t._v("在使用Node.js瘦客户端接入Ignite之前，至少要启动一个Ignite集群节点。")]),t._v(" "),s("p",[t._v("可以从命令行启动Ignite集群，或者使用默认的配置，或者传入一个自定义配置文件，可以同时启动任意多个节点，他们都会自动地相互发现。")]),t._v(" "),s("p",[t._v("在命令行中转到Ignite安装文件夹的"),s("code",[t._v("bin")]),t._v("目录：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("IGNITE_HOME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/bin/\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("cd")]),t._v(" {IGNITE_HOME}\\bin\\")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("向下面这样，将一个自定义配置文件作为参数传递给"),s("code",[t._v("ignite.sh|bat")]),t._v("，然后启动一个节点：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./ignite.sh "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/examples/config/example-ignite.xml\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ignite")]),t._v(".bat ..\\examples\\config\\example-ignite.xml")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("输出大致如下：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[08:53:45] Ignite node started OK (id=7b30bc8e)\n[08:53:45] Topology snapshot [ver=1, locNode=7b30bc8e, servers=1, clients=0, state=ACTIVE, CPUs=4, offheap=1.6GB, heap=2.0GB]\n")])])]),s("p",[t._v("再次开启一个终端然后执行和前述同样的命令：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./ignite.sh "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/examples/config/example-ignite.xml\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ignite")]),t._v(".bat ..\\examples\\config\\example-ignite.xml")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("这时再次看下输出，注意包含"),s("code",[t._v("Topology snapshot")]),t._v("的行，就会发现集群中有了2个服务端节点，同时集群中可用的CPU和内存也会更多：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[08:54:34] Ignite node started OK (id=3a30b7a4)\n[08:54:34] Topology snapshot [ver=2, locNode=3a30b7a4, servers=2, clients=0, state=ACTIVE, CPUs=4, offheap=3.2GB, heap=4.0GB]\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("默认配置")]),t._v(" "),s("p",[s("code",[t._v("ignite.sh|bat")]),t._v("默认会使用"),s("code",[t._v("config/default-config.xml")]),t._v("这个配置文件启动节点。")])]),t._v(" "),s("h3",{attrs:{id:"_5-4-运行第一个应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-运行第一个应用"}},[t._v("#")]),t._v(" 5.4.运行第一个应用")]),t._v(" "),s("p",[t._v("集群启动之后，就可以通过Ignite的Node.js瘦客户端执行各种缓存操作，在"),s("code",[t._v("{ignite_nodejs_dir}/platforms/nodejs/examples")]),t._v("文件夹中包含了若干直接就可以运行的Node.js示例，比如：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("IGNITE_HOME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/platforms/nodejs/examples\nnode CachePutGetExample.js\n")])])]),s("p",[t._v("假定服务端节点就在本地运行，而且完成了前述的各项准备工作，下面就是一个简单的对缓存进行数据读写的HelloWorld示例。如果遵照了前述的介绍，然后将该示例代码放到了"),s("code",[t._v("examples")]),t._v("文件夹，就可以了。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" IgniteClient "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'apache-ignite-client'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" IgniteClientConfiguration "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" IgniteClient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("IgniteClientConfiguration"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ObjectType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" IgniteClient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ObjectType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" CacheEntry "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" IgniteClient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CacheEntry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("performCacheKeyValueOperations")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" igniteClient "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IgniteClient")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" igniteClient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IgniteClientConfiguration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'127.0.0.1:10800'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cache "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" igniteClient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOrCreateCache")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myCache'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setKeyType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ObjectType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PRIMITIVE_TYPE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("INTEGER")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// put and get value")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello World'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        igniteClient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("disconnect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("performCacheKeyValueOperations")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"_5-5-下一步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-下一步"}},[t._v("#")]),t._v(" 5.5.下一步")]),t._v(" "),s("p",[t._v("要进一步了解，"),s("RouterLink",{attrs:{to:"/doc/java/ThinClients.html#_7-node-js瘦客户端"}},[t._v("Node.js瘦客户端")]),t._v("有更多的介绍。")],1),t._v(" "),s("h2",{attrs:{id:"_6-sql-通过命令行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-sql-通过命令行"}},[t._v("#")]),t._v(" 6.SQL（通过命令行）")]),t._v(" "),s("p",[t._v("如果仅在本地主机启动了一个集群，并且未通过Java程序或者启动IDE注入了一些数据，那么不需要5分钟，就可以通过纯命令行使用SQL进行基本的数据加载和执行一些查询。")]),t._v(" "),s("p",[t._v("要做到这一点，可以使用"),s("code",[t._v("sqlline")]),t._v("工具（位于Ignite二进制包里面的"),s("code",[t._v("/bin")]),t._v("文件夹）。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("此示例仅显示了一种简单的方法，可以快速将数据加载到Ignite中，以进行演示。对于更大的生产级负载，建议用户使用更可靠的数据加载方法（IgniteDataStreamer、Spark、高级SQL等），关于如何从RDBMS加载数据的更多信息，请参见"),s("RouterLink",{attrs:{to:"/doc/java/Persistence.html#_2-外部存储"}},[t._v("外部存储")]),t._v("章节。")],1)]),t._v(" "),s("h3",{attrs:{id:"_6-1-安装ignite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-安装ignite"}},[t._v("#")]),t._v(" 6.1.安装Ignite")]),t._v(" "),s("p",[t._v("Ignite入门的最简单方式是使用每次版本发布生成的二进制压缩包：")]),t._v(" "),s("ul",[s("li",[t._v("下载最新版本的"),s("a",{attrs:{href:"https://ignite.apache.org/download.cgi#binaries",target:"_self",rel:"noopener noreferrer"}},[t._v("Ignite压缩包")]),t._v("；")]),t._v(" "),s("li",[t._v("将该包解压到操作系统的一个文件夹；")]),t._v(" "),s("li",[t._v("（可选）启用必要的"),s("RouterLink",{attrs:{to:"/doc/java/SettingUp.html#_2-7-启用模块"}},[t._v("模块")]),t._v("；")],1),t._v(" "),s("li",[t._v("（可选）配置"),s("code",[t._v("IGNITE_HOME")]),t._v("环境变量或者Windows的"),s("code",[t._v("PATH")]),t._v("指向Ignite的安装文件夹，路径不要以"),s("code",[t._v("/")]),t._v("（Windows为"),s("code",[t._v("\\")]),t._v("）结尾。")])]),t._v(" "),s("p",[t._v("完成之后，执行如下命令安装Node.js的瘦客户端包：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g apache-ignite-client\n")])])]),s("h3",{attrs:{id:"_6-2-运行ignite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-运行ignite"}},[t._v("#")]),t._v(" 6.2.运行Ignite")]),t._v(" "),s("p",[t._v("在使用Node.js瘦客户端接入Ignite之前，至少要启动一个Ignite集群节点。")]),t._v(" "),s("p",[t._v("可以从命令行启动Ignite集群，或者使用默认的配置，或者传入一个自定义配置文件，可以同时启动任意多个节点，他们都会自动地相互发现。")]),t._v(" "),s("p",[t._v("在命令行中转到Ignite安装文件夹的"),s("code",[t._v("bin")]),t._v("目录：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("IGNITE_HOME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/bin/\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("cd")]),t._v(" {IGNITE_HOME}\\bin\\")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("向下面这样，将一个自定义配置文件作为参数传递给"),s("code",[t._v("ignite.sh|bat")]),t._v("，然后启动一个节点：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./ignite.sh "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/examples/config/example-ignite.xml\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ignite")]),t._v(".bat ..\\examples\\config\\example-ignite.xml")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("输出大致如下：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[08:53:45] Ignite node started OK (id=7b30bc8e)\n[08:53:45] Topology snapshot [ver=1, locNode=7b30bc8e, servers=1, clients=0, state=ACTIVE, CPUs=4, offheap=1.6GB, heap=2.0GB]\n")])])]),s("p",[t._v("再次开启一个终端然后执行和前述同样的命令：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./ignite.sh "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/examples/config/example-ignite.xml\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ignite")]),t._v(".bat ..\\examples\\config\\example-ignite.xml")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("这时再次看下输出，注意包含"),s("code",[t._v("Topology snapshot")]),t._v("的行，就会发现集群中有了2个服务端节点，同时集群中可用的CPU和内存也会更多：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[08:54:34] Ignite node started OK (id=3a30b7a4)\n[08:54:34] Topology snapshot [ver=2, locNode=3a30b7a4, servers=2, clients=0, state=ACTIVE, CPUs=4, offheap=3.2GB, heap=4.0GB]\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("默认配置")]),t._v(" "),s("p",[s("code",[t._v("ignite.sh|bat")]),t._v("默认会使用"),s("code",[t._v("config/default-config.xml")]),t._v("这个配置文件启动节点。")])]),t._v(" "),s("p",[t._v("这是最基本的启动方法。它在本地计算机上启动一个集群，下面就可以接入集群添加数据了。")]),t._v(" "),s("h3",{attrs:{id:"_6-3-使用sqlline"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-使用sqlline"}},[t._v("#")]),t._v(" 6.3.使用SQLline")]),t._v(" "),s("p",[t._v("使用"),s("code",[t._v("sqlline")]),t._v("工具非常简单，只需要连接某个节点然后输入SQL语句即可。")]),t._v(" "),s("ol",[s("li",[t._v("打开一个命令行终端，转到"),s("code",[t._v("{IGNITE_HOME}\\bin")]),t._v("文件夹；")]),t._v(" "),s("li",[t._v("使用"),s("code",[t._v("sqlline")]),t._v("接入集群：")])]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ ./sqlline.sh -u jdbc:ignite:thin://127.0.0.1/\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[t._v("$ sqlline -u jdbc:ignite:thin://127.0.0.1\n")])])])])],1),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("在"),s("code",[t._v("sqlline")]),t._v("中输入下面两个语句创建两个表：")])]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" City "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id LONG "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VARCHAR")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WITH")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"template=replicated"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" Person "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id LONG"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VARCHAR")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" city_id LONG"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" city_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WITH")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"backups=1, affinityKey=city_id"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("使用下面的语句插入一些数据：")])]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" City "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VALUES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Forest Hill'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" City "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VALUES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Denver'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" City "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VALUES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'St. Petersburg'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" Person "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" city_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VALUES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'John Doe'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" Person "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" city_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VALUES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Jane Roe'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" Person "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" city_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VALUES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Mary Major'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" Person "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" city_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VALUES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Richard Miles'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ol",{attrs:{start:"5"}},[s("li",[t._v("执行一些查询语句：")])]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" City"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--------------------------------+--------------------------------+")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("               ID               "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("              NAME              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--------------------------------+--------------------------------+")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("                              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Forest Hill                    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("                              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Denver                         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("                              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" St"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Petersburg                 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--------------------------------+--------------------------------+")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rows")]),t._v(" selected "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.05")]),t._v(" seconds"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ol",{attrs:{start:"6"}},[s("li",[t._v("执行分布式关联：")])]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" Person p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" City c "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("city_id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--------------------------------+--------------------------------+")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("              NAME              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("              NAME              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--------------------------------+--------------------------------+")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Mary Major                     "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Forest Hill                    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Jane Roe                       "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Denver                         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" John Doe                       "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" St"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Petersburg                 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Richard Miles                  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Denver                         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--------------------------------+--------------------------------+")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rows")]),t._v(" selected "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.011")]),t._v(" seconds"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"_6-4-下一步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-下一步"}},[t._v("#")]),t._v(" 6.4.下一步")]),t._v(" "),s("ul",[s("li",[t._v("关于Ignite和"),s("RouterLink",{attrs:{to:"/doc/java/WorkingwithSQL.html"}},[t._v("SQL")]),t._v("的更多介绍；")],1),t._v(" "),s("li",[t._v("使用"),s("RouterLink",{attrs:{to:"/doc/java/Tools.html#_3-sqlline"}},[t._v("SQLLine")]),t._v("的更多介绍。")],1)]),t._v(" "),s("h2",{attrs:{id:"_7-php"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-php"}},[t._v("#")]),t._v(" 7.PHP")]),t._v(" "),s("p",[t._v("本章节介绍运行Ignite的系统要求，如何安装，启动一个集群，然后使用PHP瘦客户端运行一个简单的HelloWorld示例。")]),t._v(" "),s("p",[t._v("瘦客户端是一个轻量级的Ignite连接模式，它不参与集群，不持有数据，也不执行计算，只是与一个或者多个Ignite节点之间建立套接字连接然后通过这些节点执行各种操作。")]),t._v(" "),s("h3",{attrs:{id:"_7-1-环境要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-环境要求"}},[t._v("#")]),t._v(" 7.1.环境要求")]),t._v(" "),s("p",[t._v("Apache Ignite官方在如下环境中进行了测试：")]),t._v(" "),s("ul",[s("li",[t._v("JDK：Oracle JDK8及以上，Open JDK8及以上，IBM JDK8及以上；")]),t._v(" "),s("li",[t._v("OS：Linux（任何版本），Mac OS X（10.6及以上），Windows(XP及以上)，Windows Server（2008及以上），Oracle Solaris；")]),t._v(" "),s("li",[t._v("网络：没有限制（建议10G甚至更快的网络带宽）；")]),t._v(" "),s("li",[t._v("架构：x86，x64，SPARC，PowerPC；")]),t._v(" "),s("li",[t._v("PHP：版本7.2或者更高，Composer依赖管理器，PHP的Multibyte String扩展。根据PHP的配置，可能还需要其他的安装/配置。")])]),t._v(" "),s("h3",{attrs:{id:"_7-2-安装ignite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-安装ignite"}},[t._v("#")]),t._v(" 7.2.安装Ignite")]),t._v(" "),s("p",[t._v("Ignite入门的最简单方式是使用每次版本发布生成的二进制压缩包：")]),t._v(" "),s("ul",[s("li",[t._v("下载最新版本的"),s("a",{attrs:{href:"https://ignite.apache.org/download.cgi#binaries",target:"_self",rel:"noopener noreferrer"}},[t._v("Ignite压缩包")]),t._v("；")]),t._v(" "),s("li",[t._v("将该包解压到操作系统的一个文件夹；")]),t._v(" "),s("li",[t._v("（可选）启用必要的"),s("RouterLink",{attrs:{to:"/doc/java/SettingUp.html#_2-7-启用模块"}},[t._v("模块")]),t._v("；")],1),t._v(" "),s("li",[t._v("（可选）配置"),s("code",[t._v("IGNITE_HOME")]),t._v("环境变量或者Windows的"),s("code",[t._v("PATH")]),t._v("指向Ignite的安装文件夹，路径不要以"),s("code",[t._v("/")]),t._v("（Windows为"),s("code",[t._v("\\")]),t._v("）结尾。")])]),t._v(" "),s("p",[t._v("完成之后，转到"),s("code",[t._v("{IGNITE_HOME}/platforms/php")]),t._v("，使用下面的命令通过Composer安装Ignite的PHP瘦客户端：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("composer "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --no-dev\n")])])]),s("h3",{attrs:{id:"_7-3-启动ignite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-启动ignite"}},[t._v("#")]),t._v(" 7.3.启动Ignite")]),t._v(" "),s("p",[t._v("在使用PHP瘦客户端接入Ignite之前，至少要启动一个Ignite集群节点。")]),t._v(" "),s("p",[t._v("可以从命令行启动Ignite集群，或者使用默认的配置，或者传入一个自定义配置文件，可以同时启动任意多个节点，他们都会自动地相互发现。")]),t._v(" "),s("p",[t._v("在命令行中转到Ignite安装文件夹的"),s("code",[t._v("bin")]),t._v("目录：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("IGNITE_HOME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/bin/\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("cd")]),t._v(" {IGNITE_HOME}\\bin\\")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("向下面这样，将一个自定义配置文件作为参数传递给"),s("code",[t._v("ignite.sh|bat")]),t._v("，然后启动一个节点：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./ignite.sh "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/examples/config/example-ignite.xml\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ignite")]),t._v(".bat ..\\examples\\config\\example-ignite.xml")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("输出大致如下：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[08:53:45] Ignite node started OK (id=7b30bc8e)\n[08:53:45] Topology snapshot [ver=1, locNode=7b30bc8e, servers=1, clients=0, state=ACTIVE, CPUs=4, offheap=1.6GB, heap=2.0GB]\n")])])]),s("p",[t._v("再次开启一个终端然后执行和前述同样的命令：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./ignite.sh "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/examples/config/example-ignite.xml\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ignite")]),t._v(".bat ..\\examples\\config\\example-ignite.xml")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("这时再次看下输出，注意包含"),s("code",[t._v("Topology snapshot")]),t._v("的行，就会发现集群中有了2个服务端节点，同时集群中可用的CPU和内存也会更多：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[08:54:34] Ignite node started OK (id=3a30b7a4)\n[08:54:34] Topology snapshot [ver=2, locNode=3a30b7a4, servers=2, clients=0, state=ACTIVE, CPUs=4, offheap=3.2GB, heap=4.0GB]\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("默认配置")]),t._v(" "),s("p",[s("code",[t._v("ignite.sh|bat")]),t._v("默认会使用"),s("code",[t._v("config/default-config.xml")]),t._v("这个配置文件启动节点。")])]),t._v(" "),s("h3",{attrs:{id:"_7-4-运行第一个应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-运行第一个应用"}},[t._v("#")]),t._v(" 7.4.运行第一个应用")]),t._v(" "),s("p",[t._v("集群启动之后，就可以使用Ignite的PHP瘦客户端执行各种缓存操作了。在Ignite的二进制包中的"),s("code",[t._v("{IGNITE_HOME}/platforms/php/examples")]),t._v("文件夹，已经包含了一些直接就可以运行的PHP示例，比如：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("IGNITE_HOME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/platforms/php/examples\nphp CachePutGetExample.php\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("cd")]),t._v(" {IGNITE_HOME}\\platforms\\php\\examples")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("php")]),t._v(" CachePutGetExample.php")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("假定服务端节点就在本地运行，而且完成了前述的各项准备工作，下面就是一个简单的对缓存进行数据读写的HelloWorld示例。注意"),s("code",[t._v("require_once")]),t._v("行，确认这个路径是正确的。如果遵照了前述的介绍，然后将该示例代码放到了"),s("code",[t._v("examples")]),t._v("文件夹，就可以了。")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require_once")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("__DIR__")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'/../vendor/autoload.php'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("Apache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Ignite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("Apache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Ignite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ClientConfiguration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("Apache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Ignite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ObjectType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("Apache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Ignite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("CacheEntry")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("Apache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Ignite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Exception"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ClientException")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("performCacheKeyValueOperations")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" void\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Client")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$client")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ClientConfiguration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'127.0.0.1:10800'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$cache")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$client")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOrCreateCache")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'myCache'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setKeyType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ObjectType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("INTEGER")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// put and get value")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$cache")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'Hello World'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$value")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$cache")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ClientException "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMessage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$client")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("disconnect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("performCacheKeyValueOperations")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),s("h3",{attrs:{id:"_7-5-进一步的示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-进一步的示例"}},[t._v("#")]),t._v(" 7.5.进一步的示例")]),t._v(" "),s("p",[t._v("在"),s("RouterLink",{attrs:{to:"/doc/java/ThinClients.html#_6-php瘦客户端"}},[t._v("这里")]),t._v("有关于PHP瘦客户端的更多介绍。")],1),t._v(" "),s("h2",{attrs:{id:"_8-rest-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-rest-api"}},[t._v("#")]),t._v(" 8.REST API")]),t._v(" "),s("p",[t._v("本章节介绍运行Ignite的系统要求，如何安装，启动一个集群，然后使用REST API运行一个简单的HelloWorld示例。")]),t._v(" "),s("h3",{attrs:{id:"_8-1-环境要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-环境要求"}},[t._v("#")]),t._v(" 8.1.环境要求")]),t._v(" "),s("p",[t._v("Apache Ignite官方在如下环境中进行了测试：")]),t._v(" "),s("ul",[s("li",[t._v("JDK：Oracle JDK8及以上，Open JDK8及以上，IBM JDK8及以上；")]),t._v(" "),s("li",[t._v("OS：Linux（任何版本），Mac OS X（10.6及以上），Windows(XP及以上)，Windows Server（2008及以上），Oracle Solaris；")]),t._v(" "),s("li",[t._v("网络：没有限制（建议10G甚至更快的网络带宽）；")]),t._v(" "),s("li",[t._v("架构：x86，x64，SPARC，PowerPC。")])]),t._v(" "),s("h3",{attrs:{id:"_7-2-安装ignite-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-安装ignite-2"}},[t._v("#")]),t._v(" 7.2.安装Ignite")]),t._v(" "),s("p",[t._v("Ignite入门的最简单方式是使用每次版本发布生成的二进制压缩包：")]),t._v(" "),s("ul",[s("li",[t._v("下载最新版本的"),s("a",{attrs:{href:"https://ignite.apache.org/download.cgi#binaries",target:"_self",rel:"noopener noreferrer"}},[t._v("Ignite压缩包")]),t._v("；")]),t._v(" "),s("li",[t._v("将该包解压到操作系统的一个文件夹；")]),t._v(" "),s("li",[t._v("（可选）启用必要的"),s("RouterLink",{attrs:{to:"/doc/java/SettingUp.html#_2-7-启用模块"}},[t._v("模块")]),t._v("；")],1),t._v(" "),s("li",[t._v("（可选）配置"),s("code",[t._v("IGNITE_HOME")]),t._v("环境变量或者Windows的"),s("code",[t._v("PATH")]),t._v("指向Ignite的安装文件夹，路径不要以"),s("code",[t._v("/")]),t._v("（Windows为"),s("code",[t._v("\\")]),t._v("）结尾。")])]),t._v(" "),s("p",[t._v("完成之后，还需要启用Ignite的HTTP连接能力，这时只需要将"),s("code",[t._v("ignite-rest-http")]),t._v("模块从"),s("code",[t._v("{IGNITE_HOME}/libs/optional/")]),t._v("复制到"),s("code",[t._v("{IGNITE_HOME}/libs")]),t._v("即可。")]),t._v(" "),s("h3",{attrs:{id:"_8-3-启动ignite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-启动ignite"}},[t._v("#")]),t._v(" 8.3.启动Ignite")]),t._v(" "),s("p",[t._v("在使用REST API接入Ignite之前，至少要启动一个Ignite集群节点。")]),t._v(" "),s("p",[t._v("可以从命令行启动Ignite集群，或者使用默认的配置，或者传入一个自定义配置文件，可以同时启动任意多个节点，他们都会自动地相互发现。")]),t._v(" "),s("p",[t._v("在命令行中转到Ignite安装文件夹的"),s("code",[t._v("bin")]),t._v("目录：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("IGNITE_HOME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/bin/\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("cd")]),t._v(" {IGNITE_HOME}\\bin\\")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("向下面这样，将一个自定义配置文件作为参数传递给"),s("code",[t._v("ignite.sh|bat")]),t._v("，然后启动一个节点：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./ignite.sh "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/examples/config/example-ignite.xml\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ignite")]),t._v(".bat ..\\examples\\config\\example-ignite.xml")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("输出大致如下：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[08:53:45] Ignite node started OK (id=7b30bc8e)\n[08:53:45] Topology snapshot [ver=1, locNode=7b30bc8e, servers=1, clients=0, state=ACTIVE, CPUs=4, offheap=1.6GB, heap=2.0GB]\n")])])]),s("p",[t._v("再次开启一个终端然后执行和前述同样的命令：")]),t._v(" "),s("Tabs",[s("Tab",{attrs:{title:"Linux"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./ignite.sh "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/examples/config/example-ignite.xml\n")])])])]),t._v(" "),s("Tab",{attrs:{title:"Windows"}},[s("div",{staticClass:"language-batch extra-class"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ignite")]),t._v(".bat ..\\examples\\config\\example-ignite.xml")]),t._v("\n")])])])])],1),t._v(" "),s("p",[t._v("这时再次看下输出，注意包含"),s("code",[t._v("Topology snapshot")]),t._v("的行，就会发现集群中有了2个服务端节点，同时集群中可用的CPU和内存也会更多：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[08:54:34] Ignite node started OK (id=3a30b7a4)\n[08:54:34] Topology snapshot [ver=2, locNode=3a30b7a4, servers=2, clients=0, state=ACTIVE, CPUs=4, offheap=3.2GB, heap=4.0GB]\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("默认配置")]),t._v(" "),s("p",[s("code",[t._v("ignite.sh|bat")]),t._v("默认会使用"),s("code",[t._v("config/default-config.xml")]),t._v("这个配置文件启动节点。")])]),t._v(" "),s("h3",{attrs:{id:"_8-4-运行第一个应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-4-运行第一个应用"}},[t._v("#")]),t._v(" 8.4.运行第一个应用")]),t._v(" "),s("p",[t._v("集群启动之后，就可以使用Ignite的REST API执行各种缓存操作了。")]),t._v(" "),s("p",[t._v("不需要进行任何特殊的配置，因为连接器已经自动地初始化，监听端口为8080。")]),t._v(" "),s("p",[t._v("如果要验证连接器已经就绪，可以使用curl命令：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8080/ignite?cmd=version"')]),t._v("\n")])])]),s("p",[t._v("可以看到如下的消息：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8080/ignite?cmd=version"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"successStatus"')]),t._v(":0,"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"error"')]),t._v(":null,"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sessionToken"')]),t._v(":null,"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"response"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2.9.0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("在结果中可以看到Ignite的版本是2.9.0。")]),t._v(" "),s("p",[t._v("请求参数可以以URL的方式提供，也可以采用表单数据的模式：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:8080/ignite?cmd=put&cacheName=myCache'")]),t._v(" -X POST -H "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type: application/x-www-form-urlencoded'")]),t._v(" -d "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'key=testKey&val=testValue'")]),t._v("\n")])])]),s("p",[t._v("假定服务端节点就在本地运行，下面就是一个简单的示例，该命令创建了一个缓存（myCache），然后通过REST API向缓存写入并读取了字符串"),s("code",[t._v("Hello_World!")]),t._v("：")]),t._v(" "),s("p",[t._v("创建一个缓存：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8080/ignite?cmd=getorcreate&cacheName=myCache"')]),t._v("\n")])])]),s("p",[t._v("向缓存写入数据。默认的数据类型为"),s("code",[t._v("string")]),t._v("，但是可以通过"),s("code",[t._v("keyType")]),t._v("参数指定一个"),s("RouterLink",{attrs:{to:"/doc/java/RESTAPI.html#_2-数据类型"}},[t._v("数据类型")]),t._v("：")],1),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8080/ignite?cmd=put&key=1&val="')]),t._v("Hello_World"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"&cacheName=myCache"')]),t._v("\n")])])]),s("p",[t._v("从缓存获取数据：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8080/ignite?cmd=get&key=1&cacheName=myCache"')]),t._v("\n")])])]),s("p",[t._v("现在已经看到了通过REST API访问Ignite集群的非常基本的示例，还应该注意以下几点：")]),t._v(" "),s("ul",[s("li",[t._v("这是一个非常基本的示例。要了解更多的信息，比如各种API调用的列表，还有比如安全这样更为重要的主题，请参见"),s("RouterLink",{attrs:{to:"/doc/java/RESTAPI.html"}},[t._v("这里")]),t._v("的介绍；")],1),t._v(" "),s("li",[t._v("REST接口可能并不适合所有任务。例如，如果要加载大量数据或以毫秒级的延迟执行关键任务，则应使用某个语言的客户端。")])]),t._v(" "),s("RightPane")],1)}),[],!1,null,null,null);a.default=e.exports}}]);